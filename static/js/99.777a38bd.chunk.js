(this.webpackJsonp=this.webpackJsonp||[]).push([[99],{3121:function(e,t,a){"use strict";var c=a(32),n=a(559),r=a(558),s=a(0),o=function(e){var t=e.children,a=e.footer,o=Object(r.a)();return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(n.a,{alignSelf:"stretch",flex:1,px:4,py:{base:4,sm:8},_contentContainerStyle:{w:"full",maxW:800,mx:"auto"},children:t}),a?Object(s.jsx)(c.a,{mx:4,py:4,mb:o.bottom+"px",children:a}):null]})};o.defaultProps={},t.a=o},3206:function(e,t,a){"use strict";var c=a(110),n=a(79),r=a(0);t.a=function(e){var t=e.enabled,a=e.size;return Object(r.jsx)(c.a,{rounded:"full",size:"lg"===a?"56px":"48px",bgColor:"surface-"+(t?"success":"warning")+"-subdued",children:Object(r.jsx)(n.a,{name:"CloudOutline",size:24,color:"icon-"+(t?"success":"warning")})})}},3728:function(e,t,a){"use strict";a.r(t);var c=a(649),n=a(10),r=a.n(n),s=a(125),o=a(79),i=a(98),l=a(85),d=a(186),u=a(285),b=a(3),j=a.n(b),p=a(32),x=a(70),f=a(110),_=a(326),O=a(1),y=a(508),g=a(25),h=a(43),m=a(176),v=a(42),k=a(3065),B=a(142),w=a(388),C=a(3206),M=a(3121),P=a(0),S=function(){var e=Object(y.a)();return Object(P.jsxs)(p.a,{flexDirection:"row",alignItems:"center",py:"4",children:[Object(P.jsx)(f.a,{rounded:"full",size:"12",bgColor:"surface-neutral-subdued",children:Object(P.jsx)(_.b,{})}),Object(P.jsxs)(p.a,{pl:"1",children:[Object(P.jsx)(x.a,{typography:"Body1Strong",children:e.formatMessage({id:"content__uploading_encrypted_backup"})}),Object(P.jsx)(x.a,{typography:"Body2",color:"text-subdued",children:e.formatMessage({id:"content__uploading_encrypted_backup_desc"})})]})]})},z=function(e){var t=e.lastBackup,a=e.inProgress,c=Object(y.a)(),n=Object(k.a)(),r=h.a.serviceCloudBackup,s=Object(O.useCallback)((function(){Object(w.a)((function(e){return Object(P.jsx)(u.a,{visible:!0,onClose:e,footerButtonProps:{primaryActionTranslationId:"action__disable",secondaryActionTranslationId:"action__dismiss",primaryActionProps:{type:"destructive"},onPrimaryActionPress:function(){var t=j()((function*(){yield r.disableService(),e()}));return function(){return t.apply(this,arguments)}}()},contentProps:{iconName:"CloudOutline",iconType:"success",title:c.formatMessage({id:"dialog__your_wallets_are_backed_up"}),content:c.formatMessage({id:"dialog__your_wallets_are_backed_up_desc"})+"\n\n"+c.formatMessage({id:"dialog__your_wallets_are_backed_up_desc_2"})}})}))}),[c,r]);return a?Object(P.jsx)(S,{}):Object(P.jsxs)(p.a,{flexDirection:"row",alignItems:"center",children:[Object(P.jsx)(C.a,{enabled:!0}),Object(P.jsxs)(p.a,{px:"16px",flex:"1",justifyContent:"center",children:[Object(P.jsx)(x.a,{typography:"Body1Strong",children:c.formatMessage({id:"content__backup_enabled"})}),t>0?Object(P.jsx)(x.a,{mt:1,typography:"Body2",color:"text-subdued",children:n.format(new Date(t),"MMM d, yyyy, HH:mm:ss")}):void 0]}),Object(P.jsx)(d.a,{type:"plain",size:"lg",name:"EllipsisVerticalOutline",circle:!0,onPress:s})]})},D=function(){var e=Object(y.a)(),t=Object(l.a)(),a=h.a.serviceCloudBackup;return Object(P.jsxs)(p.a,{flexDirection:t?"column":"row",children:[Object(P.jsxs)(p.a,{flexDirection:"row",alignItems:"center",flex:1,children:[Object(P.jsx)(C.a,{enabled:!1}),Object(P.jsxs)(p.a,{pl:"2",flex:"1",children:[Object(P.jsx)(x.a,{typography:"Body1Strong",children:e.formatMessage({id:"content__backup_disabled"})}),Object(P.jsx)(x.a,{typography:"Body2",color:"text-subdued",children:e.formatMessage({id:"content__backup_disabled_desc"})})]})]}),Object(P.jsx)(i.a,{onPress:function(){a.enableService()},mt:{base:6,sm:0},size:t?"xl":"base",alignSelf:"center",w:{base:"full",sm:"auto"},children:e.formatMessage({id:"action__backup_to_icloud"})})]})},I=function(){var e=Object(y.a)(),t=Object(m.o)();return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(x.a,{typography:"Body2",color:"text-subdued",pb:2,mt:6,children:e.formatMessage({id:"content__previous_backups_desc"})}),Object(P.jsx)(p.a,{mt:"1",borderRadius:"12",background:"surface-default",borderWidth:1,borderColor:"border-subdued",children:Object(P.jsxs)(s.a,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",px:4,py:4,onPress:function(){t.navigate(B.a.CloudBackupPreviousBackups)},children:[Object(P.jsx)(o.a,{name:"ClockOutline",size:24}),Object(P.jsx)(x.a,{typography:"Body1Strong",flex:"1",numberOfLines:1,px:"3",children:e.formatMessage({id:"content__previous_backups"})}),Object(P.jsx)(o.a,{name:"ChevronRightMini",color:"icon-subdued",size:20})]})})]})};t.default=function(){var e=Object(y.a)(),t=Object(m.o)(),a=h.a.serviceCloudBackup;Object(O.useLayoutEffect)((function(){var a=e.formatMessage({id:"action__backup"});t.setOptions({title:a})}),[t,e]);var n=Object(v.d)((function(e){return e.cloudBackup})),s=n.isAvailable,o=n.enabled,i=n.inProgress,l=n.lastBackup,d=void 0===l?0:l,u=Object(O.useState)(!1),b=r()(u,2),f=b[0],_=b[1];return Object(O.useEffect)((function(){(function(){var e=j()((function*(){var e=yield a.getBackupStatus();_(e.hasPreviousBackups)}));return function(){return e.apply(this,arguments)}})()()}),[a]),Object(P.jsxs)(M.a,{children:[Object(P.jsx)(x.a,{typography:"Heading",mb:4,children:"iCloud"}),s?Object(P.jsxs)(p.a,{children:[o?Object(P.jsx)(z,{lastBackup:d,inProgress:i}):Object(P.jsx)(D,{}),f?Object(P.jsx)(c.a,{visible:f,initial:{opacity:0,translateY:-8},animate:{opacity:1,translateY:0,transition:{duration:150}},children:Object(P.jsx)(I,{})}):void 0]}):Object(P.jsx)(x.a,{typography:"Body2",color:"text-critical",children:e.formatMessage({id:"content__log_in_icloud_to_enable_backup"})}),Object(P.jsx)(p.a,{w:"full",py:"6",children:Object(P.jsx)(p.a,{borderBottomWidth:g.a.hairlineWidth,borderBottomColor:"divider"})}),Object(P.jsx)(x.a,{typography:"Body2",color:"text-subdued",children:e.formatMessage({id:"content__wont_backup"})})]})}}}]);