(this.webpackJsonp=this.webpackJsonp||[]).push([[64,85,109],{3063:function(e,t,r){"use strict";r.d(t,"b",(function(){return l})),r.d(t,"a",(function(){return u}));var n=r(1),i=r(52),o=r(36),c=r(42),a=r(142),s=o.a.eth;function l(){var e=Object(c.l)().networks;return Object(n.useMemo)((function(){return e.find((function(e){return e.id===s}))}),[e])}function u(){var e=Object(i.u)();return Object(n.useCallback)((function(t){var r=t.collection,n=t.networkId,i=t.contractAddress,o=t.title;e.navigate(a.a.NFTMarketCollectionScreen,{networkId:n,contractAddress:i,collection:r,title:o})}),[e])}},3067:function(e,t,r){"use strict";r.d(t,"c",(function(){return f})),r.d(t,"a",(function(){return p}));var n,i=r(2),o=r.n(i),c=r(70),a=r(16),s=r.n(a),l=r(36),u=r(0),d=["prefix","price","networkId","symbol"];function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var f=((n={})[l.a.eth]="ETH",n[l.a.optimism]="ETH",n[l.a.bsc]="BNB",n[l.a.polygon]="MATIC",n[l.a.arbitrum]="ETH",n[l.a.sol]="SOL",n[l.a.avalanche]="AVAX",n);function p(e){var t=e.prefix,r=e.price,n=e.networkId,i=e.symbol,o=null!=i?i:f[null!=n?n:""],c="\u2013";return r&&null!==r&&(c=r+" "+(null!=o?o:"")),t?t+" "+c:""+c}t.b=function(e){var t=e.prefix,r=void 0===t?"":t,n=e.price,i=e.networkId,o=e.symbol,a=s()(e,d);return Object(u.jsx)(c.a,j(j({},a),{},{children:p({prefix:r,price:n,networkId:i,symbol:o})}))}},3077:function(e,t,r){"use strict";var n=r(32),i=r(2),o=r.n(i),c=r(1107),a=r(110),s=r(79),l=r(16),u=r.n(l),d=r(1),b=r(0),j=["verified"];function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.a=Object(d.memo)((function(e){var t=e.verified,r=u()(e,j),i=r.width,o=r.height,l=r.src,f=Object(d.useMemo)((function(){return Object(b.jsx)(a.a,{width:i,height:i,borderRadius:"12px",bgColor:"surface-neutral-subdued",children:Object(b.jsx)(s.a,{name:"ImageBrokenIllus",size:20})})}),[i]);return l&&l.length>0?Object(b.jsxs)(n.a,{width:i,height:o,children:[Object(b.jsx)(c.a,p({preview:!1,skeleton:!0,borderRadius:"12px",fallbackElement:f},r)),!0===t?Object(b.jsx)(n.a,{bgColor:"background-default",position:"absolute",right:"-4px",bottom:"-4px",borderRadius:"full",children:Object(b.jsx)(s.a,{size:16,name:"BadgeCheckMini",color:"icon-success"})}):null]}):f}))},3086:function(e,t,r){"use strict";var n=r(3153);r.d(t,"a",(function(){return n.a}))},3111:function(e,t,r){"use strict";var n;r.d(t,"a",(function(){return n})),function(e){e.SearchModal="SearchModal",e.FilterModal="FilterModal",e.ShareNFTPNLModal="ShareNFTPNLModal",e.CalculatorModal="CalculatorModal",e.MarketPlaceScreen="MarketPlaceScreen"}(n||(n={}))},3113:function(e,t,r){"use strict";r.r(t),r.d(t,"CollectiblesModalRoutes",(function(){return Fe}));var n=r(2),i=r.n(n),o=r(85),c=r(283),a=r(41),s=r(32),l=r(1107),u=r(10),d=r.n(u),b=r(457),j=r(1),f=r(52),p=r(3163),O=r(142),h=r(3207),x=r(0),m=0,g=1,y=2,v=3;var w=function(){var e=Object(o.a)(),t=Object(f.u)(),r=Object(b.a)().screenWidth,n=e?16:20,i=e?r:800,u=e?Math.floor((i-32-n)/2):177,w=e?8:12,P=u-2*w+w+56,S=Object(f.x)().params,k=S.collectible,D=S.network,C=Object(j.useCallback)((function(e){t.navigate(O.c.Modal,{screen:O.b.Collectibles,params:{screen:Fe.NFTDetailModal,params:{asset:e,network:D,isOwner:!0}}})}),[t,D]),M=function(e){var t=[];return null!=e&&e.logoUrl&&(null==e?void 0:e.logoUrl.length)>0&&t.push({viewType:m,data:e.logoUrl}),t.push({viewType:g,data:e.contractName}),t=t.concat(e.assets.map((function(e){return{viewType:v,data:e}})))}(k),I=new p.a((function(e,t){return e!==t})).cloneWithRows(M),A=Object(j.useState)(1e3),_=d()(A,2),T=_[0],B=_[1],E=Object(j.useMemo)((function(){return new p.b((function(e){return M[e].viewType}),(function(e,t){switch(e){case m:t.width=i-32,t.height=k.logoUrl?64:0;break;case g:t.width=i-32,t.height=k.contractName?52:0;break;case y:t.width=i-32,t.height=24+(k.description?T:0);break;case v:t.width=u+n,t.height=P+n;break;default:t.width=0,t.height=0}}))}),[T,i]),L=Object(j.useCallback)((function(e,t,r){var n=t.data;switch(e){case m:return n?Object(x.jsx)(s.a,{alignItems:"center",children:Object(x.jsx)(l.a,{src:n,width:"56px",height:"56px",borderRadius:"28px"})}):null;case g:return Object(x.jsx)(a.h.Heading,{mt:"3",width:"full",textAlign:"center",children:n});case y:return Object(x.jsx)(s.a,{flex:1,children:Object(x.jsx)(a.h.Body2,{color:"text-subdued",onLayout:function(e){B(e.nativeEvent.layout.height)},children:n})});case v:return Object(x.jsx)(h.a,{asset:n,onSelectAsset:C},r);default:return Object(x.jsx)(s.a,{flex:1})}}),[C]);return Object(x.jsx)(c.b,{size:"2xl",footer:null,height:"640px",staticChildrenProps:{flex:1},children:Object(x.jsx)(s.a,{flex:1,children:Object(x.jsx)(p.c,{flex:1,style:{flex:1,width:i,paddingLeft:16,paddingRight:16},dataProvider:I,layoutProvider:E,rowRenderer:L})})})},P=r(426),S=r(98),k=r(125),D=r(79),C=r(3053),M=r(1106),I=r(234),A=r(186),_=r(70),T=r(110),B=r(163),E=r(3),L=r.n(E),z=r(744),N=r(558),W=r(559),R=r(4417),U=r(508),F=r(25),H=r(945),K=r(750),V=r(284),G=r(746),X=r(459),J=r(76),Y=r(42),q=r(19),Q=r(61),Z=r(3225),$=r(55),ee=r.n($),te=r(3320),re=r(3298),ne=r(137),ie=r(91),oe=r(22),ce=r(3297);function ae(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function se(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ae(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var le=function(){var e=L()((function*(e){try{var t=yield ee.a.get(e,{responseType:"arraybuffer",headers:{accept:"image/avif,image/webp,image/apng,image/svg+xml,image/*,*/*;"}}),r=q.Buffer.from(t.data,"binary").toString("base64");return"data:"+t.headers["content-type"]+";base64,"+r}catch(n){return ee.a.post(Object(ie.a)()+"/image/img2base64",{url:e}).then((function(e){return e.data}))}}));return function(t){return e.apply(this,arguments)}}();var ue=function(){var e=L()((function*(e,t,r,n,i,o){var c;if(e){oe.a.hardwareSDK.info("width: "+t+", height: "+r+", originW: "+n+", originH: "+i);var a=n>i,s=n===i,l=[];if(o?l.push({resize:{width:a?void 0:t,height:a?r:void 0}}):l.push({resize:{width:t}}),o&&!s)if(a){var u=function(e,t,r,n){var i=Math.ceil(n/t*e);if(oe.a.hardwareSDK.info("image true width: ",i),oe.a.hardwareSDK.info("image should width: ",r),oe.a.hardwareSDK.info("image true height: ",n),i<=r)return null;var o=Math.ceil(Math.ceil(i/2)-Math.ceil(r/2));return oe.a.hardwareSDK.info("originX: ",o),oe.a.hardwareSDK.info("crop size: height: "+n+", width: "+r+", originX: "+o+", originY: 0"),o}(n,i,t,r);null!==u&&l.push({crop:{height:r,width:t,originX:u,originY:0}})}else{var d=function(e,t,r,n){var i=Math.ceil(r/e*t);if(oe.a.hardwareSDK.info("image true height: ",i),oe.a.hardwareSDK.info("image should height: ",n),oe.a.hardwareSDK.info("image true width: ",r),i<=n)return null;var o=Math.ceil(Math.ceil(i/2)-Math.ceil(n/2));return oe.a.hardwareSDK.info("originY: ",o),oe.a.hardwareSDK.info("crop size: height: "+n+", width: "+r+", , originX: 0, originY: "+o),o}(n,i,t,r);null!==d&&l.push({crop:{height:r,width:t,originX:0,originY:d}})}var b=yield Object(te.a)(e,l,{compress:.9,format:re.b.JPEG,base64:!0});oe.a.hardwareSDK.info("imageResult ====> : ",b);var j=q.Buffer.from(null!=(c=b.base64)?c:"","base64"),f=new Uint8Array(j);return se(se({},b),{},{arrayBuffer:f})}}));return function(t,r,n,i,o,c){return e.apply(this,arguments)}}(),de=function(){var e=L()((function*(e,t){var r,n,i,o,c,a=yield(c=e,new Promise((function(e,t){ne.a.getSize(c,(function(t,r){e({width:t,height:r})}),(function(e){return t(e)}))}))),s=a.width,l=a.height;oe.a.hardwareSDK.info("image size: ",{width:s,height:l});var u=yield le(e);oe.a.hardwareSDK.info(u);var d=yield ue(u,480,800,s,l,!1),b=yield ue(u,238,238,s,l,!0);if(null!=d&&d.arrayBuffer||null!=b&&b.arrayBuffer){oe.a.hardwareSDK.info("nft data byte length: ",Object(ce.a)(null!=(r=null==d||null==(n=d.arrayBuffer)?void 0:n.byteLength)?r:0,3)),oe.a.hardwareSDK.info("nft thumbnail byte length: ",Object(ce.a)(null!=(i=null==b||null==(o=b.arrayBuffer)?void 0:o.byteLength)?i:0,3));var j=se({},t),f=q.Buffer.from(JSON.stringify(j));f.length>2048&&(oe.a.hardwareSDK.info("nft metadata overload 2kb, will ignore subheader: ",f.length),j.subheader="",f=q.Buffer.from(JSON.stringify(j)));var p=Object(Q.bytesToHex)(f);return{resType:Z.ResourceType.Nft,suffix:"jpg",dataHex:Object(Q.bytesToHex)(null==d?void 0:d.arrayBuffer),thumbnailDataHex:Object(Q.bytesToHex)(null==b?void 0:b.arrayBuffer),nftMetaData:p}}}));return function(t,r){return e.apply(this,arguments)}}(),be=r(3197);function je(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var fe=function(e){var t=e.onCollectToTouch,r=Object(j.useMemo)((function(){return[{id:"action__collect_to_touch",onPress:function(){t()},icon:"InboxArrowDownMini"}]}),[t]);return Object(x.jsx)(be.a,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?je(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):je(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({options:r},e))},pe=r(36),Oe=r(14),he=r(15),xe=r(43),me=r(3080),ge=r(151),ye=r(3077),ve=r(3063),we=r(326),Pe=r(3408),Se=function(e){var t=e.url,r=e.size,n=e.poster,i=Object(j.useState)(null),o=d()(i,2),c=o[0],a=o[1],u=Object(j.useState)(),b=d()(u,2),f=b[0],p=b[1],O=Object(j.useState)(null),h=d()(O,2),m=h[0],g=h[1];function y(){return(y=L()((function*(){if(t)if(null===c){var e=yield Pe.a.Sound.createAsync({uri:t}),r=e.sound,n=e.status;a(r),p(n),yield r.playAsync(),g(!0)}else null!=f&&f.isLoaded&&!m&&(yield c.playAsync(),g(!0))}))).apply(this,arguments)}function v(){return(v=L()((function*(){c&&null!=f&&f.isLoaded&&m&&(yield c.pauseAsync(),g(!1))}))).apply(this,arguments)}var w=Object(j.useCallback)(L()((function*(){if(null===c&&t){var e=yield Pe.a.Sound.createAsync({uri:t}),r=e.sound,n=e.status;a(r),p(n),g(!1)}})),[t,c]);return Object(j.useEffect)((function(){w()}),[w]),Object(j.useEffect)((function(){return function(){c&&c.stopAsync()}}),[c]),Object(x.jsxs)(s.a,{size:r+"px",children:[Object(x.jsx)(l.a,{src:n,width:r,height:r}),Object(x.jsx)(T.a,{position:"absolute",bottom:0,right:0,size:"96px",children:null===m?Object(x.jsx)(we.b,{size:"sm"}):Object(x.jsx)(k.a,{onPress:function(){m?function(){v.apply(this,arguments)}():function(){y.apply(this,arguments)}()},children:Object(x.jsx)(D.a,{name:m?"PauseMini":"PlayMini",size:53,color:"text-on-primary"})})})]})},ke=r(3219),De=r(298),Ce=r.n(De);function Me(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var Ie,Ae=function(e){var t=Object.assign({},(Ce()(e),e)),r=t.url,n=t.size,i=!(null!=r&&r.startsWith("data:image/svg+xml"));return Object(x.jsx)(T.a,{size:n,borderRadius:"20px",overflow:"hidden",children:Object(x.jsx)(l.a,{width:n+"px",height:n+"px",resizeMode:"contain",skeleton:!0,src:i?r:void 0,source:i?void 0:{uri:r}})})},_e=function(e){var t=Object.assign({},(Ce()(e),e));return Object(x.jsx)(Ae,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Me(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Me(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t))},Te=r(3394),Be=r.n(Te),Ee=function(e){var t=e.url,r=e.size;return Object(x.jsx)(s.a,{size:r+"px",children:Object(x.jsx)(Be.a,{width:r,height:r,url:t,loop:!0,playing:!0,controls:!0,muted:!0})})},Le=r(3075);function ze(e){return"image/jpeg"===e||"image/gif"===e||"image/png"===e||"image/jpg"===e?Ie.Image:"image/svg"===e||"image/svg+xml"===e?Ie.SVG:"video/mp4"===e?Ie.Video:"audio/wav"===e||"audio/mpeg"===e?Ie.Audio:"model/gltf-binary"===e||"model/gltf+json"===e?Ie.UnSupport:void 0}function Ne(e){var t=e.image.source,r=Object(j.useState)(function(e){var t=e.contentType,r=e.contentUri;return null!=r&&r.startsWith("data:image/svg+xml")||null!=r&&r.startsWith("<svg")?Ie.SVG:t?ze(t):void 0}(e)),n=d()(r,2),i=n[0],o=n[1],c=Object(j.useCallback)(L()((function*(){var t=Object(X.f)(e);if(t){var r,n=yield ee.a.head(t,{timeout:1e4}).then((function(e){return e.headers["content-type"]})).catch((function(){return"404"}));if("404"===n)o(Ie.UnSupport);else o(null!=(r=ze(n))?r:Ie.UnSupport)}})),[e]);return Object(j.useEffect)((function(){void 0===i&&c()}),[c,i]),Object(j.useMemo)((function(){return{componentType:i,url:t}}),[i,t])}!function(e){e[e.Image=0]="Image",e[e.Video=1]="Video",e[e.Audio=2]="Audio",e[e.SVG=3]="SVG",e[e.UnSupport=4]="UnSupport"}(Ie||(Ie={}));var We=function(e){var t=e.asset,r=e.size,n=Object(b.a)().screenWidth,i=Object(o.a)()?he.a.isExtension?176:n-32:288;t.nftscanUri&&t.nftscanUri.length>0&&Object(x.jsx)(Le.a,{url:t.nftscanUri,asset:t,thumbnail:!1,size:r||i,skeleton:!0,borderRadius:"12px",resizeMode:"cover",shadow:"depth.5"});var c=Ne(t).componentType,a=Object(X.f)(t);if(a){if(void 0===c)return Object(x.jsx)(M.a,{size:r||i+"px",borderRadius:"12px"});if(c===Ie.Image)return Object(x.jsx)(Le.a,{url:a,asset:t,thumbnail:!1,size:r||i,skeleton:!0,borderRadius:"12px",resizeMode:"cover",shadow:"depth.5"});if(c===Ie.Video)return Object(x.jsx)(Ee,{url:a,size:r||i});if(c===Ie.SVG)return Object(x.jsx)(_e,{url:a,size:r||i});if(c===Ie.Audio){var s=Object(X.g)(t);return Object(x.jsx)(Se,{url:a,size:r||i,poster:s})}}return Object(x.jsx)(ke.a,{contentType:t.contentType,logoUrl:t.collection.logoUrl,size:r||i})};function Re(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ue(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Re(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Fe,He=function(e){var t=e.imageContent,r=e.content;return Object(x.jsxs)(s.a,{flexDirection:"row",children:[t,Object(x.jsx)(W.a,{h:"640px",p:"24px",children:r})]})},Ke=function(e){var t=e.imageContent,r=e.content,n=Object(N.a)().bottom;return Object(x.jsxs)(W.a,{p:"16px",children:[t,Object(x.jsx)(s.a,{mt:"24px",mb:n,children:r})]})},Ve=function(){var e,t,r,n,i=Object(U.a)(),l=Object(K.a)(),u=Object(z.a)().themeVariant,b=Object(Y.c)().wallet,p=Object(f.u)(),h=Object(o.a)(),m=Object(f.x)().params,g=m.network,y=m.asset,v=m.isOwner,w=Object(j.useState)(y),E=d()(w,2),N=E[0],q=E[1],Q=xe.a.serviceNFT,Z=xe.a.serviceHardware,$="image/jpeg"===(n=N.contentType)||"image/jpg"===n||"image/png"===n;N.nftscanUri&&(null==(e=N.nftscanUri)?void 0:e.length)>0&&($=!0),$=!!(N.nftscanUri&&(null==(t=N.nftscanUri)?void 0:t.length)>0),Object(j.useEffect)((function(){L()((function*(){if(g.id)if(g.id===pe.a.sol){var e=yield Q.fetchAsset({chain:g.id,tokenId:y.tokenAddress});e&&q(e)}else{var t=yield Q.fetchAsset({chain:g.id,contractAddress:y.contractAddress,tokenId:y.tokenId,showAttribute:!0});t&&q(t)}}))()}),[y.contractAddress,y.tokenAddress,y.tokenId,g.id,Q]);var ee=g.impl===Oe.C,te=Object(j.useState)(),re=d()(te,2),ne=re[0],ie=re[1];Object(j.useEffect)((function(){L()((function*(){if(g.id&&ee){var e=yield Q.getCollection({chain:g.id,contractAddress:y.contractAddress});e&&ie(e)}}))()}),[y.contractAddress,g.id,Q,ee]);var ce=(null==b?void 0:b.type)===J.e,ae=Object(j.useState)(!1),se=d()(ae,2),le=se[0],ue=se[1],be=Object(j.useState)(!1),je=d()(be,2),we=je[0],Pe=je[1],Se=Object(j.useState)(null),ke=d()(Se,2),De=ke[0],Ce=ke[1];Object(j.useEffect)((function(){L()((function*(){var e;if(b&&"hw"===b.type){var t=yield xe.a.engine.getHWDeviceByWalletId(b.id),r=["image/gif","image/svg","image/png","image/jpeg","image/jpg"].includes(null!=(e=N.contentType)?e:"");ue("touch"===(null==t?void 0:t.deviceType)&&r),Ce(t)}else ue(!1)}))()}),[b,N]);var Me=Object(j.useCallback)(L()((function*(){var e;if(e=N.nftscanUri&&N.nftscanUri.length>0?N.nftscanUri:Object(X.f)(N)){var t;Pe(!0);try{var r;t=yield de(e,{header:N.name&&N.name.length>0?N.name:"#"+N.tokenId,subheader:null!=(r=N.description)?r:"",network:g.name,owner:N.owner}),oe.a.hardwareSDK.info("should upload: ",t)}catch(o){return oe.a.hardwareSDK.info("image operate error: ",o),B.a.show({title:i.formatMessage({id:"msg__image_download_failed"})},{type:"error"}),void Pe(!1)}if(t)try{var n;yield Z.uploadResource(null!=(n=null==De?void 0:De.mac)?n:"",t),B.a.show({title:i.formatMessage({id:"msg__change_saved"})})}catch(o){ge.a.showErrorToast(o)}finally{Pe(!1)}}})),[N,De,i,Z,g]),Ie=Object(ve.a)(),Ae={imageContent:Object(x.jsx)(x.Fragment,{children:h&&he.a.isExtension||he.a.isNativeIOSPad?Object(x.jsxs)(s.a,{overflow:"hidden",mt:"-16px",mr:"-16px",ml:"-16px",children:[$&&Object(x.jsx)(T.a,{position:"absolute",top:0,right:0,bottom:0,left:0,children:Object(x.jsx)(We,{asset:N,size:he.a.isExtension?360:680})}),Object(x.jsx)(R.a,{tint:"light"===u?"light":"dark",intensity:100,style:{alignItems:"center",padding:24},children:Object(x.jsx)(We,{asset:N})})]}):h?Object(x.jsx)(We,{asset:N}):Object(x.jsxs)(s.a,{alignSelf:"stretch",borderLeftRadius:24,mr:"24px",overflow:"hidden",children:[$&&Object(x.jsx)(T.a,{position:"absolute",top:0,right:0,bottom:0,left:0,children:Object(x.jsx)(We,{asset:N,size:he.a.isExtension?360:680})}),Object(x.jsx)(R.a,{tint:"light"===u?"light":"dark",intensity:100,style:{flex:1,alignSelf:"stretch",justifyContent:"center",padding:24},children:Object(x.jsx)(We,{asset:N})})]})}),content:N&&Object(x.jsxs)(P.a,{space:"24px",mb:"50px",children:[Object(x.jsxs)(s.a,{children:[Object(x.jsxs)(I.a,{alignItems:"stretch",justifyContent:"space-between",children:[Object(x.jsx)(_.a,{typography:{sm:"DisplayLarge",md:"DisplayLarge"},fontWeight:"700",children:N.name&&N.name.length>0?N.name:"#"+N.tokenId}),le&&Object(x.jsx)(fe,{onCollectToTouch:Me,children:Object(x.jsx)(A.a,{name:"EllipsisVerticalOutline",size:h?"sm":"xs",type:"basic",circle:!0,borderWidth:F.a.hairlineWidth,borderColor:"border-default",h:{base:34,sm:30},ml:3,mr:{base:0,sm:10},isLoading:we,isDisabled:we})})]}),Object(x.jsxs)(I.a,{space:"8px",mt:"4px",children:[Object(x.jsx)(_.a,{typography:"Body1",color:"text-subdued",children:i.formatMessage({id:"content__last_sale"})}),Object(x.jsx)(_.a,{typography:"Body1Strong",color:"text-subdued",children:N.latestTradePrice&&N.latestTradeSymbol&&N.latestTradePrice+" "+N.latestTradeSymbol||"N/A"})]})]}),ee&&Object(x.jsx)(k.a,{onPress:function(){Ie({networkId:g.id,contractAddress:null==ne?void 0:ne.contractAddress,collection:ne,title:null==ne?void 0:ne.name})},children:function(e){var t,r=e.isHovered,n=e.isPressed;return Object(x.jsxs)(I.a,{px:"16px",py:"12px",rounded:"12px",space:"12px",borderWidth:F.a.hairlineWidth,alignItems:"center",borderColor:"border-default",bgColor:n?"action-secondary-pressed":r?"action-secondary-hovered":"action-secondary-default",children:[ne?Object(x.jsx)(ye.a,{src:ne.logoUrl,width:"40px",height:"40px"}):Object(x.jsx)(M.a,{width:"40px",height:"40px",borderRadius:"12px"}),Object(x.jsxs)(s.a,{flex:1,children:[Object(x.jsx)(_.a,{typography:"Body1Strong",children:N.collection.contractName}),Object(x.jsx)(s.a,{mt:"4px",children:ne?Object(x.jsx)(_.a,{typography:"Body2",color:"text-subdued",children:(null!=(t=null==ne?void 0:ne.itemsTotal)?t:"-")+" Items \u2022 "+i.formatMessage({id:"content__floor"})+" "+(ne.floorPrice?ne.floorPrice+" "+ne.priceSymbol:"-")}):Object(x.jsx)(C.a,{shape:"Body2"})})]}),Object(x.jsx)(D.a,{name:"ChevronRightMini",color:"icon-subdued"})]})}}),v&&Object(x.jsx)(I.a,{space:"16px",children:Object(x.jsx)(S.a,{type:"primary",isDisabled:ce,width:"full",size:"lg",leftIconName:"ArrowUpMini",onPress:function(){var e,t,r,n=Object(Y.a)(),i=n.accountId,o=n.networkId;p.navigate(O.c.Modal,{screen:O.b.Send,params:{screen:me.f.PreSendAddress,params:{accountId:i,networkId:o,isNFT:!0,from:"",to:"",amount:null!=(e=y.amount)?e:"1",token:null!=(t=N.contractAddress)?t:N.tokenAddress,tokenId:null!=(r=N.tokenId)?r:N.tokenAddress,type:N.ercType,closeModal:l}}})},children:i.formatMessage({id:"action__send"})})}),!!N.description&&Object(x.jsx)(a.h.Body2,{color:"text-subdued",children:N.description}),ee&&!(null==(r=N.assetAttributes)||!r.length)&&Object(x.jsxs)(P.a,{space:"16px",children:[Object(x.jsx)(a.h.Heading,{children:i.formatMessage({id:"content__attributes"})}),he.a.isNative?Object(x.jsx)(W.a,{horizontal:!0,showsHorizontalScrollIndicator:!1,mb:"-8px",mx:"-16px",pl:"16px",children:N.assetAttributes.map((function(e,t){return Object(x.jsxs)(s.a,{px:"12px",py:"8px",mr:"8px",mb:"8px",bgColor:"surface-neutral-subdued",borderRadius:"12px",children:[Object(x.jsxs)(I.a,{justifyContent:"space-between",mb:"4px",children:[Object(x.jsx)(a.h.Caption,{mr:"12px",numberOfLines:1,color:"text-subdued",children:e.attribute_name}),Object(x.jsx)(a.h.Caption,{color:"text-success",children:e.percentage})]}),Object(x.jsx)(a.h.Body2Strong,{children:e.attribute_value})]},e.attribute_name+"-"+t)}))}):Object(x.jsx)(s.a,{flexDirection:"row",flexWrap:"wrap",mb:"-8px",mr:"-8px",children:N.assetAttributes.map((function(e,t){return Object(x.jsxs)(s.a,{px:"12px",py:"8px",mr:"8px",mb:"8px",bgColor:"surface-neutral-subdued",borderRadius:"12px",children:[Object(x.jsxs)(I.a,{justifyContent:"space-between",mb:"4px",children:[Object(x.jsx)(a.h.Caption,{mr:"12px",numberOfLines:1,color:"text-subdued",children:e.attribute_name}),Object(x.jsx)(a.h.Caption,{color:"text-success",children:e.percentage})]}),Object(x.jsx)(a.h.Body2Strong,{children:e.attribute_value})]},e.attribute_name+"-"+t)}))})]}),Object(x.jsxs)(s.a,{children:[Object(x.jsx)(a.h.Heading,{mb:"16px",children:i.formatMessage({id:"content__details"})}),Object(x.jsxs)(P.a,{space:"16px",children:[!!N.contractAddress&&Object(x.jsxs)(I.a,{space:"12px",children:[Object(x.jsx)(a.h.Body2Strong,{color:"text-subdued",flex:1,children:i.formatMessage({id:"transaction__contract_address"})}),Object(x.jsxs)(k.a,{flexDirection:"row",onPress:function(){var e;Object(G.a)(null!=(e=N.contractAddress)?e:""),B.a.show({title:i.formatMessage({id:"msg__copied"})})},children:[Object(x.jsx)(a.h.Body2Strong,{mr:"8px",children:Object(V.c)(N.contractAddress,6)}),Object(x.jsx)(D.a,{name:"Square2StackMini",size:20})]})]}),!!N.tokenAddress&&Object(x.jsxs)(I.a,{space:"12px",children:[Object(x.jsx)(a.h.Body2Strong,{color:"text-subdued",flex:1,children:"NFT ID"}),Object(x.jsxs)(k.a,{flexDirection:"row",onPress:function(){var e;Object(G.a)(null!=(e=N.tokenAddress)?e:""),B.a.show({title:i.formatMessage({id:"msg__copied"})})},children:[Object(x.jsx)(a.h.Body2Strong,{mr:"8px",isTruncated:!0,maxW:"160px",children:N.tokenAddress}),Object(x.jsx)(D.a,{name:"Square2StackMini",size:20})]})]}),!!N.tokenId&&Object(x.jsxs)(I.a,{space:"12px",children:[Object(x.jsx)(a.h.Body2Strong,{color:"text-subdued",flex:1,children:"NFT ID"}),Object(x.jsxs)(k.a,{flexDirection:"row",onPress:function(){var e;Object(G.a)(null!=(e=N.tokenId)?e:""),B.a.show({title:i.formatMessage({id:"msg__copied"})})},children:[Object(x.jsx)(a.h.Body2Strong,{mr:"8px",isTruncated:!0,maxW:"160px",children:N.tokenId}),Object(x.jsx)(D.a,{name:"Square2StackMini",size:20})]})]}),!!N.ercType&&Object(x.jsxs)(I.a,{space:"12px",children:[Object(x.jsx)(a.h.Body2Strong,{color:"text-subdued",flex:1,children:i.formatMessage({id:"content__nft_standard"})}),Object(x.jsx)(a.h.Body2Strong,{children:N.ercType})]}),!!g&&Object(x.jsxs)(I.a,{space:"12px",children:[Object(x.jsx)(a.h.Body2Strong,{color:"text-subdued",flex:1,children:i.formatMessage({id:"content__blockchain"})}),Object(x.jsx)(a.h.Body2Strong,{children:g.name})]})]})]})]})};return Object(x.jsxs)(c.b,{size:"2xl",footer:null,headerShown:!1,staticChildrenProps:{p:0,flex:1},children:[Object(x.jsx)(H.a,{position:"absolute",top:he.a.isExtensionUiPopup?"8px":"24px",right:he.a.isExtensionUiPopup?"8px":"24px",zIndex:1,onPress:l}),h||he.a.isNativeIOSPad?Object(x.jsx)(Ke,Ue({},Ae)):Object(x.jsx)(He,Ue({},Ae))]})},Ge=r(560),Xe=r(456);function Je(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}!function(e){e.CollectionModal="CollectionModal",e.NFTDetailModal="NFTDetailModal"}(Fe||(Fe={}));var Ye=Object(Xe.a)(),qe=[{name:Fe.CollectionModal,component:w},{name:Fe.NFTDetailModal,component:Ve}];t.default=function(){var e=Object(o.a)();return Object(x.jsx)(Ye.Navigator,{screenOptions:function(t){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Je(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Je(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({headerShown:!1},Object(Ge.b)({isVerticalLayout:e,navInfo:t}))},children:qe.map((function(e){return Object(x.jsx)(Ye.Screen,{name:e.name,component:e.component},e.name)}))})}},3153:function(e,t,r){"use strict";r.d(t,"a",(function(){return O}));var n=r(10),i=r.n(n),o=r(16),c=r.n(o),a=r(1),s=r(248),l=r(254),u=r(249),d=r(207);var b=r(556),j=r(652),f=r(24),p=["children"];function O(e){var t=e.children,r=c()(e,p),n=Object(s.a)("Hidden",r,{},{ignoreProps:["only","platform"]}),o=n.from,a=n.till,O=n.only,h=n.platform,x=n.colorMode,m=Object(l.a)().breakpoints,g=Object(j.b)(),y=function(e){var t,r=null===(t=Object(u.a)())||void 0===t?void 0:t.width,n=Object(l.a)();if(Object(d.k)(e,n.breakpoints)){var i=Object(d.g)(n.breakpoints,r);return Object(d.f)(e,n.breakpoints,i)}return e}(Object.keys(m).reduce((function(e,t){return e[t]=t,e}),{})),v=Object(b.a)("breakpoints",[y]),w=i()(v,1)[0],P=Object(b.a)("breakpoints",[o]),S=i()(P,1)[0],k=Object(b.a)("breakpoints",[a]),D=i()(k,1)[0];return o||a||O||x||h?o&&a&&w>=S&&w<D||o&&!a&&w>=S||a&&!o&&w<D||Array.isArray(O)&&O.includes(y)||O===y||Array.isArray(h)&&h.includes(f.a.OS)||h===f.a.OS||x===g.colorMode?null:t:null}Object(a.memo)(O)},3190:function(e,t,r){"use strict";r.d(t,"a",(function(){return b})),r.d(t,"b",(function(){return j}));var n=r(2),i=r.n(n),o=r(10),c=r.n(o),a=r(1),s=r(0);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var d=Object(a.createContext)(null);function b(e){var t=e.children,r=e.priceType,n=e.price,i=void 0===n?0:n,o=Object(a.useState)({priceType:r,price:i}),l=c()(o,2),b=l[0],j=l[1];Object(a.useEffect)((function(){j((function(e){return u(u({},e),{},{priceType:r,price:i})}))}),[r,i]);var f=Object(a.useMemo)((function(){return{context:b,setContext:j}}),[b]);return Object(s.jsx)(d.Provider,{value:f,children:t})}function j(){return Object(a.useContext)(d)}},3197:function(e,t,r){"use strict";var n=r(2),i=r.n(n),o=r(5182),c=r(16),a=r.n(c),s=r(15),l=r(234),u=r(79),d=r(70),b=r(0),j=["children","variant","isDisabled","extraChildren","icon","color"];function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var O=function(e){var t=e.children,r=e.variant,n=e.isDisabled,i=e.extraChildren,c=e.icon,f=(e.color,a()(e,j));return Object(b.jsx)(o.a.Item,p(p({isDisabled:n},f),{},{children:Object(b.jsxs)(l.a,{flex:1,justifyContent:"space-between",alignItems:"center",space:3,children:[Object(b.jsx)(d.a,{typography:s.a.isNative?"Body1":"Body2",color:"desctructive"===r?"text-critical":"highlight"===r?"interactive-default":n?"text-disabled":"text-default",children:t}),c?Object(b.jsx)(u.a,{name:c,size:20,color:"desctructive"===r?"icon-critical":"highlight"===r?"interactive-default":n?"icon-disabled":"icon-default"}):null,i]})}))},h=o.a;h.CustomItem=O;var x=h,m=r(1),g=r(508),y=["options","children","placement"],v=["onPress","id","intlValues","closeOnSelect"];function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.a=function(e){var t=e.options,r=e.children,n=e.placement,i=void 0===n?"bottom right":n,o=a()(e,y),c=Object(g.a)();return Object(b.jsx)(x,P(P({w:190,placement:i,trigger:function(e){return Object(m.cloneElement)(m.Children.only(r),e)}},o),{},{children:t.filter(Boolean).map((function(e,t){if("function"===typeof e)return Object(b.jsx)(m.Fragment,{children:e()},t);var r=e.onPress,n=e.id,i=e.intlValues,o=e.closeOnSelect,s=void 0===o||o,l=a()(e,v);return Object(b.jsx)(x.CustomItem,P(P({},l),{},{onPress:function(){if(r(),!s)return!1},children:c.formatMessage({id:n},i)}),t)}))}))}},3207:function(e,t,r){"use strict";var n=r(2),i=r.n(n),o=r(125),c=r(32),a=r(70),s=r(744),l=r(457),u=r(85),d=r(16),b=r.n(d),j=r(1),f=r(42),p=r(300),O=r(3051),h=r(362),x=r(3190),m=r(3075),g=r(0),y=["onSelectAsset","asset"];function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.a=Object(j.memo)((function(e){var t,r,n,i,d,j=e.onSelectAsset,v=e.asset,P=b()(e,y),S=Object(u.a)(),k=Object(l.a)().screenWidth,D=Object(x.b)(),C=Object(f.c)().network,M=Object(h.g)({networkId:null!=(t=null==C?void 0:C.id)?t:""}),I=S?16:20,A=S?8:12,_=S?k:Math.min(p.f,k-224),T=S?Math.floor((_-3*I)/2):177,B=Object(s.a)().themeVariant,E=v.latestTradePrice,L=(null!=(r=null!=(n=null==D?void 0:D.context.price)?n:M)?r:0)*(null!=E?E:0);return Object(g.jsx)(c.a,w(w({mb:"16px"},P),{},{children:Object(g.jsxs)(o.a,{flexDirection:"column",bgColor:"surface-default",padding:A+"px",overflow:"hidden",borderRadius:"12px",borderColor:"border-subdued",borderWidth:"light"===B?1:void 0,width:T,_hover:{bg:"surface-hovered"},onPress:function(){j&&j(v)},children:[Object(g.jsx)(m.a,{asset:v,borderRadius:"6px",size:T-2*A}),Object(g.jsx)(a.a,{typography:"Body2",height:"20px",mt:A+"px",numberOfLines:1,children:null!=(i=null!=(d=v.name)?d:v.collection.contractName)?i:""}),E?Object(g.jsx)(a.a,{typography:"Body2",height:"20px",color:"text-subdued",children:Object(g.jsx)(O.f,{value:0,decimals:2,convertValue:L>0?L:""})}):Object(g.jsx)(c.a,{height:"20px"})]})}))}))},3767:function(e,t,r){"use strict";r.r(t);var n=r(3),i=r.n(n),o=r(32),c=r(2),a=r.n(c),s=r(10),l=r.n(s),u=r(98),d=r(3086),b=r(186),j=r(1),f=r(52),p=r(508),O=r(142),h=r(43),x=r(3111),m=Object(j.createContext)(null);function g(){return Object(j.useContext)(m)}var y=r(85),v=r(234),w=r(125),P=r(70),S=r(16),k=r.n(S),D=r(457),C=r(3053),M=r(1106),I=r(725),A=r(547),_=r(462),T=r(3135),B=r(3113),E=r(42),L=r(1117),z=r(3075),N=r(3559),W=r(0),R=["asset","cardWidth","margin","marginBottom"];function U(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function F(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?U(Object(r),!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function H(e){switch(e){case 3:return 45;case 4:return 48;case 5:return 50;default:return 48}}var K=function(e){var t=e.numColumns,r=e.margin,n=e.cardWidth,i=e.marginBottom,c=new Array(2).fill(0),a=new Array(t).fill(0),s=Object(y.a)();return Object(W.jsx)(I.a,{width:"full",space:i+"px",children:c.map((function(e,t){return Object(W.jsx)(A.a,{width:"full",space:r+"px",children:a.map((function(e,r){return Object(W.jsxs)(o.a,{flexDirection:"column",children:[Object(W.jsx)(M.a,{width:n,height:n,borderRadius:"12px"}),Object(W.jsx)(o.a,{mt:"8px",children:Object(W.jsx)(C.a,{shape:s?"Body2":"Body1"})})]},"row"+r+t)}))},"col"+t)}))})},V=function(e){var t=e.asset,r=e.cardWidth,n=(e.margin,e.marginBottom,k()(e,R)),i="";i=t.name&&t.name.length>0?t.name:"#"+t.tokenId;var c="";t.latestTradePrice&&"number"===typeof t.latestTradePrice&&(c=t.latestTradePrice+" "+t.latestTradeSymbol);var a=n.onPress,s=Object(y.a)();return Object(W.jsxs)(_.a,{style:{marginHorizontal:s?4:12,width:r},onPress:a,children:[Object(W.jsx)(z.a,{asset:t,borderRadius:"12px",size:r}),Object(W.jsxs)(o.a,{mt:"8px",alignSelf:"stretch",children:[Object(W.jsx)(P.a,{typography:{sm:"Body2Strong",md:"Body1Strong"},isTruncated:!0,children:i}),c?Object(W.jsx)(P.a,{typography:"Body2",mt:"4px",color:"text-subdued",numberOfLines:1,children:c}):null]})]})},G=function(e){var t,r,n=e.contractAddress,c=e.networkId,a=e.ListHeaderComponent,s=Object(y.a)(),l=Object(D.a)().screenWidth,u=Object(L.a)(),d=Object(f.u)(),b=null==(t=g())?void 0:t.context,p=null==(r=g())?void 0:r.setContext,x=Object(j.useRef)(),m=Object(j.useRef)(),v=h.a.serviceNFT,w=s?16:32,P=s?16:24,S=s?8:24,k=s?l-32:Math.min(992,l-224-2*w),C=Object(N.b)({maxCardWidth:145,numColumns:3,margin:S,pageWidth:k}),M=C.cardWidth,I=C.numColumns,A=Object(j.useCallback)(function(){var e=i()((function*(e){var t=yield v.getCollectionAssets(e);null!=t&&t.content&&(x.current=t.next,p&&p((function(e){return null!=b&&b.refreshing?F(F({},e),{},{assetList:t.content}):F(F({},e),{},{assetList:e.assetList.concat(null==t?void 0:t.content)})})))}));return function(t){return e.apply(this,arguments)}}(),[null==b?void 0:b.refreshing,v,p]);Object(j.useEffect)((function(){0===(null==b?void 0:b.selectedIndex)&&u&&0===(null==b?void 0:b.attributes.length)&&(null!=b&&b.refreshing&&(x.current=void 0),null!==x.current&&A({chain:c,contractAddress:n,cursor:x.current,limit:H(I)}).then((function(){p&&p((function(e){return F(F({},e),{},{refreshing:!1})}))})))}),[null==b?void 0:b.attributes.length,null==b?void 0:b.refreshing,null==b?void 0:b.selectedIndex,n,A,u,c,I,p]);var _=Object(j.useCallback)(function(){var e=i()((function*(e){var t=yield v.getAssetsWithAttributes(e);null!=t&&t.content&&(m.current=t.next,p&&p((function(e){return null!=b&&b.refreshing?F(F({},e),{},{filterAssetList:t.content}):F(F({},e),{},{filterAssetList:e.filterAssetList.concat(null==t?void 0:t.content)})})))}));return function(t){return e.apply(this,arguments)}}(),[null==b?void 0:b.refreshing,v,p]);Object(j.useEffect)((function(){0===(null==b?void 0:b.selectedIndex)&&u&&(null==b?void 0:b.attributes.length)>0&&(null!=b&&b.refreshing&&(m.current=void 0,p&&p((function(e){return F(F({},e),{},{filterAssetList:[]})}))),null!==m.current&&_({chain:c,attributes:b.attributes,contractAddress:n,cursor:m.current,limit:H(I)}).then((function(){p&&p((function(e){return F(F({},e),{},{refreshing:!1})}))})))}),[null==b?void 0:b.attributes,null==b?void 0:b.refreshing,null==b?void 0:b.selectedIndex,n,_,u,c,I,p]);var z=Object(E.l)().networks.find((function(e){return e.id===c})),R=Object(j.useCallback)((function(e){z&&d.navigate(O.c.Modal,{screen:O.b.Collectibles,params:{screen:B.CollectiblesModalRoutes.NFTDetailModal,params:{asset:e,network:z,isOwner:!1}}})}),[d,z]),U=Object(j.useCallback)((function(e){var t=e.item;return Object(W.jsx)(V,{onPress:function(){R(t)},asset:t,cardWidth:M})}),[M,R]),G=Object(j.useMemo)((function(){return Object(W.jsx)(K,{numColumns:I,cardWidth:M,margin:S,marginBottom:P})}),[M,S,P,I]),X=Object(j.useMemo)((function(){var e;return b?(null==b||null==(e=b.attributes)?void 0:e.length)>0?null==b?void 0:b.filterAssetList:null==b?void 0:b.assetList:[]}),[b]),J=Object(j.useCallback)((function(){b&&(0===(null==b?void 0:b.attributes.length)&&null!==x.current&&A({chain:c,contractAddress:n,cursor:x.current,limit:H(I)}),(null==b?void 0:b.attributes.length)>0&&null!==m.current&&_({chain:c,attributes:b.attributes,contractAddress:n,cursor:m.current,limit:H(I)}))}),[b,n,A,_,c,I]),Y=Object(j.useCallback)((function(){return b&&(null!==x.current&&0===(null==b?void 0:b.attributes.length)||null!==m.current&&(null==b?void 0:b.attributes.length)>0)?G:Object(W.jsx)(o.a,{})}),[G,b]);return Object(W.jsx)(T.Tabs.FlatList,{numColumns:I,ListHeaderComponent:a,style:{padding:w},contentContainerStyle:{width:"100%",maxWidth:992,alignSelf:"center"},columnWrapperStyle:{marginHorizontal:s?-4:-12,paddingBottom:s?16:24},ListFooterComponent:Y,data:X,renderItem:U,keyExtractor:function(e){return""+e.tokenId},onEndReached:J},I)},X=r(298),J=r.n(X),Y=r(3077),q=r(3067);function Q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(r),!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var $=function(e){var t,r,n,i,c=Object.assign({},(J()(e),e)),a=null==(t=g())?void 0:t.context,s=null==a?void 0:a.collection,l=null!=(r=null!=(n=null==s?void 0:s.contractName)?n:null==s?void 0:s.name)?r:"",u=Object(p.a)(),d=Object(y.a)(),b=Object(j.useMemo)((function(){var e;return[d?null:{key:u.formatMessage({id:"content__items"}),value:null==s?void 0:s.itemsTotal},{key:u.formatMessage({id:"content__owners"}),value:null==s?void 0:s.ownersTotal},{key:u.formatMessage({id:"content__floor"}),value:Object(q.a)({price:null==s?void 0:s.floorPrice,symbol:null==s?void 0:s.priceSymbol,networkId:null==a?void 0:a.networkId})},{key:u.formatMessage({id:"content__blue_chip_rates"}),value:null==s||null==(e=s.blueChip)?void 0:e.next_blue_chip_probability},{key:u.formatMessage({id:"content__int_hours_volume"},{0:24}),value:Object(q.a)({price:null==s?void 0:s.volume24h,symbol:null==s?void 0:s.priceSymbol,networkId:null==a?void 0:a.networkId})}]}),[null==s||null==(i=s.blueChip)?void 0:i.next_blue_chip_probability,null==s?void 0:s.floorPrice,null==s?void 0:s.itemsTotal,null==s?void 0:s.ownersTotal,null==s?void 0:s.priceSymbol,null==s?void 0:s.volume24h,null==a?void 0:a.networkId,u,d]),f=Object(W.jsx)(P.a,{typography:"Body2",color:"text-subdued",numberOfLines:2,children:(null==s?void 0:s.description)||u.formatMessage({id:"content__no_description"})});return Object(W.jsxs)(o.a,Z(Z({},c),{},{children:[Object(W.jsxs)(o.a,{flexDirection:"row",children:[Object(W.jsx)(Y.a,{src:null==s?void 0:s.logoUrl,width:"64px",height:"64px",verified:null==s?void 0:s.openseaVerified}),Object(W.jsxs)(o.a,{ml:{base:"16px",md:"24px"},maxW:"576px",flex:1,children:[Object(W.jsx)(P.a,{typography:"PageHeading",mb:"4px",numberOfLines:1,children:l||"\u2013"}),Object(W.jsx)(o.a,{mt:"4px",children:d?Object(W.jsx)(P.a,{typography:"Body2",color:"text-subdued",children:u.formatMessage({id:"content__int_items"},{0:null==s?void 0:s.itemsTotal})}):f})]})]}),d?Object(W.jsx)(o.a,{mt:"16px",children:f}):null,Object(W.jsx)(o.a,{flexDirection:"row",mt:"24px",flexWrap:"wrap",mb:{base:"-16px",md:0},children:b.map((function(e){return e?Object(W.jsxs)(o.a,{mr:{md:"32px"},mb:{base:"16px",md:0},width:{base:"50%",sm:"33.33%",md:"auto"},children:[Object(W.jsx)(P.a,{typography:"Body2",color:"text-subdued",children:e.key}),Object(W.jsx)(P.a,{typography:"Body1Strong",mt:"4px",children:e.value||"-"})]}):null}))})]}))},ee=r(1105),te=r(79),re=r(3056),ne=r(3131),ie=r(3065);function oe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ce(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(r),!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ae,se=function(){return Object(W.jsx)(W.Fragment,{children:[1,2,3,4,5].map((function(){return Object(W.jsxs)(re.a,{px:0,children:[Object(W.jsx)(re.a.Column,{children:Object(W.jsx)(M.a,{width:"40px",height:"40px",borderRadius:"12px"})}),Object(W.jsx)(re.a.Column,{flex:1,text:{label:Object(W.jsx)(C.a,{shape:"Body1"}),description:Object(W.jsx)(C.a,{shape:"Body2"})}}),Object(W.jsx)(re.a.Column,{text:{label:Object(W.jsx)(C.a,{shape:"Body1"})}})]})}))})},le=function(){var e=Object(p.a)();return Object(y.a)()?null:Object(W.jsxs)(re.a,{width:"full",px:0,children:[Object(W.jsx)(re.a.Column,{flex:2.7,text:{label:e.formatMessage({id:"title__nft"}),labelProps:{typography:"Subheading",color:"text-subdued"}}}),Object(W.jsx)(re.a.Column,{flex:1,text:{label:"FROM",labelProps:{typography:"Subheading",color:"text-subdued",textAlign:"left"}}}),Object(W.jsx)(o.a,{size:"20px"}),Object(W.jsx)(re.a.Column,{flex:1,text:{label:"TO",labelProps:{typography:"Subheading",color:"text-subdued",textAlign:"left"}}}),Object(W.jsx)(re.a.Column,{flex:1,text:{label:e.formatMessage({id:"content__price"}),labelProps:{typography:"Subheading",color:"text-subdued",textAlign:"right"}}})]})},ue=function(e){var t,r,n,i,o,c,a,s=e.item,l=Object(ie.a)().formatDistanceToNow,u="# "+(null!=(t=null==(r=s.asset)?void 0:r.tokenId)?t:"");null!=(n=s.asset)&&n.name&&(null==(i=s.asset)?void 0:i.name.length)>0&&(u=null==(a=s.asset)?void 0:a.name);return Object(W.jsxs)(re.a,{width:"full",px:0,children:[s.asset&&Object(W.jsx)(z.a,{asset:s.asset,borderRadius:"6px",size:40}),Object(W.jsx)(re.a.Column,{flex:1,text:{label:u,labelProps:{typography:"Body1Strong",numberOfLines:1},description:s.timestamp?l(s.timestamp):"",descriptionProps:{numberOfLines:1,typography:"Body2",color:"text-subdued"}}}),Object(W.jsx)(re.a.Column,{text:{label:(null!=(o=s.tradePrice)?o:0)+" "+(null!=(c=s.tradeSymbol)?c:""),labelProps:{typography:"Body1Strong",textAlign:"right",mb:"24px"}}})]})},de=function(e){var t,r,n,i,o,c,a,s=e.network,l=e.item,u="# "+(null!=(t=null==(r=l.asset)?void 0:r.tokenId)?t:"");null!=(n=l.asset)&&n.name&&(null==(i=l.asset)?void 0:i.name.length)>0&&(u=null==(a=l.asset)?void 0:a.name);var d=Object(ie.a)().formatDistanceToNow,b=Object(ne.c)(s).openAddressDetails;return Object(W.jsxs)(re.a,{width:"full",px:0,children:[Object(W.jsxs)(A.a,{flex:2.7,space:"12px",alignItems:"center",children:[l.asset&&Object(W.jsx)(z.a,{asset:l.asset,borderRadius:"6px",size:40}),Object(W.jsx)(re.a.Column,{flex:1,text:{label:u,labelProps:{typography:"Body1Strong",numberOfLines:1},description:l.timestamp?d(l.timestamp):"",descriptionProps:{numberOfLines:1,typography:"Body2",color:"text-subdued"}}})]}),Object(W.jsx)(re.a.Column,{flex:1,text:{label:Object(W.jsx)(w.a,{onPress:function(){b(l.send)},flex:1,justifyContent:"center",children:Object(W.jsx)(P.a,{numberOfLines:1,typography:"Body1Underline",children:l.send})})}}),Object(W.jsx)(te.a,{name:"ChevronDoubleRightMini",size:20}),Object(W.jsx)(re.a.Column,{flex:1,text:{label:Object(W.jsx)(w.a,{onPress:function(){b(l.receive)},flex:1,justifyContent:"center",children:Object(W.jsx)(P.a,{numberOfLines:1,typography:"Body1Underline",children:l.receive})})}}),Object(W.jsx)(re.a.Column,{flex:1,text:{label:(null!=(o=l.tradePrice)?o:0)+" "+(null!=(c=l.tradeSymbol)?c:""),labelProps:{typography:"Body1Strong",textAlign:"right"}}})]})},be=function(e){var t,r,n=e.contractAddress,c=e.networkId,a=e.ListHeaderComponent,s=Object(y.a)(),l=null==(t=g())?void 0:t.context,u=null==(r=g())?void 0:r.setContext,d=Object(j.useRef)(),b=h.a.serviceNFT,f=Object(L.a)(),p=Object(j.useCallback)(function(){var e=i()((function*(e){var t=yield b.getCollectionTransactions(e);null!=t&&t.content&&(d.current=t.next,u&&u((function(e){return null!=l&&l.refreshing?ce(ce({},e),{},{txList:t.content}):ce(ce({},e),{},{txList:e.txList.concat(null==t?void 0:t.content)})})))}));return function(t){return e.apply(this,arguments)}}(),[null==l?void 0:l.refreshing,b,u]);Object(j.useEffect)((function(){1===(null==l?void 0:l.selectedIndex)&&f&&(null!=l&&l.refreshing&&(d.current=void 0),null!==d.current&&p({chain:c,contractAddress:n,cursor:d.current,eventTypes:"sale",showAsset:!0}).then((function(){u&&u((function(e){return ce(ce({},e),{},{refreshing:!1})}))})))}),[null==l?void 0:l.refreshing,null==l?void 0:l.selectedIndex,n,p,f,c,u]);var O=Object(E.l)().networks,x=Object(j.useMemo)((function(){return O.find((function(e){return e.id===c}))}),[c,O]),m=Object(j.useCallback)((function(e){var t=e.item;return s?Object(W.jsx)(ue,{item:t}):Object(W.jsx)(de,{item:t,network:x})}),[x,s]);return Object(W.jsx)(ee.b,{ListHeaderComponent:null!=a?a:le,data:null==l?void 0:l.txList,renderItem:m,ListFooterComponent:function(){return null!==d.current?Object(W.jsx)(se,{}):Object(W.jsx)(o.a,{})},style:{padding:s?16:32},contentContainerStyle:{width:"100%",maxWidth:992,alignSelf:"center"},onEndReached:function(){null!==d.current&&p({chain:c,contractAddress:n,cursor:d.current,eventTypes:"sale",showAsset:!0})}})};!function(e){e.Items="items",e.Sales="sales"}(ae||(ae={}));var je=["items","itemWidth","selectedIndex","onChange"];function fe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function pe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(r),!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Oe=Object(j.memo)($),he=function(e){var t=e.items,r=e.itemWidth,n=e.selectedIndex,i=e.onChange,c=k()(e,je);return Object(W.jsxs)(o.a,pe(pe({},c),{},{w:"100%",mt:{base:"24px",md:"32px"},children:[Object(W.jsx)(o.a,{h:"1px",position:"absolute",left:0,bottom:0,right:0,bgColor:"divider"}),Object(W.jsx)(v.a,{space:"32px",children:t.map((function(e,t){var o=t===n;return Object(W.jsx)(w.a,{alignItems:"center",pt:"16px",pb:"14px",borderBottomWidth:2,borderBottomColor:o?"interactive-default":"transparent",width:r,onPress:function(){i(t)},children:function(t){var r=t.isHovered,n=t.isPressed;return Object(W.jsx)(P.a,{typography:"Body2Strong",textAlign:"center",color:o||r||n?"text-default":"text-subdued",children:e.title})}},""+e.label+t)}))})]}))},xe=function(){var e,t,r=Object(p.a)(),n=Object(y.a)(),i=null==(e=g())?void 0:e.context,c=null==(t=g())?void 0:t.setContext;return Object(W.jsxs)(o.a,{flexDirection:"column",alignItems:"flex-start",children:[Object(W.jsx)(Oe,{},"MemoCollectionInfo"),Object(W.jsx)(he,{mb:n?"24px":"32px",selectedIndex:null==i?void 0:i.selectedIndex,onChange:function(e){c&&c((function(t){return pe(pe({},t),{},{selectedIndex:e})}))},items:[{title:r.formatMessage({id:"content__items"}),label:ae.Items},{title:r.formatMessage({id:"content__sales"}),label:ae.Sales}]})]})},me=function(){var e,t,r=Object(p.a)(),n=null==(e=g())?void 0:e.context,i=null==(t=g())?void 0:t.setContext;return Object(W.jsxs)(o.a,{flexDirection:"column",alignItems:"flex-start",children:[Object(W.jsx)(Oe,{},"MemoCollectionInfo"),Object(W.jsx)(he,{mb:{md:"8px"},selectedIndex:null==n?void 0:n.selectedIndex,onChange:function(e){i&&i((function(t){return pe(pe({},t),{},{selectedIndex:e})}))},items:[{title:r.formatMessage({id:"content__items"}),label:ae.Items},{title:r.formatMessage({id:"content__sales"}),label:ae.Sales}]}),Object(W.jsx)(le,{})]})},ge=function(){return Object(W.jsx)(xe,{})},ye=function(){return Object(W.jsx)(me,{})},ve=function(){var e,t=Object(f.x)().params,r=t.networkId,n=t.contractAddress,i=null==(e=g())?void 0:e.context;return Object(W.jsx)(W.Fragment,{children:0===(null==i?void 0:i.selectedIndex)?Object(W.jsx)(G,{contractAddress:n,networkId:r,ListHeaderComponent:ge}):Object(W.jsx)(be,{contractAddress:n,networkId:r,ListHeaderComponent:ye})})};function we(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Pe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?we(Object(r),!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):we(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Se=function(e){var t=e.onPress,r=e.isDisabled,n=Object(p.a)();return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(d.a,{from:"md",children:Object(W.jsx)(b.a,{isDisabled:r,name:"BarsShrinkOutline",size:"lg",type:"plain",circle:!0,onPress:t})}),Object(W.jsx)(d.a,{till:"md",children:Object(W.jsx)(u.a,{isDisabled:r,leftIconName:"BarsShrinkMini",onPress:t,children:n.formatMessage({id:"title__filter"})})})]})};t.default=function(){var e=Object(f.x)().params,t=e.networkId,r=e.collection,n=e.contractAddress,c=e.title,a=Object(j.useState)({selectedIndex:0,collection:r,assetList:[],filterAssetList:[],attributes:[],txList:[],networkId:t}),s=l()(a,2),u=s[0],d=s[1],b=Object(f.u)(),g=Object(p.a)();Object(j.useLayoutEffect)((function(){b.setOptions({title:""})}),[null==r?void 0:r.contractName,null==r?void 0:r.name,b,c]);var y=Object(j.useMemo)((function(){return!!u.attributes.find((function(e){return e.attribute_values.length>0}))}),[u.attributes]),v=u.collection;Object(j.useEffect)((function(){v&&b.setOptions({headerRight:function(){return Object(W.jsxs)(o.a,{mr:{base:2.5,md:8},children:[Object(W.jsx)(Se,{isDisabled:v.attributes&&0===v.attributes.length,onPress:function(){b.navigate(O.c.Modal,{screen:O.b.NFTMarket,params:{screen:x.a.FilterModal,params:{collection:v,attributes:u.attributes,onAttributeSelected:function(e){d((function(t){return Pe(Pe({},t),{},{refreshing:!0,attributes:e})}))}}}})}}),y&&Object(W.jsx)(o.a,{top:{base:1,md:-1.5},right:{base:1,md:-1.5},position:"absolute",size:"12px",bgColor:"interactive-default",borderRadius:"full",borderWidth:"2px",borderColor:"background-default"})]})}})}),[u.attributes,v,g,y,b]);var w=h.a.serviceNFT;Object(j.useEffect)((function(){i()((function*(){var e=yield w.getCollection({chain:t,contractAddress:n,showStatistics:!0});e&&d((function(t){return Pe(Pe({},t),{},{collection:e})}))}))()}),[n,t,w]);var P=Object(j.useMemo)((function(){return{context:u,setContext:d}}),[u]);return Object(W.jsx)(m.Provider,{value:P,children:Object(W.jsx)(ve,{})})}}}]);