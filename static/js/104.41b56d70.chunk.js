(this.webpackJsonp=this.webpackJsonp||[]).push([[104],{3112:function(e,t,n){"use strict";n.d(t,"c",(function(){return m})),n.d(t,"b",(function(){return g})),n.d(t,"d",(function(){return w})),n.d(t,"a",(function(){return P}));var r=n(2),c=n.n(r),u=n(3),i=n.n(u),a=n(10),o=n.n(a),l=n(1),s=n(1116),f=n(330),b=n(164),d=n(82),j=n(14),O=n(43),p=n(42);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h=function(e){return[b.a,b.c,b.d,b.e].includes(e)},m=function(){var e=O.a.engine,t=Object(l.useState)([]),n=o()(t,2),r=n[0],c=n[1],u=Object(p.l)().wallets,a=Object(l.useCallback)(i()((function*(){var t=yield Promise.all(u.map(function(){var t=i()((function*(t){var n,r=yield e.getAccounts(t.accounts);return y(y({},t),{},{accounts:null!=(n=null==r?void 0:r.filter((function(e){if(!e)return!1;var t=e||{},n=t.address,r=t.coinType;return!h(n)&&!!Object(f.d)(r,j.C)})))?n:[]})}));return function(e){return t.apply(this,arguments)}}()));return c(t),t})),[e,u]);return Object(l.useEffect)((function(){a()}),[a]),{wallets:r,getWalletsAndAccounts:a}},g=function(){var e=Object(l.useState)(!1),t=o()(e,2),n=t[0],r=t[1],c=O.a.serviceNotification,u=m(),a=u.wallets,s=u.getWalletsAndAccounts,f=Object(l.useState)([]),b=o()(f,2),d=b[0],j=b[1],p=Object(l.useCallback)(i()((function*(){var e=yield c.queryAccountDynamic();j(e)})),[c]),v=Object(l.useCallback)(i()((function*(){r(!0);try{yield p(),yield s()}finally{r(!1)}})),[p,s]);return Object(l.useEffect)((function(){v()}),[v]),{loading:n,wallets:a,enabledAccounts:d,refresh:v}},w=function(){var e=O.a.serviceNotification,t=Object(l.useState)(!1),n=o()(t,2),r=n[0],c=n[1],u=Object(l.useState)([]),a=o()(u,2),s=a[0],f=a[1],b=Object(l.useCallback)(i()((function*(){c(!0);try{var t=yield e.queryPriceAlertList();f(t||[])}catch(n){}c(!1)})),[e]);return Object(l.useEffect)((function(){b()}),[b]),{alerts:s,loading:r,fetchPriceAlerts:b}},k=function(){var e=i()((function*(e,t){if(!e)return!1;var n=e||{},r=n.address,c=n.coinType;return!h(r)&&(!!Object(f.d)(c,j.C)&&!(yield Object(d.j)({asyncFunc:function(){var e=i()((function*(){return O.a.validator.isContractAddress(t,r)}));return function(){return e.apply(this,arguments)}}(),timeout:6e3,timeoutResult:!1})))}));return function(t,n){return e.apply(this,arguments)}}(),P=function(e,t){var n=Object(s.a)(i()((function*(){return k(e,t)})),[e]).result;return null!=n&&n}},3732:function(e,t,n){"use strict";n.r(t);var r=n(559),c=n(10),u=n.n(c),i=n(765),a=n.n(i),o=n(32),l=n(70),s=n(744),f=n(1),b=n(508),d=n(176),j=n(362),O=n(3294),p=n(3112),v=n(3496),y=n(0),h=function(e){var t=e.alerts,n=e.onRemove,r=t.length,c=Object(s.a)().themeVariant,u=t[0].impl+"--"+t[0].chainId,i=Object(j.k)(u,t[0].address).token,a=Object(f.useCallback)((function(e){null==n||n(t.find((function(t){return t.price===e})))}),[n,t]);return i?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(l.a,{color:"text-subdued",children:i.symbol}),Object(y.jsx)(o.a,{w:"full",mt:"2",mb:6,borderRadius:"12",bg:"surface-default",borderWidth:"light"===c?1:void 0,borderColor:"border-subdued",children:t.map((function(e,t){return Object(y.jsx)(v.a,{alert:e,token:i,divider:t!==r-1,onRemove:a},e.price+"-"+e.currency)}))})]}):null};t.default=function(){var e=Object(b.a)(),t=Object(d.o)(),n=Object(p.d)(),c=n.alerts,i=n.loading,o=n.fetchPriceAlerts,l=Object(f.useMemo)((function(){var e=a()(c,(function(e){return e.impl+"--"+e.chainId+"--"+e.address}));return Object.entries(e)}),[c]);return Object(f.useLayoutEffect)((function(){var n=e.formatMessage({id:"title__manage_price_alert"});t.setOptions({title:n})}),[t,e]),l.length?Object(y.jsx)(r.a,{w:"full",h:"full",bg:"background-default",p:"4",maxW:768,mx:"auto",children:l.map((function(e){var t=u()(e,2),n=t[0],r=t[1];return Object(y.jsx)(h,{alerts:r,onRemove:o},n)}))}):Object(y.jsx)(O.a,{isLoading:i,symbol:"token"})}}}]);