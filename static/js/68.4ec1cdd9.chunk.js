(this.webpackJsonp=this.webpackJsonp||[]).push([[68],{3148:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.StakingAmount="StakingAmount",e.StakingETHNotes="StakingETHNotes",e.StakedETHOnKele="StakedETHOnKele"}(r||(r={}))},3208:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return d}));var r=n(3),i=n.n(r),a=n(10),c=n.n(a),o=n(43);function s(e,t,n,r){var i=e(t,{height:r,layout:{background:{color:"transparent"}},crosshair:{vertLine:{visible:!1},horzLine:{visible:!1}},grid:{vertLines:{visible:!1},horzLines:{visible:!1}},timeScale:{visible:!1,fixLeftEdge:!0,fixRightEdge:!0,lockVisibleTimeRangeOnResize:!0},rightPriceScale:{visible:!1},handleScale:{pinch:!1,mouseWheel:!1}}),a=function(){i.applyOptions({width:t.clientWidth})};return i.subscribeCrosshairMove((function(e){var t=e.time,r=e.seriesPrices;n({time:t,price:r.values().next().value})})),i.timeScale().fitContent(),window.addEventListener("resize",a),window._onekey_chart=i,{chart:i,handleResize:a}}function l(e){var t=e.lineColor,n=e.topColor,r=e.bottomColor,i=e.data,a=i.map((function(e){var t=c()(e,2);return{time:t[0],value:t[1]}})),o=window._onekey_chart;if(!o._onekey_series){var s=o.addAreaSeries({lineColor:t,topColor:n,bottomColor:r,lineWidth:2,crosshairMarkerBorderColor:"#fff",crosshairMarkerRadius:5});return s.setData(a),void(o._onekey_series=s)}var l=o._onekey_series;l.applyOptions({lineColor:t,topColor:n,bottomColor:r}),l.setData(a),i.length>2&&o.timeScale().setVisibleLogicalRange({from:.4,to:i.length-1.4})}var d=function(){var e=i()((function*(e){var t=e.networkId,n=e.contract,r=void 0===n?"main":n,i=e.vs_currency,a=void 0===i?"usd":i,c=e.points,s=e.days;return(yield o.a.engine.getChart({networkId:t,addresses:[r],days:s,vs_currency:a,points:c}))[r]}));return function(t){return e.apply(this,arguments)}}()},3221:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c}));var r=n(1112),i=n(0),a=["1D","1W","1M","1Y","All"],c=["1","7","30","365","max"],o=function(e){var t=e.selectedIndex,n=e.onTimeChange,c=e.enabled;return Object(i.jsx)(r.a,{enabled:c,style:{marginTop:5},values:a,onValueChange:n,selectedIndex:t})};o.displayName="TimeControl",t.c=o},3250:function(e,t,n){e.exports=n.p+"static/media/kele_pool.8ff3dce4.png"},3251:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}));var r=n(176);function i(e,t){return Object(r.h)((function(n){var r,i;return null==(r=n.staking.keleETH2StakingState)||null==(i=r[null!=t?t:""])?void 0:i[null!=e?e:""]}))}function a(e,t){return Object(r.h)((function(n){var r,i;return null==(r=n.staking.stakingActivities)||null==(i=r[t])?void 0:i[e]}))}},3256:function(e,t,n){"use strict";var r=n(2),i=n.n(r),a=n(4),c=n.n(a),o=n(0);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.a=function(e){return Object(o.jsxs)(c.a,l(l({viewBox:"0 0 358 160",fill:"currentColor"},e),{},{children:[Object(o.jsx)(a.Path,{d:"M340.11 16.0064C347.852 16.0064 350.258 0 358 0V160H0V89.463C7.74194 89.463 15.484 95.038 23.2259 95.038C30.9679 95.038 38.7098 89.845 46.4518 88.9552C54.1937 88.0654 61.9358 88.5103 69.6778 87.6205C77.4197 86.7306 85.1615 74.6404 92.9034 71.9121C100.645 69.1838 108.387 100.56 116.129 97.8317C123.871 95.1034 131.613 47.4332 139.355 47.4332C147.097 47.4332 155.506 58.5234 163.248 58.5234C170.99 58.5234 178.065 43.7073 185.807 42.0845C193.549 40.4617 203.425 61.243 211.167 60.5171C218.909 59.7912 235.973 33.7274 243.715 33.7274C250.6 34.5138 250.6 44.5178 273.512 49.0196C281.254 49.0196 285.916 22.966 293.658 19.5183C301.4 16.0706 311.841 31.431 319.583 27.511C327.325 23.591 332.368 16.0064 340.11 16.0064Z",fill:"url(#paint0_linear_5149_43265)"}),Object(o.jsx)(a.Defs,{children:Object(o.jsxs)(a.LinearGradient,{id:"paint0_linear_5149_43265",x1:"179",y1:"0",x2:"179",y2:"160",gradientUnits:"userSpaceOnUse",children:[Object(o.jsx)(a.Stop,{stopColor:"#3D3D4D"}),Object(o.jsx)(a.Stop,{offset:"1",stopColor:"#1D1D2A",stopOpacity:"0"})]})})]}))}},3261:function(e,t,n){"use strict";var r=n(32),i=n(326),a=n(85),c=n(10),o=n.n(c),s=n(1),l=n(15),d=n(3065),u=n(3262),b=n(3256),j=n(79),f=n(41),O=n(508),p=n(3051),x=n(1113),h=n(0),m=function(e){var t,n=e.price,i=e.basePrice,a=e.time,c=Object(O.a)(),o=c.formatMessage({id:"content__price_uppercase"});if(null!==n){var s=Object(x.a)({basePrice:i,price:n}),l=s.gainText,d=s.percentageGain,u=s.gainTextColor;t=Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(f.h.Body2Strong,{color:u,children:[l,"(",d,")"]}),Object(h.jsx)(f.h.Body2Strong,{color:"text-subdued",ml:"8px",children:a})]})}else t=Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(j.a,{name:"ExclamationTriangleMini",size:16}),Object(h.jsx)(f.h.Body2Strong,{color:"text-subdued",ml:"8px",children:c.formatMessage({id:"content__data_for_this_token_is_not_included_yet"})})]});return Object(h.jsxs)(r.a,{flexDirection:"column",children:[Object(h.jsx)(f.h.Subheading,{color:"text-subdued",children:o}),Object(h.jsx)(f.h.DisplayXLarge,{mt:"4px",mb:"4px",children:Object(h.jsx)(p.f,{value:n||0})}),Object(h.jsx)(r.a,{flexDirection:"row",alignItems:"center",children:t})]})},g=function(e){var t,n=e.data,c=e.isFetching,j=e.children,f=Object(d.a)().formatDate,O=Object(s.useState)(),p=o()(O,2),x=p[0],g=p[1],v=Object(s.useState)(f(new Date)),y=o()(v,2),w=y[0],k=y[1],I=Object(a.a)(),_=null!=n&&n.length?n[0][1]:0,T=null!=n&&n.length?n[n.length-1][1]:0;t=n?"undefined"===x||void 0===x?T:"string"===typeof x?+x:x:null;var C=Object(s.useCallback)((function(e){var t;t=e.time instanceof Date?f(e.time):"number"===typeof e.time?f(new Date(e.time)):"string"===typeof e.time?f(new Date(+e.time)):f(new Date),k(t),g(e.price)}),[f]),S=Object(h.jsx)(m,{price:t,time:w,basePrice:_}),P=n?Object(h.jsx)(u.a,{isFetching:c,height:I?190:240,data:n,onHover:C}):Object(h.jsx)(b.a,{width:"100%",height:"100%",preserveAspectRatio:"none"}),D=n&&0===n.length?Object(h.jsx)(i.b,{}):P;return I?Object(h.jsxs)(h.Fragment,{children:[S,Object(h.jsx)(r.a,{h:"190px",mt:"25px",justifyContent:"center",alignItems:"center",children:l.a.isNative?P:D}),j]}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(r.a,{flexDirection:"row",justifyContent:"space-between",children:[S,Object(h.jsx)(r.a,{w:"280px",children:j})]}),Object(h.jsx)(r.a,{h:"240px",mt:"30px",justifyContent:"center",alignItems:"center",children:D})]})};g.displayName="ChartWithLabel";t.a=g},3262:function(e,t,n){"use strict";var r=n(121),i=n(1),a=n(3564),c=n(3208),o=n(0),s=function(e){var t=e.data,n=e.onHover,r=e.lineColor,s=e.topColor,l=e.bottomColor,d=e.height,u=Object(i.useRef)(null);return Object(i.useEffect)((function(){if(u.current){var e=Object(c.a)(a.a,u.current,n,d),t=e.chart,r=e.handleResize;return function(){window.removeEventListener("resize",r),t.remove()}}}),[]),Object(i.useEffect)((function(){Object(c.c)({bottomColor:l,topColor:s,lineColor:r,data:t})}),[l,s,t,r]),Object(o.jsx)("div",{style:{width:"100%",height:d},ref:u})};s.displayName="ChartViewAdapter";var l=s,d=function(e){var t=e.data,n=e.onHover,i=e.height,a=e.isFetching,c=Object(r.a)("interactive-default"),s=Object(r.a)("action-primary-focus");return Object(o.jsx)(l,{isFetching:a,height:i,data:t,lineColor:c,topColor:s,bottomColor:"#00FF1900",onHover:n})};d.displayName="ChartView";t.a=Object(i.memo)(d)},3313:function(e,t,n){"use strict";n(3196);var r=n(3151);n.d(t,"a",(function(){return r.ReceiveTokenRoutes}));n(3137)},3404:function(e,t,n){"use strict";n.d(t,"a",(function(){return ke}));var r=n(1114),i=n(3),a=n.n(i),c=n(10),o=n.n(c),s=n(2),l=n.n(s),d=n(387),u=n(457),b=n(32),j=n(1109),f=n(41),O=n(1),p=n(52),x=n(508),h=n(1122),m=n(3135),g=n(159),v=n(57),y=n(14),w=n(22),k=n(43),I=n(176),_=n(3065),T=n(42),C=n(754);var S=n(56),P=n(125),D=n(426),M=n(253),A=n.n(M),L=n(234),E=n(70),H=n(3489),R=n(744),F=n(15),B=n(3080),z=n(33),N=n(163),V=n(783),W=n.n(V),U=n(143),G=n.n(U),K=n(98),X=n(27),q=n.n(X),J=n(142),Y=n(0);function Q(e){return Z.apply(this,arguments)}function Z(){return(Z=a()((function*(e){var t,n,r,i,a=e.historyTx,c=e.actionType,o=e.navigation,s=null!=(t=null==(n=a.decodedTx)?void 0:n.encodedTx)?t:{},l=null==a||null==(r=a.decodedTx)?void 0:r.encodedTxEncrypted;if(l)try{i=JSON.parse(yield k.a.servicePassword.decryptByInstanceId(l))}catch(p){i={from:"-",to:"-",value:"-",data:"-"}}var d=a.decodedTx,u=d.nonce,b=d.accountId,j=d.networkId;if(!(G()(u)||!W()(u)||u<0)){var f={from:s.from,to:s.to,value:s.value,data:s.data,nonce:u,gas:s.gas,gasLimit:s.gasLimit,gasPrice:s.gasPrice,maxFeePerGas:s.maxFeePerGas,maxPriorityFeePerGas:s.maxPriorityFeePerGas};if("cancel"===c&&(f.to=f.from,f.value="0",f.data="0x"),"speedUp"===c&&i&&(i.from!==f.from||i.to!==f.to||i.value!==f.value||i.data!==f.data||!new q.a(f.nonce||"0").eq(i.nonce||"0")))return N.a.show({title:"Speedup failed. History transaction data not matched"},{type:"error"}),void w.a.sendTx.info("Speedup failed. History transaction data not matched",{encodedTxOrigin:i,encodedTxEvm:f});var O={accountId:b,networkId:j,actionType:c,resendActionInfo:{type:c,replaceHistoryId:a.id},encodedTx:f,feeInfoEditable:!0,feeInfoUseFeeInTx:!0};o.navigate(J.c.Modal,{screen:J.b.Send,params:{screen:B.f.SendConfirm,params:A()(O)}})}}))).apply(this,arguments)}function $(e){var t=e.historyTx,n=Object(I.o)(),r=Object(x.a)(),i="cancel"===t.replacedType;return Object(Y.jsxs)(Y.Fragment,{children:[i?null:Object(Y.jsx)(K.a,{size:"sm",ml:2,onPress:function(){Q({historyTx:t,actionType:"cancel",navigation:n})},children:r.formatMessage({id:"action__cancel"})}),Object(Y.jsx)(K.a,{type:"primary",size:"sm",ml:2,onPress:function(){Q(i?{historyTx:t,actionType:"cancel",navigation:n}:{historyTx:t,actionType:"speedUp",navigation:n})},children:r.formatMessage({id:"action__speed_up"})})]})}var ee=n(3291),te=n(3413),ne=n(3218);function re(e){var t,n,r,i=e.historyTx,a=e.isFirst,c=e.isLast,o=i.decodedTx,s=o.status,l=Object(x.a)(),d=Object(I.f)().network,u=Object(R.a)().isLight,j=Object(I.o)(),f=Object(ne.c)({decodedTx:o}),O=s!==v.c.Pending&&Object(Y.jsx)(H.a,{typography:"Body2",color:"text-subdued",text:null!=(t=o.txid)?t:"",short:!0,prefix:"Hash: "}),p=s!==v.c.Confirmed&&Object(Y.jsx)(E.a,{typography:"Body2",color:f.textColor,children:l.formatMessage({id:f.text})}),h=null;"cancel"===i.replacedType&&(h=Object(Y.jsx)(E.a,{typography:"Body2",color:"text-subdued",children:"TxCancel"})),"speedUp"===i.replacedType&&(h=Object(Y.jsx)(E.a,{typography:"Body2",color:"text-subdued",children:"TxSpeedUp"}));var m=null!=d&&null!=(n=d.settings)&&n.txCanBeReplaced?Object(Y.jsx)($,{historyTx:i}):void 0,g=Object(Y.jsx)(ee.a,{typography:"Body2",color:"text-subdued",isShort:!0,timestamp:null!=(r=o.updatedAt)?r:o.createdAt});F.a.isDev&&Object(Y.jsxs)(L.a,{space:2,mt:2,children:[O,p,h,Object(Y.jsx)(b.a,{flex:1}),g]});return Object(Y.jsx)(P.a.Item,{borderTopRadius:a?12:0,borderBottomRadius:c?12:0,borderWidth:u?1:0,borderBottomWidth:c&&u?1:0,borderTopWidth:a&&u?1:0,borderColor:"border-subdued",px:{base:"4",lg:"6"},py:"16px",onPress:function(){j.navigate(z.g.Modal,{screen:z.e.TransactionDetail,params:{screen:B.h.HistoryDetailModal,params:A()({decodedTx:o,historyTx:i})}})},children:Object(Y.jsxs)(D.a,{children:[Object(Y.jsx)(te.a,{historyTx:i,decodedTx:o,transformType:"T0",space:"31px",showDivider:!0,showConnectionLine:!0}),o.status===v.c.Pending?Object(Y.jsxs)(L.a,{space:2,mt:2,children:[Object(Y.jsx)(b.a,{flex:1}),m]}):null]})})}var ie=n(1137),ae=Object(O.createContext)(null);function ce(e){var t=e.children,n=e.isLoading,r=void 0!==n&&n,i=e.isTab,a=e.headerView,c=e.refresh,s=Object(O.useState)({isLoading:r,isTab:i,headerView:a,refresh:c}),l=o()(s,2),d=l[0],u=l[1],b=Object(O.useMemo)((function(){return{context:d,setContext:u}}),[d]);return Object(Y.jsx)(ae.Provider,{value:b,children:t})}function oe(){return Object(O.useContext)(ae)}var se=n(743);function le(e){var t,n=e.isLoading,r=e.refresh,i=Object(x.a)(),a=oe();return Object(Y.jsx)(b.a,{py:4,flexDirection:"column",alignItems:"center",children:Object(Y.jsx)(se.a,{emoji:"\ud83d\udd50",title:i.formatMessage({id:"transaction__history_empty_title"}),subTitle:i.formatMessage({id:"transaction__history_empty_desc"}),actionTitle:i.formatMessage({id:"action__refresh"}),handleAction:null!=(t=null==a?void 0:a.context.refresh)?t:r,isLoading:Boolean((null==a?void 0:a.context.isLoading)||n)})})}var de=n(186),ue=n(1120),be=n(1110),je=n(94),fe=n(388);function Oe(e){var t,n=e.closeOverlay,r=Object(x.a)(),i=null==(t=Object(I.h)((function(e){return e.settings.hideScamHistory})))||t;return Object(Y.jsx)(ue.a,{modalLizeProps:{tapGestureEnabled:!1},title:r.formatMessage({id:"title__settings"}),closeOverlay:n,children:Object(Y.jsxs)(b.a,{pb:4,pr:2,children:[Object(Y.jsx)(E.a,{typography:"Subheading",color:"text-subdued",children:r.formatMessage({id:"form__anti_scam"})}),Object(Y.jsx)(E.a,{typography:"Body1Strong",mt:3,children:r.formatMessage({id:"form__hide_0_amount_transfers"})}),Object(Y.jsxs)(L.a,{mt:1,alignItems:"flex-start",space:3,children:[Object(Y.jsx)(E.a,{typography:"Body2",color:"text-subdued",flex:1,children:r.formatMessage({id:"form__hide_0_amount_transfers_desc"})}),Object(Y.jsx)(be.a,{labelType:"false",isChecked:i,onToggle:function(){return k.a.dispatch(Object(je.t)(!i))}})]})]})})}var pe=function(){Object(fe.a)((function(e){return Object(Y.jsx)(Oe,{closeOverlay:e})}))};function xe(e){var t,n=e.isLoading,r=e.refresh,i=e.networkId,a=Object(x.a)(),c=Object(I.q)({networkId:i}).network;return Object(Y.jsxs)(b.a,{flexDirection:"row",justifyContent:"space-between",alignItems:"center",pb:3,children:[Object(Y.jsx)(f.h.Heading,{children:a.formatMessage({id:"transaction__history"})}),Object(Y.jsxs)(b.a,{flexDirection:"row",children:[Object(Y.jsx)(de.a,{onPress:function(){null==r||r()},isLoading:Boolean(n),p:2,size:"sm",name:"ArrowPathMini",type:"plain",circle:!0}),(null==c||null==(t=c.settings)?void 0:t.supportFilterScam)&&Object(Y.jsx)(de.a,{onPress:pe,ml:3,p:2,size:"sm",name:"Cog8ToothMini",type:"plain",circle:!0})]})]})}function he(e){e.isEmpty;var t,n,r=e.refresh,i=e.networkId,a=oe();return Object(Y.jsxs)(b.a,{children:[null==a||null==(t=a.context)?void 0:t.headerView,Object(Y.jsx)(xe,{networkId:i,refresh:null!=(n=null==a?void 0:a.context.refresh)?n:r,isLoading:null==a?void 0:a.context.isLoading})]},"header")}function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ve(e){var t=e.title,n=e.titleKey,r=e.data,i=Object(x.a)(),a=t||i.formatMessage({id:n})||"";return Object(Y.jsx)(b.a,{py:2,flexDirection:"row",children:Object(Y.jsxs)(b.a,{flexDirection:"row",alignItems:"center",children:[Object(Y.jsx)(f.h.Subheading,{color:"text-subdued",children:a}),r[0]&&r[0].decodedTx.status===v.c.Pending&&Object(Y.jsx)(b.a,{ml:3,children:Object(Y.jsx)(j.a,{title:r.length.toString(),type:"default",size:"sm"})})]})},"section-header")}var ye=Object(O.memo)((function(e){var t=e.accountId,n=e.networkId,r=e.data,i=e.SectionListComponent,c=Object(u.a)().size,s=Object(_.a)(),l=Object(O.useMemo)((function(){return["NORMAL","LARGE"].includes(c)?32:16}),[c]),j=function(e){var t=e.accountId,n=e.networkId,r=e.history,i=Object(O.useState)([]),c=o()(i,2),s=c[0],l=c[1],d=Object(T.d)((function(e){return e.settings.hideScamHistory})),u=Object(C.a)({networkId:n}).network;return Object(O.useEffect)((function(){var e;d&&t&&u&&null!=u&&null!=(e=u.settings)&&e.supportFilterScam?a()((function*(){for(var e=[],n=0;n<r.length;n+=1){(yield k.a.serviceHistory.checkIsScamHistoryTx({accountId:t,networkId:u.id,historyTx:r[n]}))||e.push(r[n])}l(e)}))():l(r)}),[t,u,r,d]),{filteredHistory:s}}({accountId:t,networkId:n,history:r}).filteredHistory,f=Object(O.useMemo)((function(){return function(e){var t,n=e.items,r=e.formatDate,i={titleKey:"transaction__pending",data:[]},a=[];return n.forEach((function(e){if(e.decodedTx.status===v.c.Pending){var n;null==(n=i)||n.data.push(e)}else{var c=r(e.decodedTx.updatedAt||e.decodedTx.createdAt||0);t&&t.title===c||(t&&a.push(t),t={title:c,data:[]}),t.data.push(e)}})),t&&a.push(t),i.data.length||(i=void 0),i?[i].concat(a).filter(Boolean):[].concat(a).filter(Boolean)}({items:j,formatDate:function(e){return s.formatDate(new Date(e),{hideTheYear:!0,hideTimeForever:!0})}})}),[s,j]),p=!f||!f.length,x={renderItem:Object(O.useCallback)((function(e){var t,n=e.item,r=e.index,i=e.section;return Object(Y.jsx)(re,{historyTx:n,isFirst:0===r,isLast:r===(null==i||null==(t=i.data)?void 0:t.length)-1})}),[]),renderSectionHeader:Object(O.useCallback)((function(e){var t=e.section,n=t.title,r=t.titleKey,i=t.data;return Object(Y.jsx)(ve,{title:n,titleKey:r,data:i})}),[]),contentContainerStyle:{paddingHorizontal:l,marginTop:16},sections:f,ListHeaderComponent:Object(Y.jsx)(he,{isEmpty:p,networkId:n},"header"),ListEmptyComponent:Object(Y.jsx)(le,{},"empty"),ListFooterComponent:Object(Y.jsx)(b.a,{h:"20px"},"footer"),ItemSeparatorComponent:function(){return Object(Y.jsx)(d.a,{},"separator")},keyExtractor:function(e,t){return e.id||t.toString(10)},showsVerticalScrollIndicator:!1,stickySectionHeadersEnabled:!1};return Object(Y.jsx)(i,ge({},x))}));function we(e){var t=e.accountId,n=e.networkId,i=e.tokenId,c=e.headerView,s=e.isHomeTab,l=Object(O.useState)([]),d=o()(l,2),u=d[0],b=d[1],j=oe(),f=Object(I.h)((function(e){return e.status.homeTabName})),x=k.a.serviceHistory,v=Object(I.h)((function(e){return e.refresher.refreshHistoryTs})),_=Object(O.useCallback)(a()((function*(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.refresh,a=void 0===r||r;if(!t||!n)return Promise.resolve([]);if(a){try{yield x.refreshHistory({networkId:n,accountId:t,tokenIdOnNetwork:i})}catch(o){w.a.common.error(o)}yield Object(S.g)(1e3)}var c=yield x.getLocalHistory({networkId:n,accountId:t,tokenIdOnNetwork:""===i?i:i||void 0,limit:y.t.DISPLAY_TX_LIMIT});return c})),[t,n,x,i]),T=Object(O.useCallback)((function(){return _({refresh:!1})}),[_]),C=Object(p.t)(),P=Object(O.useMemo)((function(){return!(!t||!n)&&(!!Object(g.b)(t,n)&&(!!C&&(!s||f===ie.b.History)))}),[t,f,C,s,n]),D=s?"fetchHistoryTx-homeTab":"fetchHistoryTx",M=Object(h.b)(D,_,{refreshInterval:3e4,revalidateOnMount:!1,revalidateOnFocus:!1,shouldRetryOnError:!1,isPaused:function(){return!P},onSuccess:function(e){(function(e){var t=e.oldTxList,n=e.newTxList;if(t.length!==n.length)return!0;for(var r=0;r<5;r+=1){var i=t[r],a=n[r];if(!a&&!i)return!1;if(!a||!i)return!0;if(a.id!==i.id||a.decodedTx.createdAt!==i.decodedTx.createdAt||a.decodedTx.updatedAt!==i.decodedTx.updatedAt||a.decodedTx.status!==i.decodedTx.status||a.decodedTx.totalFeeInNative!==i.decodedTx.totalFeeInNative)return!0}return!1})({oldTxList:u||[],newTxList:e||[]})&&b(e)}}),A=M.mutate,L=M.isValidating,E=Object(O.useCallback)((function(){return x.refreshHistoryUi()}),[x]);Object(O.useEffect)((function(){null==j||j.setContext((function(e){return e.isLoading!==L||e.refresh!==E||e.headerView!==c?ge(ge({},e),{},{refresh:E,isLoading:L,headerView:c}):e}))}),[E,L,j,c]);var H=Object(O.useMemo)((function(){var e=u[0];return e&&(null==e?void 0:e.decodedTx.networkId)===n&&(null==e?void 0:e.decodedTx.accountId)===t}),[t,u,n]);if(Object(O.useEffect)((function(){a()((function*(){if(P&&!H){var e=yield T();b(e||[])}}))()}),[t,n,T,P,H]),Object(O.useEffect)((function(){P&&A()}),[v,t,n,A,P]),!t||!n)return null;var R=s?m.Tabs.SectionList:r.a;return Object(Y.jsx)(ye,{accountId:t,networkId:n,data:u,SectionListComponent:R})}function ke(e){var t=e.headerView,n=e.isHomeTab;return Object(Y.jsx)(ce,{headerView:t,isTab:n,children:Object(Y.jsx)(we,ge({},e))})}},3766:function(e,t,n){"use strict";n.r(t);var r=n(32),i=n(389),a=n(79),c=n(85),o=n(1),s=n(52),l=n(508),d=n(300),u=n(176),b=n(3082),j=n(362),f=n(142),O=n(461),p=n(3),x=n.n(p),h=n(10),m=n.n(h),g=n(15),v=n(3208),y=n(3261),w=n(3221),k=n(0),I=function(e){var t,n,i=e.contract,a=e.networkId,s=e.style,l=Object(o.useState)(!0),d=m()(l,2),j=d[0],f=d[1],O=Object(o.useState)(0),p=m()(O,2),h=p[0],I=p[1],_=Object(b.b)({networkId:a,contractAdress:i}),T=Object(u.u)().selectedFiatMoneySymbol,C=void 0===_||null===_,S=Object(o.useRef)([]);Object(c.a)()?n="100":g.a.isNativeIOSPad&&(n="300");var P=Object(o.useCallback)(function(){var e=x()((function*(e){var t=w.a.indexOf(e);if(!S.current[t]){f(!0);var r=yield Object(v.b)({contract:i,networkId:a,days:w.b[t],points:n,vs_currency:T});null!=r&&r.length&&(S.current[t]=r)}I(t),f(!1)}));return function(t){return e.apply(this,arguments)}}(),[i,a,n,T]);return Object(o.useEffect)((function(){P(w.a[0])}),[P]),Object(k.jsx)(r.a,{style:s,children:Object(k.jsx)(y.a,{isFetching:j,data:C?null:(null==(t=S.current)?void 0:t[h])||[],children:Object(k.jsx)(w.c,{enabled:!j&&!C,selectedIndex:h,onTimeChange:P})})})};I.displayName="PriceChart";var _=I,T=n(1147),C=n(125),S=n(326),P=n(268),D=n(41),M=n(110),A=n(744),L=n(2),E=n.n(L),H=n(98),R=n(298),F=n.n(R),B=n(3250),z=n.n(B),N=n(43),V=n(3251),W=n(3148);function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var K=function(e){var t=Object.assign({},(F()(e),e)),n=Object(l.a)(),r=Object(u.o)(),i=Object(u.f)(),a=i.networkId,c=i.wallet,s=Object(o.useCallback)((function(){r.navigate(f.c.Modal,{screen:f.b.Staking,params:{screen:W.a.StakingAmount,params:{networkId:a}}})}),[r,a]);return Object(k.jsx)(H.a,G(G({},t),{},{onPress:s,isDisabled:"watching"===(null==c?void 0:c.type),children:n.formatMessage({id:"action__stake"})}))};function X(){var e=Object(l.a)(),t=Object(A.a)().themeVariant;return Object(k.jsxs)(r.a,{borderRadius:12,bg:"surface-default",p:"4",flexDirection:"row",alignItems:"center",justifyContent:"space-between",borderWidth:"light"===t?1:0,borderColor:"border-subdued",children:[Object(k.jsxs)(r.a,{flexDirection:"row",alignItems:"center",flex:1,children:[Object(k.jsx)(M.a,{w:"8",h:"8",bg:"interactive-default",mr:"3",borderRadius:"full",children:Object(k.jsx)(a.a,{name:"DatabaseMini",color:"icon-on-primary"})}),Object(k.jsxs)(r.a,{mr:"4",flex:1,children:[Object(k.jsx)(D.h.Body1Strong,{children:e.formatMessage({id:"form__stake_earn"})}),Object(k.jsx)(D.h.Caption,{color:"text-subdued",children:e.formatMessage({id:"form__stake_earn_desc"},{0:"4.12%"})})]})]}),Object(k.jsx)(K,{})]})}var q=function(e){var t,n=e.state,i=e.networkId,c=e.accountId,s=Object(l.a)(),d=Object(u.o)(),b=Object(V.a)(i,c);Object(o.useEffect)((function(){function e(){return t.apply(this,arguments)}function t(){return(t=x()((function*(){if(b){if(void 0===b.nonce)return void N.a.serviceStaking.setAccountStakingActivity({networkId:i,accountId:c,data:void 0});var e=yield N.a.serviceHistory.queryTransactionNonceStatus({networkId:i,accountId:c,nonce:b.nonce});if("pending"===e)return;if("canceled"===e||"failed"===e)return void N.a.serviceStaking.setAccountStakingActivity({networkId:i,accountId:c,data:void 0});var t,n=yield N.a.serviceStaking.fetchStakedStateOnKele({networkId:i,accountId:c});if(n)n.total&&n.total>Number(null!=(t=b.oldValue)?t:0)&&N.a.serviceStaking.setAccountStakingActivity({networkId:i,accountId:c,data:void 0})}}))).apply(this,arguments)}if(b){var n,r=null!=(n=b.createdAt)?n:0;if(r&&!(Date.now()-r>36e5)){e();var a=setInterval(e,3e4);return function(){return clearInterval(a)}}N.a.serviceStaking.setAccountStakingActivity({networkId:i,accountId:c,data:void 0})}}),[b,i,c]);var j=Object(o.useCallback)((function(){d.navigate(f.c.Modal,{screen:f.b.Staking,params:{screen:W.a.StakedETHOnKele,params:{networkId:i}}})}),[d,i]);return Object(k.jsxs)(r.a,{borderRadius:12,bg:"surface-default",flexDirection:"row",p:"4",children:[Object(k.jsx)(r.a,{mr:"3",children:Object(k.jsx)(P.a,{w:"8",h:"8",source:z.a})}),Object(k.jsxs)(r.a,{flex:"1",children:[Object(k.jsxs)(r.a,{children:[Object(k.jsx)(D.h.Body1Strong,{children:s.formatMessage({id:"title__staked_on_str"},{0:"kelepool"})}),b?Object(k.jsxs)(r.a,{flexDirection:"row",alignItems:"center",children:[Object(k.jsx)(S.b,{size:"sm"}),Object(k.jsx)(D.h.Body2,{ml:"2",color:"text-subdued",children:s.formatMessage({id:"title__staking_in_process"},{0:"5"})})]}):Object(k.jsx)(D.h.Body2,{color:"text-subdued",children:(null!=(t=null==n?void 0:n.total)?t:"0")+" ETH"})]}),Object(k.jsxs)(r.a,{justifyContent:"space-between",flexDirection:"row",mt:"4",children:[Object(k.jsx)(r.a,{children:b?null:Object(k.jsxs)(C.a,{flexDirection:"row",alignItems:"center",onPress:j,children:[Object(k.jsx)(D.h.Body2,{color:"text-subdued",children:s.formatMessage({id:"content__details"})}),Object(k.jsx)(a.a,{name:"ChevronRightOutline",size:16})]})}),Object(k.jsxs)(T.a,{direction:"row",space:4,children:[Object(k.jsx)(H.a,{size:"sm",isDisabled:!0,children:s.formatMessage({id:"action__unstake"})}),Object(k.jsx)(K,{size:"sm",type:"primary"})]})]})]})]})},J=function(e){var t=e.networkId,n=e.accountId,r=Object(V.b)(t,n),i=Object(V.a)(t,n);return Object(o.useEffect)((function(){N.a.serviceStaking.fetchStakedStateOnKele({accountId:n,networkId:t})}),[n,t]),r&&r.total&&r.total>0||i?Object(k.jsx)(q,{state:r,networkId:t,accountId:n}):Object(k.jsx)(X,{})},Y=function(e){var t=e.networkId,n=e.accountId;return Object(k.jsx)(J,{networkId:t,accountId:n})},Q=function(e){var t,n=e.networkId,i=e.tokenIdOnNetwork,a=Object(u.f)().accountId,c=Object(j.m)(n,i);return n&&c&&(t=Object(k.jsx)(Y,{networkId:n,accountId:a})),t?Object(k.jsx)(r.a,{mb:"4",children:t}):null},Z=n(3404),$=n(186),ee=n(742),te=n(3051),ne=n(42),re=n(3136),ie=n(3313),ae=n(458),ce=n(188),oe=n(1113),se=function(e){var t=e.networkId,n=e.balances,r=e.contractAdress,i=e.token,a=Object(b.b)({networkId:t,contractAdress:r});return Object(k.jsx)(te.f,{value:Object(oe.e)({token:i,price:a,balances:n})})};function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function de(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ue=function(e){var t=e.token,n=e.priceReady,i=e.sendAddress,a=Object(l.a)(),d=Object(c.a)(),u=Object(ne.c)(),b=u.wallet,j=u.network,p=u.networkId,x=u.accountId,h=Object(s.u)(),m=Object(ne.k)(null==j?void 0:j.id,t?de(de({},t),{},{sendAddress:i}):void 0),g=m.sellEnable,v=m.balances,y=m.cryptoCurrency,w=m.amount,I=Object(o.useMemo)((function(){var e;return Object(k.jsxs)(r.a,{w:"100%",flexDirection:d?"column":"row",alignItems:"center",children:[Object(k.jsx)(ee.c,{size:12,showTokenVerifiedIcon:!0,token:de(de({},t),{},{logoURI:(null==t?void 0:t.logoURI)||(null==j?void 0:j.logoURI)})}),Object(k.jsxs)(r.a,{width:"100%",flex:1,ml:d?0:4,alignItems:d?"center":"flex-start",children:[Object(k.jsx)(r.a,{flex:1,width:"100%",flexDirection:"row",mt:2,mx:d?4:0,children:Object(k.jsx)(te.a,{balance:w,suffix:null!=t&&t.tokenIdOnNetwork?null==t?void 0:t.symbol:null==j?void 0:j.symbol,formatOptions:{fixed:null!=(e=null!=t&&t.tokenIdOnNetwork?null==j?void 0:j.tokenDisplayDecimals:null==j?void 0:j.nativeDisplayDecimals)?e:4},as:D.h.DisplayXLarge,render:function(e){return Object(k.jsxs)(r.a,{flexDirection:"row",alignItems:"center",flex:1,justifyContent:"center",children:[Object(k.jsx)(D.h.DisplayXLarge,{textAlign:d?"center":"left",mr:"2",children:e}),Object(k.jsx)(ee.b,{size:24,token:t||{}})]})}})}),Object(k.jsx)(D.h.Body2,{mt:1,children:Object(k.jsx)(se,{networkId:p,token:t,contractAdress:null==t?void 0:t.tokenIdOnNetwork,balances:v})})]})]})}),[d,t,null==j?void 0:j.logoURI,null==j?void 0:j.symbol,null==j?void 0:j.tokenDisplayDecimals,null==j?void 0:j.nativeDisplayDecimals,w,p,v]),_=Object(o.useMemo)((function(){return Object(k.jsxs)(r.a,{flexDirection:"row",px:{base:1,md:0},mx:-3,children:[Object(k.jsxs)(r.a,{flex:1,mx:3,minW:"56px",alignItems:"center",children:[Object(k.jsx)($.a,{circle:!0,size:d?"xl":"lg",name:"PaperAirplaneOutline",type:"basic",isDisabled:"watching"===(null==b?void 0:b.type),onPress:function(){var e;h.navigate(f.c.Modal,{screen:f.b.Send,params:{screen:ae.a.PreSendAddress,params:{accountId:x,networkId:p,from:"",to:"",amount:"",token:null!=(e=null==t?void 0:t.tokenIdOnNetwork)?e:"",sendAddress:i}}})}}),Object(k.jsx)(D.h.CaptionStrong,{textAlign:"center",mt:"8px",color:"watching"===(null==b?void 0:b.type)?"text-disabled":"text-default",children:a.formatMessage({id:"action__send"})})]}),Object(k.jsxs)(r.a,{flex:1,mx:3,minW:"56px",alignItems:"center",children:[Object(k.jsx)($.a,{circle:!0,size:d?"xl":"lg",name:"QrCodeOutline",type:"basic",isDisabled:"watching"===(null==b?void 0:b.type),onPress:function(){h.navigate(f.c.Modal,{screen:f.b.Receive,params:{screen:ie.a.ReceiveToken,params:{}}})}}),Object(k.jsx)(D.h.CaptionStrong,{textAlign:"center",mt:"8px",color:"watching"===(null==b?void 0:b.type)?"text-disabled":"text-default",children:a.formatMessage({id:"action__receive"})})]}),Object(k.jsxs)(r.a,{flex:{base:1,sm:0},mx:3,minW:"56px",alignItems:"center",children:[Object(k.jsx)($.a,{circle:!0,size:d?"xl":"lg",name:"ArrowsRightLeftOutline",type:"basic",isDisabled:"watching"===(null==b?void 0:b.type),onPress:function(){var e,n;(t&&N.a.serviceSwap.setInputToken(t),d)?(N.a.serviceMarket.switchMarketTopTab(ce.e),null==(e=h.getParent())||e.navigate(f.d.Market)):null==(n=h.getParent())||n.navigate(f.d.Swap)}}),Object(k.jsx)(D.h.CaptionStrong,{textAlign:"center",mt:"8px",color:"watching"===(null==b?void 0:b.type)?"text-disabled":"text-default",children:a.formatMessage({id:"title__swap"})})]}),d?null:Object(k.jsxs)(k.Fragment,{children:[y&&Object(k.jsxs)(r.a,{flex:1,mx:3,minW:"56px",alignItems:"center",children:[Object(k.jsx)($.a,{circle:!0,size:d?"xl":"lg",name:"PlusOutline",type:"basic",isDisabled:"watching"===(null==b?void 0:b.type),onPress:function(){h.navigate(f.c.Modal,{screen:f.b.FiatPay,params:{screen:re.FiatPayRoutes.AmountInputModal,params:{token:y,type:"Buy"}}})}}),Object(k.jsx)(D.h.CaptionStrong,{textAlign:"center",mt:"8px",color:"watching"===(null==b?void 0:b.type)?"text-disabled":"text-default",children:a.formatMessage({id:"action__buy"})})]}),g&&Object(k.jsxs)(r.a,{flex:1,mx:3,minW:"56px",alignItems:"center",children:[Object(k.jsx)($.a,{circle:!0,size:d?"xl":"lg",name:"CurrencyDollarOutline",type:"basic",isDisabled:"watching"===(null==b?void 0:b.type),onPress:function(){h.navigate(f.c.Modal,{screen:f.b.FiatPay,params:{screen:re.FiatPayRoutes.AmountInputModal,params:{token:y,type:"Sell"}}})}}),Object(k.jsx)(D.h.CaptionStrong,{textAlign:"center",mt:"8px",color:"watching"===(null==b?void 0:b.type)?"text-disabled":"text-default",children:a.formatMessage({id:"action__sell"})})]})]}),n&&!d&&Object(k.jsxs)(r.a,{flex:1,mx:3,minW:"56px",alignItems:"center",children:[Object(k.jsx)($.a,{circle:!0,size:d?"xl":"lg",name:"BellOutline",type:"basic",onPress:function(){h.navigate(f.c.Modal,{screen:f.b.ManageToken,params:{screen:O.a.PriceAlertList,params:{token:t}}})}}),Object(k.jsx)(D.h.CaptionStrong,{textAlign:"center",mt:"8px",color:"text-default",children:a.formatMessage({id:"form__price_alert"})})]})]})}),[i,d,null==b?void 0:b.type,a,y,g,n,h,x,p,t]);return Object(o.useMemo)((function(){return Object(k.jsxs)(r.a,{w:"100%",py:d?8:12,flexDirection:d?"column":"row",justifyContent:d?"flex-start":"space-between",alignItems:d?"stretch":"center",bgColor:"background-default",children:[Object(k.jsx)(r.a,{w:d?"full":void 0,children:I}),Object(k.jsx)(r.a,{mt:d?8:0,alignItems:d?void 0:"flex-end",ml:d?void 0:"auto",children:_})]})}),[d,I,_])};t.default=function(){var e=Object(l.a)(),t=Object(o.useRef)(!0),n=Object(s.u)(),p=Object(s.x)(),x=Object(c.a)(),h=p.params,m=h.accountId,g=h.networkId,v=h.tokenId,y=h.sendAddress,w=Object(b.b)({networkId:g,contractAdress:v}),I=Object(j.k)(g,v).token,T=Object(u.f)(),C=T.account,S=T.network,P=Object(o.useMemo)((function(){return!!I&&!!w}),[w,I]);Object(o.useLayoutEffect)((function(){t.current?t.current=!1:n.canGoBack()&&n.goBack()}),[null==C?void 0:C.id,null==S?void 0:S.id,n]),Object(o.useEffect)((function(){n.setOptions({title:(null==I?void 0:I.name)||(null==C?void 0:C.name)||""})}),[n,I,m,g,null==C?void 0:C.name]);var D=Object(o.useCallback)((function(e){"priceAlert"===e&&n.navigate(f.c.Modal,{screen:f.b.ManageToken,params:{screen:O.a.PriceAlertList,params:{token:I}}})}),[I,n]),M=Object(o.useCallback)((function(){return Object(k.jsx)(i.b,{dropdownPosition:"right",title:e.formatMessage({id:"action__more"}),onChange:D,footer:null,activatable:!1,triggerProps:{width:"40px"},dropdownProps:{width:248},options:[{label:e.formatMessage({id:"form__price_alert"}),value:"priceAlert",iconProps:{name:"BellOutline"}}],renderTrigger:function(){return Object(k.jsx)(a.a,{name:"DotsHorizontalOutline"})}})}),[e,D]);Object(o.useLayoutEffect)((function(){P&&x&&n.setOptions({headerRight:M})}),[n,e,M,D,P,I,x]);var A=Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(ue,{token:I,sendAddress:y,priceReady:P}),Object(k.jsx)(Q,{networkId:null==I?void 0:I.networkId,tokenIdOnNetwork:null==I?void 0:I.tokenIdOnNetwork}),Object(k.jsx)(_,{style:{marginBottom:20},networkId:g,contract:v})]});return Object(k.jsx)(r.a,{bg:"background-default",flex:1,marginX:"auto",w:"100%",maxW:d.f,children:Object(k.jsx)(Z.a,{accountId:m,networkId:g,tokenId:v,headerView:A})})}}}]);