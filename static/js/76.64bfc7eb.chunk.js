(this.webpackJsonp=this.webpackJsonp||[]).push([[76],{3061:function(e,t,n){"use strict";n.d(t,"h",(function(){return d})),n.d(t,"d",(function(){return b})),n.d(t,"c",(function(){return j})),n.d(t,"g",(function(){return f})),n.d(t,"b",(function(){return p})),n.d(t,"f",(function(){return O})),n.d(t,"a",(function(){return h})),n.d(t,"e",(function(){return x}));var r=n(10),i=n.n(r),o=n(1),c=n(176),a=n(15),s=n(43);var u=function(e){return e.split(".").slice(-2).join(".")};function l(){var e=Object(c.h)((function(e){return e.discover.history}));return Object(o.useMemo)((function(){var t={};return Object.values(e).forEach((function(e){var n=e.webSite;if(n){var r=n.url;if(r){var i=new URL(r).host;t[i]=n}}})),t}),[e])}function d(){var e=Object(o.useState)({}),t=i()(e,2),n=t[0],r=t[1],a=l(),u=Object(c.h)((function(e){return e.discover.userBrowserHistories})),d=Object(o.useMemo)((function(){return u?u.filter((function(e){return e.dappId})).map((function(e){return e.dappId})):[]}),[u]);return Object(o.useEffect)((function(){d&&d.length&&s.a.serviceDiscover.getDappsByIds(d).then((function(e){r(e.reduce((function(e,t){return e[t._id]=t,e}),{}))}))}),[d]),Object(o.useMemo)((function(){return u?u.map((function(e){var t,r,i=e.dappId,o=e.url;if(i&&n[i]){var c=n[i];return{id:c._id,dapp:c}}var s=new URL(o).host,u=a[s];return{id:o,webSite:{url:o,title:null!=(t=e.title)?t:null==u?void 0:u.title,favicon:null!=(r=e.logoUrl)?r:u.favicon}}})):[]}),[u,n,a])}function b(){var e=Object(o.useState)([]),t=i()(e,2),n=t[0],r=t[1],a=Object(c.h)((function(e){return e.discover.dappHistory})),u=Object(o.useMemo)((function(){return a?Object.entries(a).sort((function(e,t){return t[1].timestamp-e[1].timestamp})).map((function(e){return e[0]})).filter((function(e){return!Number.isNaN(e)})):[]}),[a]);return Object(o.useEffect)((function(){u&&s.a.serviceDiscover.getDappsByIds(u).then((function(e){r(e.map((function(e){return{id:e._id,dapp:e}})))}))}),[u]),n}function j(){var e=l(),t=Object(c.h)((function(e){return e.discover.dappFavorites})),n=function(){var e=Object(o.useState)([]),t=i()(e,2),n=t[0],r=t[1],a=Object(c.h)((function(e){return e.discover.dappFavorites})),l=Object(o.useMemo)((function(){return a?a.map((function(e){return new URL(e).origin})):[]}),[a]);return Object(o.useEffect)((function(){l.length>0&&s.a.serviceDiscover.searchDappsWithRegExp(l).then(r)}),[l]),{dappsHostMap:Object(o.useMemo)((function(){for(var e={},t=0;t<n.length;t+=1){var r=n[t];if(r.url){var i=new URL(r.url).host;if(i)e[i]=r;else{var o=u(i);o&&(e[o]=r)}}}return e}),[n]),dapps:n}}().dappsHostMap;return Object(o.useMemo)((function(){if(!t)return[];var r=[];for(var i of t){var o=new URL(i).host;if(o){var c,a=null!=(c=n[o])?c:n[u(o)];if(a)r.push({id:i,dapp:a});else{var s=e[o];s&&r.push({id:i,webSite:s})}}}return r}),[t,n,e])}function f(){var e=Object(c.h)((function(e){return e.discover.home}));return Object(o.useMemo)((function(){return e?e.tagDapps.filter((function(e){return e.items.length>0})):[]}),[e])}function p(e){var t=Object(o.useState)([]),n=i()(t,2),r=n[0],c=n[1];return Object(o.useEffect)((function(){e&&s.a.serviceDiscover.getCategoryDapps(e).then(c)}),[e]),r}function O(e){var t=Object(o.useState)([]),n=i()(t,2),r=n[0],c=n[1];return Object(o.useEffect)((function(){e&&s.a.serviceDiscover.getTagDapps(e).then(c)}),[e]),r}function h(){var e=Object(c.h)((function(e){return e.discover.home}));return Object(o.useMemo)((function(){return e?e.categories:[]}),[e])}function x(){var e=a.a.isNativeIOS||a.a.isMas,t=Object(c.h)((function(e){return e.discover.showBookmark})),n=Object(c.h)((function(e){var t;return null==(t=e.settings.devMode)?void 0:t.hideDiscoverContent}));return Object(o.useMemo)((function(){return!n&&(!e||t)}),[t,e,n])}},3066:function(e,t,n){"use strict";var r=n(2),i=n.n(r),o=n(79),c=n(16),a=n.n(c),s=n(1107),u=n(32),l=n(268),d=n(3191),b=n.n(d),j=n(3192),f=n.n(j),p=n(176),O=n(0),h=["url","size","networkIds"];function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e){return{24:{borderRadius:8,innerSize:22,innerRadius:6,chainIconPadding:1.57},28:{borderRadius:9,innerSize:25,innerRadius:6,chainIconPadding:1.57},38:{borderRadius:10,innerSize:36,innerRadius:10,chainIconPadding:1.57},40:{borderRadius:12,innerSize:36,innerRadius:10,chainIconPadding:1.57},48:{borderRadius:12,innerSize:44,innerRadius:10,chainIconPadding:2.69}}[e]}var g=function(e){var t=e.networkIds,n=e.size,r=m(n).chainIconPadding,i=Object(p.r)(t[0]);return t.length>1?Object(O.jsxs)(u.a,{children:[Object(O.jsx)(l.a,{position:"absolute",bottom:"0.1px",right:"0.1px",width:.625*n+"px",height:.4375*n+"px",source:b.a}),Object(O.jsx)(u.a,{position:"absolute",bottom:(null!=r?r:0)+"px",right:(null!=r?r:0)+"px",borderRadius:"full",children:Object(O.jsx)(l.a,{width:.2*n+"px",height:.2*n+"px",source:f.a})})]}):Object(O.jsxs)(u.a,{children:[Object(O.jsx)(l.a,{position:"absolute",bottom:"0.1px",right:"0.1px",width:.625*n+"px",height:.4375*n+"px",source:b.a}),Object(O.jsx)(u.a,{position:"absolute",bottom:(null!=r?r:0)+"px",right:(null!=r?r:0)+"px",children:Object(O.jsx)(s.a,{width:.2*n+"px",height:.2*n+"px",src:null==i?void 0:i.logoURI,borderRadius:"full"})})]})};t.a=function(e){var t=e.url,n=e.size,r=e.networkIds,i=a()(e,h),c=m(n),l=c.innerSize,d=c.innerRadius,b=c.borderRadius;return Object(O.jsx)(u.a,v(v({justifyContent:"center",alignItems:"center",width:n+"px",height:n+"px",borderRadius:b+"px",borderWidth:"1px",borderColor:"border-subdued"},i),{},{children:Object(O.jsxs)(u.a,{width:l+"px",height:l+"px",children:[t?Object(O.jsx)(s.a,{src:t,width:l+"px",height:l+"px",borderRadius:d+"px",bgColor:"surface-neutral-default",fallbackElement:Object(O.jsx)(u.a,{borderRadius:12,justifyContent:"center",alignItems:"center",width:l+"px",height:l+"px",children:Object(O.jsx)(o.a,{size:16,name:"GlobeAltMini"})})}):Object(O.jsx)(u.a,{borderRadius:12,justifyContent:"center",alignItems:"center",width:l+"px",height:l+"px",children:Object(O.jsx)(o.a,{size:16,name:"GlobeAltMini"})}),r&&r.length>0?Object(O.jsx)(g,{size:n,networkIds:r}):null]})}))}},3090:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.SearchHistoryModal="SearchHistoryModal",e.ShareModal="ShareModal",e.DAppListModal="DAppListModal",e.MyDAppListModal="MyDAppListModal"}(r||(r={}))},3103:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(32),i=n(268),o=n(110),c=n(79),a=n(176),s=n(0),u=function(e){var t=e.networkIds,n=Object(a.h)((function(e){return e.runtime.networks})).filter((function(e){return null==t?void 0:t.includes(e.id)}));return Object(s.jsx)(r.a,{flexDirection:"row",children:null==n?void 0:n.map((function(e,t){return Object(s.jsx)(r.a,{ml:t>0?-1:0,children:Object(s.jsx)(i.a,{size:4,borderRadius:"full",src:e.logoURI,fallbackElement:Object(s.jsx)(o.a,{width:4,height:4,borderRadius:"full",bg:"background-selected",children:Object(s.jsx)(c.a,{name:"QuestionMarkOutline"})})})},e.id)}))})}},3104:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n(85),i=n(649),o=n(32),c=n(2),a=n.n(c),s=n(283),u=n(558),l=n(121),d=n(1),b=n(1132),j=n(1131),f=n(389),p=n(0);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x=function(e){var t=e.closeOverlay,n=e.modalProps,r=e.children,i=e.modalLizeProps,o=Object(d.useRef)(null),c=Object(l.a)("surface-subdued"),a=Object(u.a)().bottom;return Object(d.useEffect)((function(){setTimeout((function(){var e;return null==(e=o.current)?void 0:e.open()}),10)}),[]),Object(p.jsx)(b.Modalize,h(h({ref:o,onClosed:t,closeOnOverlayTap:!0,adjustToContentHeight:!0,withHandle:!1,modalStyle:{backgroundColor:c,borderTopLeftRadius:24,borderTopRightRadius:24,overflow:"hidden"}},i),{},{children:Object(p.jsx)(s.b,h(h({visible:!0,footer:null,closeAction:t,staticChildrenProps:{padding:"8px",paddingBottom:a+8+"px"}},n),{},{children:r}))}))},v=function(e){var t=e.closeOverlay,n=e.children,r=e.triggerEle,c=e.dropdownStyle,a=e.dropdownPosition,s=Object(d.useRef)(),u=Object(j.a)({contentRef:s,triggerEle:r,visible:!0,translateY:2,dropdownPosition:null!=a?a:"right",autoAdjust:!1}),l=u.position,b=u.toPxPositionValue,O=u.isPositionNotReady;return Object(p.jsxs)(o.a,{position:"absolute",w:"full",h:"full",children:[Object(p.jsx)(f.a,{onClose:t}),Object(p.jsx)(i.a,{visible:!O,initial:{opacity:0,translateY:0},animate:{opacity:1,translateY:2,transition:{duration:150}},children:Object(p.jsx)(o.a,h(h({overflow:"hidden",bg:"surface-subdued",position:"absolute",w:"240px",p:"4px",borderRadius:"12px",borderWidth:1,borderColor:"border-subdued",ref:s,left:b(l.left),right:b(l.right),top:b(l.top),bottom:b(l.bottom)},c),{},{children:n}))})]})},m=function(e){return Object(r.a)()?Object(p.jsx)(x,h({},e)):Object(p.jsx)(v,h({},e))}},3191:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAAA/CAYAAABgkd/rAAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJdSURBVHgB7ZztcdNQEEWvaQDTgTrAqQBTAVABoQLoAFEBoYKYClKCTAfuwKICQgWb3XlPM5okTuxET9qr7JlZyx4rP3LmzurjrQwEwVwQkeUrBGNQhehxCNEj8RFBebRH7xGURSWvtSRaR3nOEZRFg1xJBkE51O8mRBdG3Z5LDwTDk1vGvxBdkCx5L7dAMByHJIfoAVGXq0OSQ/RAqMfv8ggIno6kq769HAGC01Bny5zgowR3LPACMVm6saqO2N32ea210lof+Td3eBGis9jPeKas5zBr0dZDdfMVSe4SEzJL0TnBF0gpdsHsRKtkW824xMQJvs2s7kfb2YBuruBMsjGbRGfJNZwyC9HeJRv0onNPvoJzqEWr5Eo3DSY4Lz4V9oNhDQLJBm2ic5pp5iWYE12DCGbR70AEpeh8D6MCEayJphsaZBX9FmSwiq7ARRuix4FWNBv/Q/Q47EL0OGwpL8EJ5yTeRKLLs10sFtchujwbewnR5fljLyG6LNY2WntDJzrPbLDwo3vDmOgKHLSa5m33IUSX40v/A6PoNfyz6afZYBTtfWWlRa83d1CJzguyK/im7s40+rAluoZvfqnk3/d9QXOvg2BYZqeSzw59yZRoGyiv4JNW69NDO1Ak2vmwTKv1/r6+3Md9ovOVYAOf7LTOHpNsMLQOm96v4A878Jnka7Cjab4Uf9ivFnzDHJD00GQj/mgkHS/4kRMe+x2RRtIYGj+SUvxTfNHIQIInP73L/4jN0tkzgR7uNW+RVkUuhjzQjSpaUn8zmatcHzDdGUWrZSJ3uf4iL6SiADfgDPvDqYetVAAAAABJRU5ErkJggg=="},3192:function(e,t,n){e.exports=n.p+"static/media/dappIcon_multichain.54d7ea07.png"},3406:function(e,t,n){"use strict";n.r(t);var r=n(32),i=n(85),o=n(1),c=n(52),a=n(508),s=Object(o.createContext)({}),u=n(1112),l=n(10),d=n.n(l),b=n(1105),j=n(125),f=n(41),p=n(186),O=n(743),h=n(249),x=n(176),v=n(70),m=n(79),g=n(163),y=n(1115),w=n(363),_=n(746),M=n(43),S=n(142),R=n(388),A=n(3090),k=n(3104),D=n(0),P=function(e){var t=e.closeOverlay,n=e.item,c=Object(i.a)(),s=Object(a.a)(),u=Object(x.o)(),l=Object(o.useMemo)((function(){return[!!c&&{id:"title__share",onPress:function(){var e,t,r,i,o,c,a,s,l,d,b,j=null!=(e=null==(t=n.dapp)?void 0:t.logoURL)?e:null==(r=n.webSite)?void 0:r.favicon,f=null!=(i=null!=(o=null==(c=n.dapp)?void 0:c.name)?o:null==(a=n.webSite)?void 0:a.title)?i:"Unknown",p=null!=(s=null!=(l=null==(d=n.dapp)?void 0:d.url)?l:null==(b=n.webSite)?void 0:b.url)?s:"";u.navigate(S.c.Modal,{screen:S.b.Discover,params:{screen:A.a.ShareModal,params:{url:p,name:f,logoURL:j}}})},icon:"ShareOutline"},{id:"action__copy_url",onPress:function(){var e,t,r,i;Object(_.a)(null!=(e=null!=(t=null==n||null==(r=n.dapp)?void 0:r.url)?t:null==n||null==(i=n.webSite)?void 0:i.url)?e:""),g.a.show({title:s.formatMessage({id:"msg__copied"})})},icon:"LinkOutline"},{id:"action__remove",onPress:function(){M.a.serviceDiscover.removeFavorite(n.id),g.a.show({title:s.formatMessage({id:"transaction__success"})})},icon:"TrashOutline",isDanger:!0}]}),[n,s,c,u]);return Object(D.jsx)(r.a,{bg:"surface-subdued",flexDirection:"column",children:l.filter(Boolean).map((function(e){var n=e.onPress,r=e.icon,i=e.id,o=e.isDanger;return Object(D.jsxs)(y.a,{flexDirection:"row",alignItems:"center",py:{base:"12px",sm:"8px"},px:{base:"16px",sm:"8px"},bg:"transparent",borderRadius:"12",onPress:function(){t(),n()},children:[Object(D.jsx)(m.a,{size:c?24:20,name:r,color:o?"text-critical":"text-default"}),Object(D.jsx)(v.a,{typography:c?"Body1Strong":"Body2Strong",ml:"12px",color:o?"text-critical":"text-default",children:s.formatMessage({id:i})})]},i)}))})},C=function(e){var t=e.triggerEle,n=e.dapp,r=e.title;return Object(R.a)((function(e){return Object(D.jsx)(k.a,{triggerEle:t,closeOverlay:e,modalProps:{header:null!=r?r:Object(w.b)({id:"action__more"})},children:Object(D.jsx)(P,{closeOverlay:e,item:n})})}))},I=function(e){var t=e.closeOverlay,n=e.item,c=Object(i.a)(),s=Object(a.a)(),u=Object(x.o)(),l=Object(o.useMemo)((function(){return[!!c&&{id:"title__share",onPress:function(){var e,t,r,i,o,c,a,s,l,d,b,j=null!=(e=null==(t=n.dapp)?void 0:t.logoURL)?e:null==(r=n.webSite)?void 0:r.favicon,f=null!=(i=null!=(o=null==(c=n.dapp)?void 0:c.name)?o:null==(a=n.webSite)?void 0:a.title)?i:"Unknown",p=null!=(s=null!=(l=null==(d=n.dapp)?void 0:d.url)?l:null==(b=n.webSite)?void 0:b.url)?s:"";u.navigate(S.c.Modal,{screen:S.b.Discover,params:{screen:A.a.ShareModal,params:{url:p,name:f,logoURL:j}}})},icon:"ShareOutline"},{id:"action__copy_url",onPress:function(){var e,t,r,i;Object(_.a)(null!=(e=null!=(t=null==n||null==(r=n.dapp)?void 0:r.url)?t:null==n||null==(i=n.webSite)?void 0:i.url)?e:""),g.a.show({title:s.formatMessage({id:"msg__copied"})})},icon:"LinkMini"},{id:"action__remove",onPress:function(){M.a.serviceDiscover.removeMatchItem(n),g.a.show({title:s.formatMessage({id:"transaction__success"})})},icon:"TrashMini",isDanger:!0}]}),[n,s,c,u]);return Object(D.jsx)(r.a,{bg:"surface-subdued",flexDirection:"column",children:l.filter(Boolean).map((function(e){var n=e.onPress,r=e.icon,i=e.id,o=e.isDanger;return Object(D.jsxs)(y.a,{flexDirection:"row",alignItems:"center",py:{base:"12px",sm:"8px"},px:{base:"16px",sm:"8px"},bg:"transparent",borderRadius:"12",onPress:function(){t(),n()},children:[Object(D.jsx)(m.a,{size:c?24:20,name:r,color:o?"text-critical":"text-default"}),Object(D.jsx)(v.a,{typography:c?"Body1Strong":"Body2Strong",ml:"12px",color:o?"text-critical":"text-default",children:s.formatMessage({id:i})})]},i)}))})},L=function(e){var t=e.dapp,n=e.title,r=e.triggerEle;return Object(R.a)((function(e){return Object(D.jsx)(k.a,{triggerEle:r,closeOverlay:e,modalProps:{header:null!=n?n:Object(w.b)({id:"action__more"})},children:Object(D.jsx)(I,{closeOverlay:e,item:t})})}))},E=n(3103),B=n(3066),z=n(3061),U=function(){var e=Object(a.a)();return Object(D.jsx)(O.a,{emoji:"\u2b50\ufe0f",title:e.formatMessage({id:"title__no_favorite_dapp"}),subTitle:e.formatMessage({id:"title__no_favorite_dapp_desc"})})},T=function(){var e=Object(a.a)();return Object(D.jsx)(O.a,{emoji:"\ud83d\udd58",title:e.formatMessage({id:"title__no_history"}),subTitle:e.formatMessage({id:"title__no_history_desc"})})},N=function(e){var t,n,i,c,a,u,l,d,b,O,h,v,m=e.item,g=e.cardWidth,y=e.callback,w=Object(o.useRef)(),_=Object(x.w)(),M=Object(o.useContext)(s).onItemSelect,S=null!=(t=null==(n=m.dapp)?void 0:n.logoURL)?t:null==(i=m.webSite)?void 0:i.favicon,R=null!=(c=null!=(a=null==(u=m.dapp)?void 0:u.name)?a:null==(l=m.webSite)?void 0:l.title)?c:"Unknown",A=null!=(d=null==(b=m.dapp)?void 0:b.url)?d:null==(O=m.webSite)?void 0:O.url,k=null==(h=m.dapp)?void 0:h.networkIds,P="Unknown";m.dapp?P=null!=(v=_(m.dapp._subtitle))?v:m.dapp.subtitle:A&&(P=new URL(A).host);return Object(D.jsx)(r.a,{width:g,maxWidth:g,minWidth:g,height:156,paddingX:"2",justifyContent:"center",alignItems:"center",children:Object(D.jsxs)(j.a,{bgColor:"surface-default",flexDirection:"column",borderRadius:"12",padding:"4",width:g-16,height:144,borderWidth:1,_hover:{bgColor:"surface-hovered"},borderColor:"border-subdued",position:"relative",onPress:function(){null==M||M(m)},children:[Object(D.jsx)(r.a,{position:"absolute",top:"0",right:0,ref:w,zIndex:"1",children:Object(D.jsx)(p.a,{type:"plain",name:"DotsHorizontalMini",onPress:function(){return y({triggerEle:w.current,dapp:m})}})}),Object(D.jsxs)(r.a,{children:[Object(D.jsxs)(r.a,{flexDirection:"row",children:[Object(D.jsx)(B.a,{size:48,url:S,networkIds:k}),Object(D.jsxs)(r.a,{ml:"3",flex:"1",children:[Object(D.jsx)(f.h.Body2Strong,{flex:1,numberOfLines:1,mb:"1",children:R}),k?Object(D.jsx)(E.a,{networkIds:k}):null]})]}),Object(D.jsx)(f.h.Caption,{mt:"3",numberOfLines:2,textAlign:"left",color:"text-subdued",children:P})]})]})})},H=function(){var e=Object(z.c)(),t=Object(h.a)().width-64-224,n=Math.floor(t/250),r=t/n,i=Object(o.useCallback)((function(e){var t=e.item;return Object(D.jsx)(N,{cardWidth:r,item:t,callback:C})}),[r]);return Object(D.jsx)(b.b,{contentContainerStyle:{paddingTop:32,paddingBottom:32},data:e,renderItem:i,numColumns:n,keyExtractor:function(e){return n+"key"+e.id},ListEmptyComponent:U},"key"+n)},W=function(){var e=Object(h.a)().width,t=Object(z.h)(),n=e-64-224,r=Math.floor(n/250),i=n/r,c=Object(o.useCallback)((function(e){var t=e.item;return Object(D.jsx)(N,{cardWidth:i,item:t,callback:L})}),[i]);return Object(D.jsx)(b.b,{contentContainerStyle:{paddingTop:32,paddingBottom:32},data:t,renderItem:c,numColumns:r,keyExtractor:function(e){return r+"key"+e.id},ListEmptyComponent:T},"key"+r)},J=function(){var e=Object(a.a)(),t=Object(c.u)(),n=Object(o.useContext)(s).defaultIndex,i=Object(o.useState)(null!=n?n:0),l=d()(i,2),b=l[0],j=l[1];Object(o.useLayoutEffect)((function(){t.setOptions({headerShown:!1})}),[t]);var O=Object(o.useCallback)((function(){t.goBack()}),[t]),h=Object(o.useMemo)((function(){return Object(D.jsx)(H,{})}),[]),x=Object(o.useMemo)((function(){return Object(D.jsx)(W,{})}),[]);return Object(D.jsxs)(r.a,{w:"full",h:"full",mb:"4",px:"8",children:[Object(D.jsxs)(r.a,{flexDirection:"row",justifyContent:"space-between",alignItems:"center",children:[Object(D.jsxs)(r.a,{flexDirection:"row",alignItems:"center",py:"5",children:[Object(D.jsx)(p.a,{onPress:O,type:"plain",name:"ArrowLeftOutline"}),Object(D.jsx)(f.h.DisplayLarge,{px:"4",children:e.formatMessage({id:"title__my_dapps"})})]}),Object(D.jsx)(r.a,{width:"56",children:Object(D.jsx)(u.a,{values:[e.formatMessage({id:"title__favorites"}),e.formatMessage({id:"transaction__history"})],selectedIndex:b,onChange:j})})]}),Object(D.jsx)(r.a,{flex:"1",children:0===b?h:x})]})},Q=n(285),G=function(e){var t,n,i,c,a,u,l,d,b,O,h,v,m=e.item,g=e.callback,y=Object(o.useRef)(),w=Object(o.useContext)(s).onItemSelect,_=Object(x.w)(),M=null!=(t=null==(n=m.dapp)?void 0:n.logoURL)?t:null==(i=m.webSite)?void 0:i.favicon,S=null!=(c=null!=(a=null==(u=m.dapp)?void 0:u.name)?a:null==(l=m.webSite)?void 0:l.title)?c:"Unknown",R=null!=(d=null==(b=m.dapp)?void 0:b.url)?d:null==(O=m.webSite)?void 0:O.url,A=null==(h=m.dapp)?void 0:h.networkIds,k="Unknown";m.dapp?k=null!=(v=_(m.dapp._subtitle))?v:m.dapp.subtitle:R&&(k=new URL(R).host);return Object(D.jsxs)(j.a,{mb:"5",onPress:function(){null==w||w(m)},flexDirection:"row",flex:1,alignItems:"center",justifyContent:"space-between",children:[Object(D.jsxs)(r.a,{flexDirection:"row",flex:1,alignItems:"center",children:[Object(D.jsx)(B.a,{size:48,url:M,networkIds:A}),Object(D.jsxs)(r.a,{flexDirection:"column",ml:"12px",flex:1,children:[Object(D.jsx)(f.h.Body2Strong,{children:S}),Object(D.jsx)(f.h.Caption,{color:"text-subdued",mt:"4px",numberOfLines:1,children:k})]})]}),Object(D.jsx)(r.a,{ref:y,children:Object(D.jsx)(p.a,{type:"plain",name:"DotsHorizontalMini",onPress:function(){return g({triggerEle:y.current,dapp:m})}})})]})},Y=function(){var e=Object(a.a)();return Object(D.jsx)(O.a,{emoji:"\u2b50\ufe0f",title:e.formatMessage({id:"title__no_favorite_dapp"}),subTitle:e.formatMessage({id:"title__no_favorite_dapp_desc"})})},F=function(){var e=Object(a.a)();return Object(D.jsx)(O.a,{emoji:"\ud83d\udd58",title:e.formatMessage({id:"title__no_history"}),subTitle:e.formatMessage({id:"title__no_history_desc"})})},V=function(){var e=Object(z.c)(),t=Object(o.useCallback)((function(e){var t=e.item;return Object(D.jsx)(G,{item:t,callback:C})}),[]);return Object(D.jsx)(b.b,{contentContainerStyle:{paddingVertical:24},data:e,px:"4",renderItem:t,keyExtractor:function(e){return""+e.id},ListEmptyComponent:Y})},Z=function(){var e=Object(z.h)(),t=Object(o.useCallback)((function(e){var t=e.item;return Object(D.jsx)(G,{item:t,callback:L})}),[]);return Object(D.jsx)(b.b,{contentContainerStyle:{paddingVertical:24},data:e,px:"4",renderItem:t,keyExtractor:function(e){return""+e.id},ListEmptyComponent:F})},q=function(){var e=Object(a.a)(),t=Object(o.useState)(!1),n=d()(t,2),i=n[0],c=n[1],s=Object(o.useCallback)((function(){c(!0)}),[]),u=Object(o.useCallback)((function(){M.a.serviceDiscover.clearHistory(),c(!1)}),[]);return Object(D.jsxs)(r.a,{px:"4",children:[Object(D.jsx)(p.a,{type:"plain",name:"TrashOutline",onPress:s}),Object(D.jsx)(Q.a,{visible:i,contentProps:{iconName:"TrashMini",iconType:"danger",title:e.formatMessage({id:"modal__clear_history"}),content:e.formatMessage({id:"modal__clear_history_desc"})},footerButtonProps:{primaryActionTranslationId:"action__clear",primaryActionProps:{type:"destructive"},onPrimaryActionPress:u,onSecondaryActionPress:function(){c(!1)}}})]})},K=function(){var e=Object(a.a)(),t=Object(x.o)(),n=Object(o.useContext)(s).defaultIndex,i=Object(o.useState)(null!=n?n:0),c=d()(i,2),l=c[0],b=c[1],j=Object(o.useMemo)((function(){return Object(D.jsx)(V,{})}),[]),f=Object(o.useMemo)((function(){return Object(D.jsx)(Z,{})}),[]);return Object(o.useLayoutEffect)((function(){t.setOptions({headerRight:function(){return 0===l?null:Object(D.jsx)(q,{})}})}),[t,l]),Object(D.jsxs)(r.a,{flex:"1",bg:"background-default",children:[Object(D.jsx)(r.a,{px:{base:4,md:6},mt:4,children:Object(D.jsx)(u.a,{values:[e.formatMessage({id:"title__favorites"}),e.formatMessage({id:"transaction__history"})],selectedIndex:l,onChange:b})}),Object(D.jsx)(r.a,{flex:"1",children:0===l?j:f})]})};t.default=function(){var e=Object(i.a)(),t=Object(c.u)(),n=Object(a.a)(),u=Object(c.x)().params,l=u.onItemSelect,d=u.defaultIndex;Object(o.useLayoutEffect)((function(){t.setOptions({title:n.formatMessage({id:"title__my_dapps"})})}),[t,n]);var b=Object(o.useCallback)((function(e){null==l||l(e),t.canGoBack()&&t.goBack()}),[t,l]),j=Object(o.useMemo)((function(){return{onItemSelect:b,defaultIndex:d}}),[d,b]);return Object(D.jsx)(s.Provider,{value:j,children:Object(D.jsx)(r.a,{flex:"1",bg:"background-default",children:e?Object(D.jsx)(K,{}):Object(D.jsx)(J,{})})})}}}]);