(this.webpackJsonp=this.webpackJsonp||[]).push([[16,85],{3063:function(e,t,r){"use strict";r.d(t,"b",(function(){return l})),r.d(t,"a",(function(){return u}));var n=r(1),c=r(52),a=r(36),o=r(42),i=r(142),s=a.a.eth;function l(){var e=Object(o.l)().networks;return Object(n.useMemo)((function(){return e.find((function(e){return e.id===s}))}),[e])}function u(){var e=Object(c.u)();return Object(n.useCallback)((function(t){var r=t.collection,n=t.networkId,c=t.contractAddress,a=t.title;e.navigate(i.a.NFTMarketCollectionScreen,{networkId:n,contractAddress:c,collection:r,title:a})}),[e])}},3067:function(e,t,r){"use strict";r.d(t,"c",(function(){return p})),r.d(t,"a",(function(){return f}));var n,c=r(2),a=r.n(c),o=r(70),i=r(16),s=r.n(i),l=r(36),u=r(0),d=["prefix","price","networkId","symbol"];function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var p=((n={})[l.a.eth]="ETH",n[l.a.optimism]="ETH",n[l.a.bsc]="BNB",n[l.a.polygon]="MATIC",n[l.a.arbitrum]="ETH",n[l.a.sol]="SOL",n[l.a.avalanche]="AVAX",n);function f(e){var t=e.prefix,r=e.price,n=e.networkId,c=e.symbol,a=null!=c?c:p[null!=n?n:""],o="\u2013";return r&&null!==r&&(o=r+" "+(null!=a?a:"")),t?t+" "+o:""+o}t.b=function(e){var t=e.prefix,r=void 0===t?"":t,n=e.price,c=e.networkId,a=e.symbol,i=s()(e,d);return Object(u.jsx)(o.a,j(j({},i),{},{children:f({prefix:r,price:n,networkId:c,symbol:a})}))}},3077:function(e,t,r){"use strict";var n=r(32),c=r(2),a=r.n(c),o=r(1107),i=r(110),s=r(79),l=r(16),u=r.n(l),d=r(1),b=r(0),j=["verified"];function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.a=Object(d.memo)((function(e){var t=e.verified,r=u()(e,j),c=r.width,a=r.height,l=r.src,p=Object(d.useMemo)((function(){return Object(b.jsx)(i.a,{width:c,height:c,borderRadius:"12px",bgColor:"surface-neutral-subdued",children:Object(b.jsx)(s.a,{name:"ImageBrokenIllus",size:20})})}),[c]);return l&&l.length>0?Object(b.jsxs)(n.a,{width:c,height:a,children:[Object(b.jsx)(o.a,f({preview:!1,skeleton:!0,borderRadius:"12px",fallbackElement:p},r)),!0===t?Object(b.jsx)(n.a,{bgColor:"background-default",position:"absolute",right:"-4px",bottom:"-4px",borderRadius:"full",children:Object(b.jsx)(s.a,{size:16,name:"BadgeCheckMini",color:"icon-success"})}):null]}):p}))},3086:function(e,t,r){"use strict";var n=r(3153);r.d(t,"a",(function(){return n.a}))},3092:function(e,t,r){"use strict";r.d(t,"e",(function(){return Y})),r.d(t,"f",(function(){return X})),r.d(t,"c",(function(){return Q})),r.d(t,"a",(function(){return ee})),r.d(t,"b",(function(){return te})),r.d(t,"d",(function(){return re}));var n=r(10),c=r.n(n),a=r(16),o=r.n(a),i=r(2),s=r.n(i),l=r(558),u=r(426),d=r(125),b=r(110),j=r(79),p=r(234),f=r(70),O=r(268),h=r(1),x=r(3042),g=r(508),m=r(35),y=r(1129),v=r(369),w=r(3511),P=r.n(w),S=r(3512),_=r.n(S),A=r(3513),k=r.n(A),M=r(3514),C=r.n(M),D=r(3515),I=r.n(D),T=r(3516),B=r.n(T),E=r(3517),N=r.n(E),z=r(3315),R=r.n(z),L=r(3518),F=r.n(L),W=r(3133),U=r.n(W),H=r(15),V=r(176),J=r(0),K=["children","useCustomFont"];function Z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function G(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(r),!0).forEach((function(t){s()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Y={bg1:P.a,bg2:_.a,bg3:k.a,bg4:C.a,bg5:I.a,bg6:B.a,bg7:N.a},X=function(){var e=Object(V.o)();Object(h.useLayoutEffect)((function(){e.setOptions({headerShown:!1})}),[e])},q=function(e){var t=e.showHeaderLogo,r=Object(V.o)(),n=Object(h.useCallback)((function(){r.canGoBack()&&r.goBack()}),[r]);return Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(v.a,{barStyle:"light-content",backgroundColor:"#000"}),Object(J.jsxs)(p.a,{justifyContent:"space-between",px:"6",children:[t?Object(J.jsxs)(p.a,{alignItems:"center",children:[Object(J.jsx)(O.a,{borderRadius:"14px",source:U.a,w:8,h:8}),Object(J.jsx)(f.a,{fontSize:"24px",color:"#fff",ml:"1",fontWeight:"800",children:"OneKey"})]}):Object(J.jsx)(p.a,{flex:"1"}),Object(J.jsx)(d.a,{onPress:n,children:Object(J.jsx)(b.a,{size:"30px",borderRadius:"full",bg:"rgba(255, 255, 255, 0.1)",children:Object(J.jsx)(j.a,{name:"XMarkMini",size:20,color:"text-on-primary"})})})]})]})},Q=function(e){var t=e.onShare,r=e.showIndicator,n=Object(g.a)(),c=Object(h.useRef)(new m.a.Value(0)).current,a=Object(h.useCallback)((function(){var e=m.a.sequence([m.a.timing(c,{toValue:10,duration:400,useNativeDriver:!0}),m.a.timing(c,{toValue:0,duration:400,useNativeDriver:!0})]);m.a.loop(e).start()}),[c]);return Object(h.useEffect)((function(){r&&a()}),[a,r]),Object(J.jsxs)(p.a,{position:"absolute",alignItems:"center",bg:"rgba(19, 19, 27, 0.8)",left:"0",bottom:"0",py:"4",px:"6",w:"full",zIndex:"99",children:[r?Object(J.jsx)(b.a,{w:"full",px:"6",position:"absolute",bottom:"82px",left:"24px",children:Object(J.jsx)(m.a.Image,{borderRadius:14,source:F.a,style:{transform:[{translateY:c}],width:34.5,height:18}})}):null,Object(J.jsx)(O.a,{borderRadius:"14px",source:U.a,w:8,h:8}),Object(J.jsx)(u.a,{ml:"3",flex:"1",children:Object(J.jsx)(f.a,{textTransform:"uppercase",color:"#fff",lineHeight:"20px",fontSize:"16",fontWeight:"800",children:n.formatMessage({id:"content___2022_my_on_chain_journey_uppercase"})})}),Object(J.jsx)(d.a,{onPress:t,children:Object(J.jsx)(b.a,{size:"34px",bg:"rgba(255,255,255,.1)",borderRadius:"full",children:Object(J.jsx)(j.a,{name:"ShareMini",color:"icon-on-primary",size:20})})})]})},$=function(){var e=Object(g.a)();return Object(J.jsxs)(p.a,{bg:"rgba(0, 6, 17, 0.8)",px:"30px",py:"4",justifyContent:"space-between",alignItems:"center",position:"absolute",bottom:"0",left:"0",w:"full",zIndex:"99",children:[Object(J.jsxs)(u.a,{children:[Object(J.jsxs)(p.a,{alignItems:"center",children:[Object(J.jsx)(O.a,{borderRadius:"14px",source:U.a,w:8,h:8}),Object(J.jsx)(f.a,{fontSize:"24px",color:"#44D62C",ml:"1",fontWeight:"800",children:"OneKey"})]}),Object(J.jsxs)(f.a,{fontSize:"14px",textTransform:"uppercase",color:"#fff",opacity:".5",fontWeight:"500",children:["2022"," ",e.formatMessage({id:"title__my_on_chain_journey"})]})]}),Object(J.jsx)(O.a,{mt:"10px",borderRadius:"6px",source:R.a,w:"60px",h:"60px"})]})},ee=function(e){var t=e.onPress,r=e.bg,n=e.w,c=e.h,a=e.children,o=Object(h.useMemo)((function(){return Object(J.jsx)(b.a,{w:"full",h:"full",children:a})}),[a]);return Object(J.jsx)(y.a,{source:r,resizeMode:"stretch",style:{width:n,height:c},children:t?Object(J.jsx)(d.a,{onPress:t,children:o}):o})},te=function(e){var t=e.bg,r=e.children,n=e.shareMode,c=void 0!==n&&n,a=e.containerProps,o=void 0===a?{}:a,i=e.showHeaderLogo,s=Object(l.a)(),d=s.top,b=s.bottom;return Object(J.jsx)(y.a,{source:t,resizeMode:"stretch",style:{width:"100%",height:"100%",alignItems:"center",justifyContent:"center"},children:Object(J.jsxs)(u.a,{pt:(H.a.isNativeAndroid?24:d)+"px",pb:b+"px",flex:"1",position:"relative",w:"full",children:[c?null:Object(J.jsx)(q,{showHeaderLogo:i}),Object(J.jsx)(u.a,G(G({flex:"1",px:"6",overflowY:"scroll"},o),{},{children:r})),c?Object(J.jsx)($,{}):null]})})},re=function(e){var t=e.children,n=e.useCustomFont,a=void 0!==n&&n,i=o()(e,K),s=Object(x.a)({Montserrat:r(3519)}),l=c()(s,1)[0];return Object(J.jsx)(f.a,G(G({fontFamily:l&&a?"Montserrat":void 0,color:"#fff",fontSize:"16",fontWeight:"800"},i),{},{children:t}))}},3111:function(e,t,r){"use strict";var n;r.d(t,"a",(function(){return n})),function(e){e.SearchModal="SearchModal",e.FilterModal="FilterModal",e.ShareNFTPNLModal="ShareNFTPNLModal",e.CalculatorModal="CalculatorModal",e.MarketPlaceScreen="MarketPlaceScreen"}(n||(n={}))},3113:function(e,t,r){"use strict";r.r(t),r.d(t,"CollectiblesModalRoutes",(function(){return Ue}));var n=r(2),c=r.n(n),a=r(85),o=r(283),i=r(41),s=r(32),l=r(1107),u=r(10),d=r.n(u),b=r(457),j=r(1),p=r(52),f=r(3163),O=r(142),h=r(3207),x=r(0),g=0,m=1,y=2,v=3;var w=function(){var e=Object(a.a)(),t=Object(p.u)(),r=Object(b.a)().screenWidth,n=e?16:20,c=e?r:800,u=e?Math.floor((c-32-n)/2):177,w=e?8:12,P=u-2*w+w+56,S=Object(p.x)().params,_=S.collectible,A=S.network,k=Object(j.useCallback)((function(e){t.navigate(O.c.Modal,{screen:O.b.Collectibles,params:{screen:Ue.NFTDetailModal,params:{asset:e,network:A,isOwner:!0}}})}),[t,A]),M=function(e){var t=[];return null!=e&&e.logoUrl&&(null==e?void 0:e.logoUrl.length)>0&&t.push({viewType:g,data:e.logoUrl}),t.push({viewType:m,data:e.contractName}),t=t.concat(e.assets.map((function(e){return{viewType:v,data:e}})))}(_),C=new f.a((function(e,t){return e!==t})).cloneWithRows(M),D=Object(j.useState)(1e3),I=d()(D,2),T=I[0],B=I[1],E=Object(j.useMemo)((function(){return new f.b((function(e){return M[e].viewType}),(function(e,t){switch(e){case g:t.width=c-32,t.height=_.logoUrl?64:0;break;case m:t.width=c-32,t.height=_.contractName?52:0;break;case y:t.width=c-32,t.height=24+(_.description?T:0);break;case v:t.width=u+n,t.height=P+n;break;default:t.width=0,t.height=0}}))}),[T,c]),N=Object(j.useCallback)((function(e,t,r){var n=t.data;switch(e){case g:return n?Object(x.jsx)(s.a,{alignItems:"center",children:Object(x.jsx)(l.a,{src:n,width:"56px",height:"56px",borderRadius:"28px"})}):null;case m:return Object(x.jsx)(i.h.Heading,{mt:"3",width:"full",textAlign:"center",children:n});case y:return Object(x.jsx)(s.a,{flex:1,children:Object(x.jsx)(i.h.Body2,{color:"text-subdued",onLayout:function(e){B(e.nativeEvent.layout.height)},children:n})});case v:return Object(x.jsx)(h.a,{asset:n,onSelectAsset:k},r);default:return Object(x.jsx)(s.a,{flex:1})}}),[k]);return Object(x.jsx)(o.b,{size:"2xl",footer:null,height:"640px",staticChildrenProps:{flex:1},children:Object(x.jsx)(s.a,{flex:1,children:Object(x.jsx)(f.c,{flex:1,style:{flex:1,width:c,paddingLeft:16,paddingRight:16},dataProvider:C,layoutProvider:E,rowRenderer:N})})})},P=r(426),S=r(98),_=r(125),A=r(79),k=r(3053),M=r(1106),C=r(234),D=r(186),I=r(70),T=r(110),B=r(163),E=r(3),N=r.n(E),z=r(744),R=r(558),L=r(559),F=r(4417),W=r(508),U=r(25),H=r(945),V=r(750),J=r(284),K=r(746),Z=r(459),G=r(76),Y=r(42),X=r(19),q=r(61),Q=r(3225),$=r(55),ee=r.n($),te=r(3320),re=r(3298),ne=r(137),ce=r(91),ae=r(22),oe=r(3297);function ie(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function se(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(r),!0).forEach((function(t){c()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ie(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var le=function(){var e=N()((function*(e){try{var t=yield ee.a.get(e,{responseType:"arraybuffer",headers:{accept:"image/avif,image/webp,image/apng,image/svg+xml,image/*,*/*;"}}),r=X.Buffer.from(t.data,"binary").toString("base64");return"data:"+t.headers["content-type"]+";base64,"+r}catch(n){return ee.a.post(Object(ce.a)()+"/image/img2base64",{url:e}).then((function(e){return e.data}))}}));return function(t){return e.apply(this,arguments)}}();var ue=function(){var e=N()((function*(e,t,r,n,c,a){var o;if(e){ae.a.hardwareSDK.info("width: "+t+", height: "+r+", originW: "+n+", originH: "+c);var i=n>c,s=n===c,l=[];if(a?l.push({resize:{width:i?void 0:t,height:i?r:void 0}}):l.push({resize:{width:t}}),a&&!s)if(i){var u=function(e,t,r,n){var c=Math.ceil(n/t*e);if(ae.a.hardwareSDK.info("image true width: ",c),ae.a.hardwareSDK.info("image should width: ",r),ae.a.hardwareSDK.info("image true height: ",n),c<=r)return null;var a=Math.ceil(Math.ceil(c/2)-Math.ceil(r/2));return ae.a.hardwareSDK.info("originX: ",a),ae.a.hardwareSDK.info("crop size: height: "+n+", width: "+r+", originX: "+a+", originY: 0"),a}(n,c,t,r);null!==u&&l.push({crop:{height:r,width:t,originX:u,originY:0}})}else{var d=function(e,t,r,n){var c=Math.ceil(r/e*t);if(ae.a.hardwareSDK.info("image true height: ",c),ae.a.hardwareSDK.info("image should height: ",n),ae.a.hardwareSDK.info("image true width: ",r),c<=n)return null;var a=Math.ceil(Math.ceil(c/2)-Math.ceil(n/2));return ae.a.hardwareSDK.info("originY: ",a),ae.a.hardwareSDK.info("crop size: height: "+n+", width: "+r+", , originX: 0, originY: "+a),a}(n,c,t,r);null!==d&&l.push({crop:{height:r,width:t,originX:0,originY:d}})}var b=yield Object(te.a)(e,l,{compress:.9,format:re.b.JPEG,base64:!0});ae.a.hardwareSDK.info("imageResult ====> : ",b);var j=X.Buffer.from(null!=(o=b.base64)?o:"","base64"),p=new Uint8Array(j);return se(se({},b),{},{arrayBuffer:p})}}));return function(t,r,n,c,a,o){return e.apply(this,arguments)}}(),de=function(){var e=N()((function*(e,t){var r,n,c,a,o,i=yield(o=e,new Promise((function(e,t){ne.a.getSize(o,(function(t,r){e({width:t,height:r})}),(function(e){return t(e)}))}))),s=i.width,l=i.height;ae.a.hardwareSDK.info("image size: ",{width:s,height:l});var u=yield le(e);ae.a.hardwareSDK.info(u);var d=yield ue(u,480,800,s,l,!1),b=yield ue(u,238,238,s,l,!0);if(null!=d&&d.arrayBuffer||null!=b&&b.arrayBuffer){ae.a.hardwareSDK.info("nft data byte length: ",Object(oe.a)(null!=(r=null==d||null==(n=d.arrayBuffer)?void 0:n.byteLength)?r:0,3)),ae.a.hardwareSDK.info("nft thumbnail byte length: ",Object(oe.a)(null!=(c=null==b||null==(a=b.arrayBuffer)?void 0:a.byteLength)?c:0,3));var j=se({},t),p=X.Buffer.from(JSON.stringify(j));p.length>2048&&(ae.a.hardwareSDK.info("nft metadata overload 2kb, will ignore subheader: ",p.length),j.subheader="",p=X.Buffer.from(JSON.stringify(j)));var f=Object(q.bytesToHex)(p);return{resType:Q.ResourceType.Nft,suffix:"jpg",dataHex:Object(q.bytesToHex)(null==d?void 0:d.arrayBuffer),thumbnailDataHex:Object(q.bytesToHex)(null==b?void 0:b.arrayBuffer),nftMetaData:f}}}));return function(t,r){return e.apply(this,arguments)}}(),be=r(3197);function je(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var pe=function(e){var t=e.onCollectToTouch,r=Object(j.useMemo)((function(){return[{id:"action__collect_to_touch",onPress:function(){t()},icon:"InboxArrowDownMini"}]}),[t]);return Object(x.jsx)(be.a,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?je(Object(r),!0).forEach((function(t){c()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):je(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({options:r},e))},fe=r(36),Oe=r(14),he=r(15),xe=r(43),ge=r(3080),me=r(151),ye=r(3077),ve=r(3063),we=r(326),Pe=r(3408),Se=function(e){var t=e.url,r=e.size,n=e.poster,c=Object(j.useState)(null),a=d()(c,2),o=a[0],i=a[1],u=Object(j.useState)(),b=d()(u,2),p=b[0],f=b[1],O=Object(j.useState)(null),h=d()(O,2),g=h[0],m=h[1];function y(){return(y=N()((function*(){if(t)if(null===o){var e=yield Pe.a.Sound.createAsync({uri:t}),r=e.sound,n=e.status;i(r),f(n),yield r.playAsync(),m(!0)}else null!=p&&p.isLoaded&&!g&&(yield o.playAsync(),m(!0))}))).apply(this,arguments)}function v(){return(v=N()((function*(){o&&null!=p&&p.isLoaded&&g&&(yield o.pauseAsync(),m(!1))}))).apply(this,arguments)}var w=Object(j.useCallback)(N()((function*(){if(null===o&&t){var e=yield Pe.a.Sound.createAsync({uri:t}),r=e.sound,n=e.status;i(r),f(n),m(!1)}})),[t,o]);return Object(j.useEffect)((function(){w()}),[w]),Object(j.useEffect)((function(){return function(){o&&o.stopAsync()}}),[o]),Object(x.jsxs)(s.a,{size:r+"px",children:[Object(x.jsx)(l.a,{src:n,width:r,height:r}),Object(x.jsx)(T.a,{position:"absolute",bottom:0,right:0,size:"96px",children:null===g?Object(x.jsx)(we.b,{size:"sm"}):Object(x.jsx)(_.a,{onPress:function(){g?function(){v.apply(this,arguments)}():function(){y.apply(this,arguments)}()},children:Object(x.jsx)(A.a,{name:g?"PauseMini":"PlayMini",size:53,color:"text-on-primary"})})})]})},_e=r(3219),Ae=r(298),ke=r.n(Ae);function Me(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var Ce,De=function(e){var t=Object.assign({},(ke()(e),e)),r=t.url,n=t.size,c=!(null!=r&&r.startsWith("data:image/svg+xml"));return Object(x.jsx)(T.a,{size:n,borderRadius:"20px",overflow:"hidden",children:Object(x.jsx)(l.a,{width:n+"px",height:n+"px",resizeMode:"contain",skeleton:!0,src:c?r:void 0,source:c?void 0:{uri:r}})})},Ie=function(e){var t=Object.assign({},(ke()(e),e));return Object(x.jsx)(De,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Me(Object(r),!0).forEach((function(t){c()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Me(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t))},Te=r(3394),Be=r.n(Te),Ee=function(e){var t=e.url,r=e.size;return Object(x.jsx)(s.a,{size:r+"px",children:Object(x.jsx)(Be.a,{width:r,height:r,url:t,loop:!0,playing:!0,controls:!0,muted:!0})})},Ne=r(3075);function ze(e){return"image/jpeg"===e||"image/gif"===e||"image/png"===e||"image/jpg"===e?Ce.Image:"image/svg"===e||"image/svg+xml"===e?Ce.SVG:"video/mp4"===e?Ce.Video:"audio/wav"===e||"audio/mpeg"===e?Ce.Audio:"model/gltf-binary"===e||"model/gltf+json"===e?Ce.UnSupport:void 0}function Re(e){var t=e.image.source,r=Object(j.useState)(function(e){var t=e.contentType,r=e.contentUri;return null!=r&&r.startsWith("data:image/svg+xml")||null!=r&&r.startsWith("<svg")?Ce.SVG:t?ze(t):void 0}(e)),n=d()(r,2),c=n[0],a=n[1],o=Object(j.useCallback)(N()((function*(){var t=Object(Z.f)(e);if(t){var r,n=yield ee.a.head(t,{timeout:1e4}).then((function(e){return e.headers["content-type"]})).catch((function(){return"404"}));if("404"===n)a(Ce.UnSupport);else a(null!=(r=ze(n))?r:Ce.UnSupport)}})),[e]);return Object(j.useEffect)((function(){void 0===c&&o()}),[o,c]),Object(j.useMemo)((function(){return{componentType:c,url:t}}),[c,t])}!function(e){e[e.Image=0]="Image",e[e.Video=1]="Video",e[e.Audio=2]="Audio",e[e.SVG=3]="SVG",e[e.UnSupport=4]="UnSupport"}(Ce||(Ce={}));var Le=function(e){var t=e.asset,r=e.size,n=Object(b.a)().screenWidth,c=Object(a.a)()?he.a.isExtension?176:n-32:288;t.nftscanUri&&t.nftscanUri.length>0&&Object(x.jsx)(Ne.a,{url:t.nftscanUri,asset:t,thumbnail:!1,size:r||c,skeleton:!0,borderRadius:"12px",resizeMode:"cover",shadow:"depth.5"});var o=Re(t).componentType,i=Object(Z.f)(t);if(i){if(void 0===o)return Object(x.jsx)(M.a,{size:r||c+"px",borderRadius:"12px"});if(o===Ce.Image)return Object(x.jsx)(Ne.a,{url:i,asset:t,thumbnail:!1,size:r||c,skeleton:!0,borderRadius:"12px",resizeMode:"cover",shadow:"depth.5"});if(o===Ce.Video)return Object(x.jsx)(Ee,{url:i,size:r||c});if(o===Ce.SVG)return Object(x.jsx)(Ie,{url:i,size:r||c});if(o===Ce.Audio){var s=Object(Z.g)(t);return Object(x.jsx)(Se,{url:i,size:r||c,poster:s})}}return Object(x.jsx)(_e.a,{contentType:t.contentType,logoUrl:t.collection.logoUrl,size:r||c})};function Fe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function We(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(r),!0).forEach((function(t){c()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ue,He=function(e){var t=e.imageContent,r=e.content;return Object(x.jsxs)(s.a,{flexDirection:"row",children:[t,Object(x.jsx)(L.a,{h:"640px",p:"24px",children:r})]})},Ve=function(e){var t=e.imageContent,r=e.content,n=Object(R.a)().bottom;return Object(x.jsxs)(L.a,{p:"16px",children:[t,Object(x.jsx)(s.a,{mt:"24px",mb:n,children:r})]})},Je=function(){var e,t,r,n,c=Object(W.a)(),l=Object(V.a)(),u=Object(z.a)().themeVariant,b=Object(Y.c)().wallet,f=Object(p.u)(),h=Object(a.a)(),g=Object(p.x)().params,m=g.network,y=g.asset,v=g.isOwner,w=Object(j.useState)(y),E=d()(w,2),R=E[0],X=E[1],q=xe.a.serviceNFT,Q=xe.a.serviceHardware,$="image/jpeg"===(n=R.contentType)||"image/jpg"===n||"image/png"===n;R.nftscanUri&&(null==(e=R.nftscanUri)?void 0:e.length)>0&&($=!0),$=!!(R.nftscanUri&&(null==(t=R.nftscanUri)?void 0:t.length)>0),Object(j.useEffect)((function(){N()((function*(){if(m.id)if(m.id===fe.a.sol){var e=yield q.fetchAsset({chain:m.id,tokenId:y.tokenAddress});e&&X(e)}else{var t=yield q.fetchAsset({chain:m.id,contractAddress:y.contractAddress,tokenId:y.tokenId,showAttribute:!0});t&&X(t)}}))()}),[y.contractAddress,y.tokenAddress,y.tokenId,m.id,q]);var ee=m.impl===Oe.C,te=Object(j.useState)(),re=d()(te,2),ne=re[0],ce=re[1];Object(j.useEffect)((function(){N()((function*(){if(m.id&&ee){var e=yield q.getCollection({chain:m.id,contractAddress:y.contractAddress});e&&ce(e)}}))()}),[y.contractAddress,m.id,q,ee]);var oe=(null==b?void 0:b.type)===G.e,ie=Object(j.useState)(!1),se=d()(ie,2),le=se[0],ue=se[1],be=Object(j.useState)(!1),je=d()(be,2),we=je[0],Pe=je[1],Se=Object(j.useState)(null),_e=d()(Se,2),Ae=_e[0],ke=_e[1];Object(j.useEffect)((function(){N()((function*(){var e;if(b&&"hw"===b.type){var t=yield xe.a.engine.getHWDeviceByWalletId(b.id),r=["image/gif","image/svg","image/png","image/jpeg","image/jpg"].includes(null!=(e=R.contentType)?e:"");ue("touch"===(null==t?void 0:t.deviceType)&&r),ke(t)}else ue(!1)}))()}),[b,R]);var Me=Object(j.useCallback)(N()((function*(){var e;if(e=R.nftscanUri&&R.nftscanUri.length>0?R.nftscanUri:Object(Z.f)(R)){var t;Pe(!0);try{var r;t=yield de(e,{header:R.name&&R.name.length>0?R.name:"#"+R.tokenId,subheader:null!=(r=R.description)?r:"",network:m.name,owner:R.owner}),ae.a.hardwareSDK.info("should upload: ",t)}catch(a){return ae.a.hardwareSDK.info("image operate error: ",a),B.a.show({title:c.formatMessage({id:"msg__image_download_failed"})},{type:"error"}),void Pe(!1)}if(t)try{var n;yield Q.uploadResource(null!=(n=null==Ae?void 0:Ae.mac)?n:"",t),B.a.show({title:c.formatMessage({id:"msg__change_saved"})})}catch(a){me.a.showErrorToast(a)}finally{Pe(!1)}}})),[R,Ae,c,Q,m]),Ce=Object(ve.a)(),De={imageContent:Object(x.jsx)(x.Fragment,{children:h&&he.a.isExtension||he.a.isNativeIOSPad?Object(x.jsxs)(s.a,{overflow:"hidden",mt:"-16px",mr:"-16px",ml:"-16px",children:[$&&Object(x.jsx)(T.a,{position:"absolute",top:0,right:0,bottom:0,left:0,children:Object(x.jsx)(Le,{asset:R,size:he.a.isExtension?360:680})}),Object(x.jsx)(F.a,{tint:"light"===u?"light":"dark",intensity:100,style:{alignItems:"center",padding:24},children:Object(x.jsx)(Le,{asset:R})})]}):h?Object(x.jsx)(Le,{asset:R}):Object(x.jsxs)(s.a,{alignSelf:"stretch",borderLeftRadius:24,mr:"24px",overflow:"hidden",children:[$&&Object(x.jsx)(T.a,{position:"absolute",top:0,right:0,bottom:0,left:0,children:Object(x.jsx)(Le,{asset:R,size:he.a.isExtension?360:680})}),Object(x.jsx)(F.a,{tint:"light"===u?"light":"dark",intensity:100,style:{flex:1,alignSelf:"stretch",justifyContent:"center",padding:24},children:Object(x.jsx)(Le,{asset:R})})]})}),content:R&&Object(x.jsxs)(P.a,{space:"24px",mb:"50px",children:[Object(x.jsxs)(s.a,{children:[Object(x.jsxs)(C.a,{alignItems:"stretch",justifyContent:"space-between",children:[Object(x.jsx)(I.a,{typography:{sm:"DisplayLarge",md:"DisplayLarge"},fontWeight:"700",children:R.name&&R.name.length>0?R.name:"#"+R.tokenId}),le&&Object(x.jsx)(pe,{onCollectToTouch:Me,children:Object(x.jsx)(D.a,{name:"EllipsisVerticalOutline",size:h?"sm":"xs",type:"basic",circle:!0,borderWidth:U.a.hairlineWidth,borderColor:"border-default",h:{base:34,sm:30},ml:3,mr:{base:0,sm:10},isLoading:we,isDisabled:we})})]}),Object(x.jsxs)(C.a,{space:"8px",mt:"4px",children:[Object(x.jsx)(I.a,{typography:"Body1",color:"text-subdued",children:c.formatMessage({id:"content__last_sale"})}),Object(x.jsx)(I.a,{typography:"Body1Strong",color:"text-subdued",children:R.latestTradePrice&&R.latestTradeSymbol&&R.latestTradePrice+" "+R.latestTradeSymbol||"N/A"})]})]}),ee&&Object(x.jsx)(_.a,{onPress:function(){Ce({networkId:m.id,contractAddress:null==ne?void 0:ne.contractAddress,collection:ne,title:null==ne?void 0:ne.name})},children:function(e){var t,r=e.isHovered,n=e.isPressed;return Object(x.jsxs)(C.a,{px:"16px",py:"12px",rounded:"12px",space:"12px",borderWidth:U.a.hairlineWidth,alignItems:"center",borderColor:"border-default",bgColor:n?"action-secondary-pressed":r?"action-secondary-hovered":"action-secondary-default",children:[ne?Object(x.jsx)(ye.a,{src:ne.logoUrl,width:"40px",height:"40px"}):Object(x.jsx)(M.a,{width:"40px",height:"40px",borderRadius:"12px"}),Object(x.jsxs)(s.a,{flex:1,children:[Object(x.jsx)(I.a,{typography:"Body1Strong",children:R.collection.contractName}),Object(x.jsx)(s.a,{mt:"4px",children:ne?Object(x.jsx)(I.a,{typography:"Body2",color:"text-subdued",children:(null!=(t=null==ne?void 0:ne.itemsTotal)?t:"-")+" Items \u2022 "+c.formatMessage({id:"content__floor"})+" "+(ne.floorPrice?ne.floorPrice+" "+ne.priceSymbol:"-")}):Object(x.jsx)(k.a,{shape:"Body2"})})]}),Object(x.jsx)(A.a,{name:"ChevronRightMini",color:"icon-subdued"})]})}}),v&&Object(x.jsx)(C.a,{space:"16px",children:Object(x.jsx)(S.a,{type:"primary",isDisabled:oe,width:"full",size:"lg",leftIconName:"ArrowUpMini",onPress:function(){var e,t,r,n=Object(Y.a)(),c=n.accountId,a=n.networkId;f.navigate(O.c.Modal,{screen:O.b.Send,params:{screen:ge.f.PreSendAddress,params:{accountId:c,networkId:a,isNFT:!0,from:"",to:"",amount:null!=(e=y.amount)?e:"1",token:null!=(t=R.contractAddress)?t:R.tokenAddress,tokenId:null!=(r=R.tokenId)?r:R.tokenAddress,type:R.ercType,closeModal:l}}})},children:c.formatMessage({id:"action__send"})})}),!!R.description&&Object(x.jsx)(i.h.Body2,{color:"text-subdued",children:R.description}),ee&&!(null==(r=R.assetAttributes)||!r.length)&&Object(x.jsxs)(P.a,{space:"16px",children:[Object(x.jsx)(i.h.Heading,{children:c.formatMessage({id:"content__attributes"})}),he.a.isNative?Object(x.jsx)(L.a,{horizontal:!0,showsHorizontalScrollIndicator:!1,mb:"-8px",mx:"-16px",pl:"16px",children:R.assetAttributes.map((function(e,t){return Object(x.jsxs)(s.a,{px:"12px",py:"8px",mr:"8px",mb:"8px",bgColor:"surface-neutral-subdued",borderRadius:"12px",children:[Object(x.jsxs)(C.a,{justifyContent:"space-between",mb:"4px",children:[Object(x.jsx)(i.h.Caption,{mr:"12px",numberOfLines:1,color:"text-subdued",children:e.attribute_name}),Object(x.jsx)(i.h.Caption,{color:"text-success",children:e.percentage})]}),Object(x.jsx)(i.h.Body2Strong,{children:e.attribute_value})]},e.attribute_name+"-"+t)}))}):Object(x.jsx)(s.a,{flexDirection:"row",flexWrap:"wrap",mb:"-8px",mr:"-8px",children:R.assetAttributes.map((function(e,t){return Object(x.jsxs)(s.a,{px:"12px",py:"8px",mr:"8px",mb:"8px",bgColor:"surface-neutral-subdued",borderRadius:"12px",children:[Object(x.jsxs)(C.a,{justifyContent:"space-between",mb:"4px",children:[Object(x.jsx)(i.h.Caption,{mr:"12px",numberOfLines:1,color:"text-subdued",children:e.attribute_name}),Object(x.jsx)(i.h.Caption,{color:"text-success",children:e.percentage})]}),Object(x.jsx)(i.h.Body2Strong,{children:e.attribute_value})]},e.attribute_name+"-"+t)}))})]}),Object(x.jsxs)(s.a,{children:[Object(x.jsx)(i.h.Heading,{mb:"16px",children:c.formatMessage({id:"content__details"})}),Object(x.jsxs)(P.a,{space:"16px",children:[!!R.contractAddress&&Object(x.jsxs)(C.a,{space:"12px",children:[Object(x.jsx)(i.h.Body2Strong,{color:"text-subdued",flex:1,children:c.formatMessage({id:"transaction__contract_address"})}),Object(x.jsxs)(_.a,{flexDirection:"row",onPress:function(){var e;Object(K.a)(null!=(e=R.contractAddress)?e:""),B.a.show({title:c.formatMessage({id:"msg__copied"})})},children:[Object(x.jsx)(i.h.Body2Strong,{mr:"8px",children:Object(J.c)(R.contractAddress,6)}),Object(x.jsx)(A.a,{name:"Square2StackMini",size:20})]})]}),!!R.tokenAddress&&Object(x.jsxs)(C.a,{space:"12px",children:[Object(x.jsx)(i.h.Body2Strong,{color:"text-subdued",flex:1,children:"NFT ID"}),Object(x.jsxs)(_.a,{flexDirection:"row",onPress:function(){var e;Object(K.a)(null!=(e=R.tokenAddress)?e:""),B.a.show({title:c.formatMessage({id:"msg__copied"})})},children:[Object(x.jsx)(i.h.Body2Strong,{mr:"8px",isTruncated:!0,maxW:"160px",children:R.tokenAddress}),Object(x.jsx)(A.a,{name:"Square2StackMini",size:20})]})]}),!!R.tokenId&&Object(x.jsxs)(C.a,{space:"12px",children:[Object(x.jsx)(i.h.Body2Strong,{color:"text-subdued",flex:1,children:"NFT ID"}),Object(x.jsxs)(_.a,{flexDirection:"row",onPress:function(){var e;Object(K.a)(null!=(e=R.tokenId)?e:""),B.a.show({title:c.formatMessage({id:"msg__copied"})})},children:[Object(x.jsx)(i.h.Body2Strong,{mr:"8px",isTruncated:!0,maxW:"160px",children:R.tokenId}),Object(x.jsx)(A.a,{name:"Square2StackMini",size:20})]})]}),!!R.ercType&&Object(x.jsxs)(C.a,{space:"12px",children:[Object(x.jsx)(i.h.Body2Strong,{color:"text-subdued",flex:1,children:c.formatMessage({id:"content__nft_standard"})}),Object(x.jsx)(i.h.Body2Strong,{children:R.ercType})]}),!!m&&Object(x.jsxs)(C.a,{space:"12px",children:[Object(x.jsx)(i.h.Body2Strong,{color:"text-subdued",flex:1,children:c.formatMessage({id:"content__blockchain"})}),Object(x.jsx)(i.h.Body2Strong,{children:m.name})]})]})]})]})};return Object(x.jsxs)(o.b,{size:"2xl",footer:null,headerShown:!1,staticChildrenProps:{p:0,flex:1},children:[Object(x.jsx)(H.a,{position:"absolute",top:he.a.isExtensionUiPopup?"8px":"24px",right:he.a.isExtensionUiPopup?"8px":"24px",zIndex:1,onPress:l}),h||he.a.isNativeIOSPad?Object(x.jsx)(Ve,We({},De)):Object(x.jsx)(He,We({},De))]})},Ke=r(560),Ze=r(456);function Ge(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}!function(e){e.CollectionModal="CollectionModal",e.NFTDetailModal="NFTDetailModal"}(Ue||(Ue={}));var Ye=Object(Ze.a)(),Xe=[{name:Ue.CollectionModal,component:w},{name:Ue.NFTDetailModal,component:Je}];t.default=function(){var e=Object(a.a)();return Object(x.jsx)(Ye.Navigator,{screenOptions:function(t){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ge(Object(r),!0).forEach((function(t){c()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ge(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({headerShown:!1},Object(Ke.b)({isVerticalLayout:e,navInfo:t}))},children:Xe.map((function(e){return Object(x.jsx)(Ye.Screen,{name:e.name,component:e.component},e.name)}))})}},3190:function(e,t,r){"use strict";r.d(t,"a",(function(){return b})),r.d(t,"b",(function(){return j}));var n=r(2),c=r.n(n),a=r(10),o=r.n(a),i=r(1),s=r(0);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){c()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var d=Object(i.createContext)(null);function b(e){var t=e.children,r=e.priceType,n=e.price,c=void 0===n?0:n,a=Object(i.useState)({priceType:r,price:c}),l=o()(a,2),b=l[0],j=l[1];Object(i.useEffect)((function(){j((function(e){return u(u({},e),{},{priceType:r,price:c})}))}),[r,c]);var p=Object(i.useMemo)((function(){return{context:b,setContext:j}}),[b]);return Object(s.jsx)(d.Provider,{value:p,children:t})}function j(){return Object(i.useContext)(d)}},3197:function(e,t,r){"use strict";var n=r(2),c=r.n(n),a=r(5182),o=r(16),i=r.n(o),s=r(15),l=r(234),u=r(79),d=r(70),b=r(0),j=["children","variant","isDisabled","extraChildren","icon","color"];function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){c()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var O=function(e){var t=e.children,r=e.variant,n=e.isDisabled,c=e.extraChildren,o=e.icon,p=(e.color,i()(e,j));return Object(b.jsx)(a.a.Item,f(f({isDisabled:n},p),{},{children:Object(b.jsxs)(l.a,{flex:1,justifyContent:"space-between",alignItems:"center",space:3,children:[Object(b.jsx)(d.a,{typography:s.a.isNative?"Body1":"Body2",color:"desctructive"===r?"text-critical":"highlight"===r?"interactive-default":n?"text-disabled":"text-default",children:t}),o?Object(b.jsx)(u.a,{name:o,size:20,color:"desctructive"===r?"icon-critical":"highlight"===r?"interactive-default":n?"icon-disabled":"icon-default"}):null,c]})}))},h=a.a;h.CustomItem=O;var x=h,g=r(1),m=r(508),y=["options","children","placement"],v=["onPress","id","intlValues","closeOnSelect"];function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){c()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.a=function(e){var t=e.options,r=e.children,n=e.placement,c=void 0===n?"bottom right":n,a=i()(e,y),o=Object(m.a)();return Object(b.jsx)(x,P(P({w:190,placement:c,trigger:function(e){return Object(g.cloneElement)(g.Children.only(r),e)}},a),{},{children:t.filter(Boolean).map((function(e,t){if("function"===typeof e)return Object(b.jsx)(g.Fragment,{children:e()},t);var r=e.onPress,n=e.id,c=e.intlValues,a=e.closeOnSelect,s=void 0===a||a,l=i()(e,v);return Object(b.jsx)(x.CustomItem,P(P({},l),{},{onPress:function(){if(r(),!s)return!1},children:o.formatMessage({id:n},c)}),t)}))}))}},3207:function(e,t,r){"use strict";var n=r(2),c=r.n(n),a=r(125),o=r(32),i=r(70),s=r(744),l=r(457),u=r(85),d=r(16),b=r.n(d),j=r(1),p=r(42),f=r(300),O=r(3051),h=r(362),x=r(3190),g=r(3075),m=r(0),y=["onSelectAsset","asset"];function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){c()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.a=Object(j.memo)((function(e){var t,r,n,c,d,j=e.onSelectAsset,v=e.asset,P=b()(e,y),S=Object(u.a)(),_=Object(l.a)().screenWidth,A=Object(x.b)(),k=Object(p.c)().network,M=Object(h.g)({networkId:null!=(t=null==k?void 0:k.id)?t:""}),C=S?16:20,D=S?8:12,I=S?_:Math.min(f.f,_-224),T=S?Math.floor((I-3*C)/2):177,B=Object(s.a)().themeVariant,E=v.latestTradePrice,N=(null!=(r=null!=(n=null==A?void 0:A.context.price)?n:M)?r:0)*(null!=E?E:0);return Object(m.jsx)(o.a,w(w({mb:"16px"},P),{},{children:Object(m.jsxs)(a.a,{flexDirection:"column",bgColor:"surface-default",padding:D+"px",overflow:"hidden",borderRadius:"12px",borderColor:"border-subdued",borderWidth:"light"===B?1:void 0,width:T,_hover:{bg:"surface-hovered"},onPress:function(){j&&j(v)},children:[Object(m.jsx)(g.a,{asset:v,borderRadius:"6px",size:T-2*D}),Object(m.jsx)(i.a,{typography:"Body2",height:"20px",mt:D+"px",numberOfLines:1,children:null!=(c=null!=(d=v.name)?d:v.collection.contractName)?c:""}),E?Object(m.jsx)(i.a,{typography:"Body2",height:"20px",color:"text-subdued",children:Object(m.jsx)(O.f,{value:0,decimals:2,convertValue:N>0?N:""})}):Object(m.jsx)(o.a,{height:"20px"})]})}))}))},3315:function(e,t,r){e.exports=r.p+"static/media/qrcode.1000b297.png"},3511:function(e,t,r){e.exports=r.p+"static/media/2.230c9a46.jpg"},3512:function(e,t,r){e.exports=r.p+"static/media/3.eb877d15.jpg"},3513:function(e,t,r){e.exports=r.p+"static/media/4.5ce6a80c.jpg"},3514:function(e,t,r){e.exports=r.p+"static/media/5.d97ce581.jpg"},3515:function(e,t,r){e.exports=r.p+"static/media/6.1d533a0a.jpg"},3516:function(e,t,r){e.exports=r.p+"static/media/7.f10074e1.jpg"},3517:function(e,t,r){e.exports=r.p+"static/media/8.900412ca.jpg"},3518:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHUAAABDCAMAAACV+bo+AAAAM1BMVEUAAAD///////////////////////////////////////////////////////////////+3leKCAAAAEXRSTlMAM4AvIBEHGCZwDEFgUHhoWGltnvkAAAIJSURBVFjDtdfbdoIwEIVhk8nkQAj4/k9bmraONpJBdth3tupH7R/W8rYtRGMi+9vFmxwZcr+MJ1NH7lJ3iuZnoT4k89h1LldTWDayq9xAzwZtP4nmdXG6yJRtgmlGPJD0D1MWRL3EnZypa9Ro3rrBj8q23fY3BSNTwoJMGcnJUVw8IRnLXWLHnYabJvwd4c5zIuNmezB1lxjMVkb/PzuOPdcjCcm5+Pgi/WBT5jcXCJpVc9dVgkYS6rndV/NoEwjaB/jI6y6QEFSjx00kaD3b8a4SXmdA0EC2QFioibtta7gbPzCHflmATSxoLdvhLo1MyOfZ2pVYfyITYrqy2KX8MpxsXSp8Nmh3xJztz3J9mOxjh9x4JiGaRTHfj+3zSjgc9HHT5+XZWLYDvdrXze5IWCdM2SbYZomOuAcT4ocpy1U954YjCd1tXaPO9q2bwSMv2baLt1u2Oyt8jWnT9kuf7AWuN/tvS3KXeL+7HrSebftfraOOuxJutgdTd9Nnrit2d0sJzS2r4zKQkJjZf3aRqfBgU8bingja09q5bFPNPXfpuA5MqOOa1Hk1jTaBoDmrnxDu+lMJoTWmzANMIOjuKRdzpOuzHt4pt/u+SrbAfCcswASC3kuIUVFpRskWnSuACYx1dyUxB7oJSAhwKQHm8KCLZuLuCiQEzN0hEw86GcUc7QIJIa4BzC+jMR4AxCU0PAAAAABJRU5ErkJggg=="},3519:function(e,t,r){e.exports=r.p+"static/media/HKGroteskWide-Black.c7356e78.otf"},3530:function(e,t,r){e.exports=r.p+"static/media/nft_pnl_empty_image.829dbd23.png"},3531:function(e,t,r){e.exports=r.p+"static/media/nft_pnl_empty_image_light.bf388bb9.png"},3552:function(e,t,r){"use strict";r.r(t),r.d(t,"parsePNLData",(function(){return Se}));var n=r(743),c=r(2),a=r.n(c),o=r(3),i=r.n(o),s=r(186),l=r(387),u=r(98),d=r(1106),b=r(3053),j=r(32),p=r(3093),f=r(110),O=r(326),h=r(163),x=r(85),g=r(10),m=r.n(g),y=r(16),v=r.n(y),w=r(3086),P=r(3186),S=r(234),_=r(79),A=r(70),k=r(3056),M=r(1),C=r(52),D=r(27),I=r(547),T=r(508),B=r(284),E=r(746),N=r(142),z=r(14),R=r(15),L=r(43),F=r(3487),W=r(176),U=r(3185),H=r(3063),V=r(3111),J=r(3067),K=r(36);function Z(e){var t=e.keyword,r=e.onAddressSearch,n=Object(W.i)(t,500).toLowerCase(),c=Object(M.useState)(!1),a=m()(c,2),o=a[0],s=a[1],l=Object(M.useState)(""),u=m()(l,2),d=u[0],b=u[1],j=Object(M.useState)(""),p=m()(j,2),f=p[0],O=p[1],h=Object(M.useCallback)(function(){var e=i()((function*(e){return L.a.serviceRevoke.lookupEnsName(e)}));return function(t){return e.apply(this,arguments)}}(),[]),x=Object(M.useCallback)(function(){var e=i()((function*(e){try{return yield L.a.validator.validateAddress(K.a.eth,e),!0}catch(t){return!1}}));return function(t){return e.apply(this,arguments)}}(),[]),g=Object(M.useCallback)(function(){var e=i()((function*(e){return yield L.a.serviceRevoke.getAddress(e,K.a.eth)}));return function(t){return e.apply(this,arguments)}}(),[]);return Object(M.useEffect)((function(){(null==n?void 0:n.length)>0&&i()((function*(){if(n!==d&&n.toLowerCase()!==f.toLowerCase()){s(!0);var e=yield Promise.all([h(n),g(n)]),t=m()(e,2),c=t[0],a=t[1];if(a){if(yield x(a)){var o=c;n.toLowerCase()!==a.toLowerCase()&&b(o=n),O(a),r({address:a.toLocaleLowerCase(),ens:o})}}else b("");s(!1)}}))()}),[n]),Object(M.useMemo)((function(){return{loading:o}}),[o])}var G=r(3064),Y=r(1109),X=r(125),q=r(3113),Q=r(3065),$=r(3075),ee=r(0),te=["network","loading"];function re(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var ne=function(){return Object(ee.jsx)(ee.Fragment,{children:[1,2,3,4,5].map((function(e){return Object(ee.jsxs)(k.a,{children:[Object(ee.jsx)(k.a.Column,{children:Object(ee.jsx)(d.a,{width:"40px",height:"40px",borderRadius:"12px"})}),Object(ee.jsx)(k.a.Column,{flex:1,text:{label:Object(ee.jsx)(b.a,{shape:"Body1"}),description:Object(ee.jsx)(b.a,{shape:"Body2"})}}),Object(ee.jsx)(k.a.Column,{w:"200px",text:{label:Object(ee.jsx)(b.a,{shape:"Body1"}),description:Object(ee.jsx)(b.a,{shape:"Body2"})}}),Object(ee.jsx)(k.a.Column,{w:"160px",text:{label:Object(ee.jsx)(b.a,{shape:"Body1"}),description:Object(ee.jsx)(b.a,{shape:"Body2"})}}),Object(ee.jsx)(k.a.Column,{w:"140px",alignItems:"flex-end",text:{label:Object(ee.jsx)(b.a,{shape:"Body1"})}}),Object(ee.jsx)(w.a,{till:"lg",children:Object(ee.jsx)(k.a.Column,{w:"140px",alignItems:"flex-end",text:{label:Object(ee.jsx)(b.a,{shape:"Body1"})}})})]},"Skeleton"+e)}))})},ce=function(e){var t=e.network,r=e.loading,n=v()(e,te),c=Object(Q.a)(),o=c.formatDistanceStrict,i=c.format,s=Object(T.a)(),l=Object(C.u)(),u=Object(M.useCallback)((function(e){t&&l.navigate(N.c.Modal,{screen:N.b.Collectibles,params:{screen:q.CollectiblesModalRoutes.NFTDetailModal,params:{asset:e,network:t,isOwner:!1}}})}),[l,t]),d=Object(M.useCallback)((function(e){var r,n,c,a,l,d,b,j,p=e.item,f=p.asset,O=p.entry,h=p.exit,x=p.profit,g=Object(J.a)({price:new D.BigNumber(x).decimalPlaces(3).toString(),symbol:p.exit.tradeSymbol});g=(x>=0?"+":"")+g,"Mint"===O.eventType?j=s.formatMessage({id:"content__mint"}):"Transfer"===O.eventType&&(j=s.formatMessage({id:"action__receive"}));var m,y=new D.BigNumber(null!=(r=O.tradePrice)?r:0).decimalPlaces(3).toString(),v=new D.BigNumber(null!=(n=null!=(c=null!=(a=h.internalTxValue)?a:h.tokenTxValue)?c:h.tradePrice)?n:0).decimalPlaces(3).toString(),M=p.tokenId?"#"+p.tokenId:"\u2013";"0x57f1887a8bf19b14fc0df6fd9b2acc9af147ea85"===(null==(l=p.contractAddress)?void 0:l.toLowerCase())&&(M=null==(m=p.asset)?void 0:m.name);return Object(ee.jsxs)(k.a,{children:[Object(ee.jsx)(X.a,{flex:1,flexDirection:"row",alignItems:"center",onPress:function(){f&&u(f)},children:function(e){var t=e.isHovered;return Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsx)(k.a.Column,{children:p.asset&&Object(ee.jsx)($.a,{asset:f,borderRadius:"12px",size:40,opacity:t?80:void 0})}),Object(ee.jsx)(k.a.Column,{flex:1,ml:"12px",text:{label:p.contractName,labelProps:{typography:"Body1Strong",isTruncated:!0},description:M,descriptionProps:{isTruncated:!0}}})]})}}),Object(ee.jsx)(w.a,{till:"md",children:Object(ee.jsx)(P.a,{label:i(new Date(O.timestamp),"yyyy-MM-dd HH:mm"),placement:"top left",children:Object(ee.jsx)(k.a.Column,{w:"200px",text:{label:Object(ee.jsxs)(S.a,{space:1,alignItems:"center",children:[Object(ee.jsx)(A.a,{typography:"Body1Strong",numberOfLines:1,children:Object(J.a)({price:y,symbol:O.tradeSymbol})}),j&&Object(ee.jsx)(Y.a,{type:"default",size:"sm",title:j})]}),description:Object(ee.jsxs)(S.a,{space:1,alignItems:"center",children:[Object(ee.jsx)(_.a,{name:"GasIllus",size:16,color:"icon-subdued"}),Object(ee.jsx)(A.a,{typography:"Body2",numberOfLines:1,color:"text-subdued",children:Object(J.a)({price:new D.BigNumber(null!=(d=O.gasFee)?d:0).decimalPlaces(3).toString(),networkId:t.id})})]})}})})}),Object(ee.jsx)(w.a,{till:"md",children:Object(ee.jsx)(P.a,{label:i(new Date(h.timestamp),"yyyy-MM-dd HH:mm"),placement:"top left",children:Object(ee.jsx)(k.a.Column,{w:"160px",text:{label:Object(J.a)({price:v,symbol:h.tradeSymbol}),description:Object(ee.jsxs)(S.a,{space:1,alignItems:"center",children:[Object(ee.jsx)(_.a,{name:"GasIllus",size:16,color:"icon-subdued"}),Object(ee.jsx)(A.a,{typography:"Body2",numberOfLines:1,color:"text-subdued",children:Object(J.a)({price:new D.BigNumber(null!=(b=h.gasFee)?b:0).decimalPlaces(3).toString(),networkId:t.id})})]})}})})}),Object(ee.jsx)(k.a.Column,{w:"140px",text:{label:g,labelProps:{isTruncated:!0,textAlign:"right",numberOfLines:1,color:x>0?"text-success":"text-critical"},description:o(h.timestamp,O.timestamp),descriptionProps:{display:{lg:"none"},textAlign:"right"}}}),Object(ee.jsx)(w.a,{till:"lg",children:Object(ee.jsx)(k.a.Column,{w:"140px",text:{label:o(h.timestamp,O.timestamp),labelProps:{typography:"Body1Strong",textAlign:"right"}}})})]})}),[i,o,u,s,t.id]),b=Object(M.useCallback)((function(){return r?Object(ee.jsx)(ne,{}):null}),[r]);return Object(ee.jsx)(G.a,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?re(Object(r),!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):re(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({renderItem:d,showDivider:!0,keyExtractor:function(e){return e.contractAddress+e.tokenId},showsVerticalScrollIndicator:!1,ListFooterComponent:b,contentContainerStyle:{width:"100%",maxWidth:1072,alignSelf:"center",padding:32}},n))},ae=["network","loading"];function oe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ie(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(r),!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var se=function(){return Object(ee.jsx)(ee.Fragment,{children:[1,2,3,4,5].map((function(e){return Object(ee.jsxs)(k.a,{children:[Object(ee.jsx)(k.a.Column,{children:Object(ee.jsx)(d.a,{width:"40px",height:"40px",borderRadius:"12px"})}),Object(ee.jsx)(k.a.Column,{flex:1,text:{label:Object(ee.jsx)(b.a,{shape:"Body1"}),description:Object(ee.jsx)(b.a,{shape:"Body2"})}}),Object(ee.jsx)(k.a.Column,{alignItems:"flex-end",flex:1,text:{label:Object(ee.jsx)(b.a,{shape:"Body1"}),description:Object(ee.jsx)(b.a,{shape:"Body2"})}})]},"Skeleton"+e)}))})},le=function(e){var t=e.network,r=e.loading,n=v()(e,ae),c=Object(C.u)(),a=Object(M.useCallback)((function(e){t&&c.navigate(N.c.Modal,{screen:N.b.Collectibles,params:{screen:q.CollectiblesModalRoutes.NFTDetailModal,params:{asset:e,network:t,isOwner:!1}}})}),[c,t]),o=Object(Q.a)().formatDistanceStrict,i=Object(M.useCallback)((function(e){var t,r=e.item,n=r.asset,c=r.entry,i=r.exit,s=r.profit,l=Object(J.a)({price:new D.BigNumber(s).decimalPlaces(3).toString(),symbol:r.exit.tradeSymbol});l=(s>=0?"+":"")+l;var u,d=r.tokenId?"#"+r.tokenId:"\u2013";"0x57f1887a8bf19b14fc0df6fd9b2acc9af147ea85"===(null==(t=r.contractAddress)?void 0:t.toLowerCase())&&(d=null==(u=r.asset)?void 0:u.name);return Object(ee.jsxs)(k.a,{children:[Object(ee.jsxs)(X.a,{flex:1,flexDirection:"row",alignItems:"center",onPress:function(){n&&a(n)},children:[Object(ee.jsx)(k.a.Column,{children:Object(ee.jsx)($.a,{asset:n,borderRadius:"12px",size:40})}),Object(ee.jsx)(k.a.Column,{flex:1,ml:"12px",text:{label:r.contractName,labelProps:{typography:"Body1Strong",isTruncated:!0},description:d,descriptionProps:{isTruncated:!0}}})]}),Object(ee.jsx)(k.a.Column,{text:{label:l,labelProps:{textAlign:"right",color:s>0?"text-success":"text-critical"},description:o(i.timestamp,c.timestamp),descriptionProps:{isTruncated:!0,textAlign:"right"}}})]})}),[o,a]),s=Object(M.useCallback)((function(){return r?Object(ee.jsx)(se,{}):Object(ee.jsx)(j.a,{h:"24px"})}),[r]);return Object(ee.jsx)(j.a,{flex:1,children:Object(ee.jsx)(G.a,ie(ie({renderItem:i,keyExtractor:function(e){return e.contractAddress+" "+e.tokenId},showsVerticalScrollIndicator:!1,ListFooterComponent:s},n),{},{p:4}))})},ue=r(390),de=r(268),be=r(744),je=r(4420),pe=r(24),fe=r(422),Oe=r.n(fe),he=r(3530),xe=r.n(he),ge=r(3531),me=r.n(ge),ye=function(e){var t,r=e.onAddressSearch,n=Object(C.u)(),c=Object(W.f)(),a=c.network,o=c.account,i=Object(T.a)(),l=Object(be.a)().themeVariant,d=Object(U.a)({networkId:null!=(t=null==a?void 0:a.id)?t:""}).connectAndCreateExternalAccount,b=Object(M.useCallback)((function(){n.navigate(N.c.Modal,{screen:N.b.NFTMarket,params:{screen:V.a.CalculatorModal,params:void 0}})}),[n]);Object(M.useEffect)((function(){null!=o&&o.address&&r({address:null==o?void 0:o.address})}),[null==o?void 0:o.address,r]);var p=Object(M.useCallback)((function(){return Object(ee.jsx)(S.a,{children:Object(ee.jsx)(s.a,{mr:{base:2.5,md:8},type:"plain",size:"lg",name:"CalculatorOutline",circle:!0,onPress:b})})}),[b]);Object(M.useLayoutEffect)((function(){n.setOptions({title:"",headerRight:p})}),[p,n]);var h=Object(M.useState)(""),g=m()(h,2),y=g[0],v=g[1],w=Z({keyword:y,onAddressSearch:r}).loading,P=Object(x.a)(),_=Object(C.t)();return Object(M.useEffect)((function(){return"ios"===pe.a.OS&&Oe.a.setEnable(!_),function(){"ios"===pe.a.OS&&Oe.a.setEnable(!0)}}),[_]),Object(ee.jsxs)(j.a,{flex:1,alignItems:"center",px:"16px",pt:{base:"48px",md:"96px"},children:[Object(ee.jsx)(je.a,{from:{opacity:0,scale:.5},animate:{opacity:1,scale:1},children:Object(ee.jsx)(de.a,{width:358,height:155,source:"light"===l?me.a:xe.a})}),Object(ee.jsx)(A.a,{textAlign:"center",typography:{sm:"DisplayMedium",md:"DisplaySmall"},children:i.formatMessage({id:"empty__pnl"})}),Object(ee.jsx)(S.a,{mt:"24px",w:P?"full":"400px",justifyContent:"center",children:Object(ee.jsx)(ue.a,{flex:1,size:P?"xl":"default",value:y,onChangeText:v,leftIconName:"SearchOutline",numberOfLines:1,placeholder:i.formatMessage({id:"form__enter_address_ens_name"}),rightCustomElement:!0===w?Object(ee.jsx)(f.a,{p:{base:2,md:1},maxW:"32px",maxH:"32px",children:Object(ee.jsx)(O.b,{size:"sm"})}):null})}),Object(ee.jsxs)(S.a,{w:P?"full":"400px",mt:"24px",space:"12px",alignItems:"center",justifyContent:"center",children:[Object(ee.jsx)(j.a,{height:"1px",bgColor:"divider",flex:1}),Object(ee.jsx)(A.a,{typography:"Body2",color:"text-subdued",children:"OR"}),Object(ee.jsx)(j.a,{height:"1px",bgColor:"divider",flex:1})]}),Object(ee.jsx)(u.a,{onPress:d,type:"primary",size:P?"lg":"base",mt:"24px",children:i.formatMessage({id:"action__connect_wallet"})})]})},ve=["loading","network","accountAddress","onAddressSearch"];function we(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Pe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?we(Object(r),!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):we(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Se(e){var t=new D.BigNumber(0),r=new D.BigNumber(0),n=new D.BigNumber(0),c=new D.BigNumber(0),a=0,o=0;return e.forEach((function(e){var i,s,l,u,d,b,j=e.entry,p=e.exit,f=new D.BigNumber(null!=(i=j.gasFee)?i:0),O=new D.BigNumber(null!=(s=j.tradePrice)?s:0),h=new D.BigNumber(null!=(l=p.gasFee)?l:0),x=new D.BigNumber(null!=(u=null!=(d=null!=(b=p.internalTxValue)?b:p.tokenTxValue)?d:p.tradePrice)?u:0),g=O.plus(f).plus(h),m=x.minus(g);m.toNumber()>0?(a+=1,r=r.plus(m)):m.toNumber()<0&&(o+=1,n=n.plus(m)),e.profit=m.toNumber(),e.spend=g.toNumber(),t=t.plus(m),c=c.plus(g)})),{totalProfit:t,totalWinProfit:r,totalLoseProfit:n,win:a,lose:o,spend:c,content:e}}var _e=function(){var e=Object(T.a)();return Object(ee.jsxs)(k.a,{mt:"48px",px:0,py:0,children:[Object(ee.jsx)(k.a.Column,{flex:1,text:{label:"NFT",labelProps:{typography:"Subheading",color:"text-subdued"}}}),Object(ee.jsx)(k.a.Column,{w:"200px",text:{label:e.formatMessage({id:"content__entry_price"}),labelProps:{typography:"Subheading",color:"text-subdued"}}}),Object(ee.jsx)(k.a.Column,{w:"160px",text:{label:Object(ee.jsx)(P.a,{label:e.formatMessage({id:"content__royalty_fees_are_excluded"}),placement:"top left",children:Object(ee.jsxs)(S.a,{alignItems:"center",space:1,alignSelf:"flex-start",children:[Object(ee.jsx)(A.a,{typography:"Subheading",color:"text-subdued",children:e.formatMessage({id:"content__exit_value"})}),Object(ee.jsx)(_.a,{name:"QuestionMarkCircleMini",size:16,color:"icon-subdued"})]})}),labelProps:{typography:"Subheading",color:"text-subdued"}}}),Object(ee.jsx)(k.a.Column,{w:"140px",text:{label:e.formatMessage({id:"content__profit"}),labelProps:{typography:"Subheading",color:"text-subdued",textAlign:"right"}}}),Object(ee.jsx)(w.a,{till:"lg",children:Object(ee.jsx)(k.a.Column,{w:"140px",text:{label:e.formatMessage({id:"content__hodl_duration"}),labelProps:{typography:"Subheading",color:"text-subdued",textAlign:"right"}}})})]})},Ae=function(e){var t=e.loading,r=e.network,n=e.accountAddress,c=e.onAddressSearch,a=v()(e,ve),o=a.totalProfit,i=a.win,s=a.lose,g=a.spend,y="0";o&&(y=new D.BigNumber(o).decimalPlaces(3).toString(),y=(o.toNumber()>=0?"+":"")+y),y=Object(J.a)({price:y,networkId:r.id});var P=Object(M.useState)(null!=n?n:""),S=m()(P,2),_=S[0],k=S[1],I=Object(T.a)(),z=Object(M.useRef)(),L=Z({keyword:_,onAddressSearch:function(e){var t=e.ens,r=e.address;z.current=t,r&&(k(t||Object(B.c)(r)),c(r))}}).loading,F=Object(x.a)(),U=Object(C.u)(),H=Object(M.useCallback)((function(){if(R.a.isNative){var e,t="";t=z.current&&(null==(e=z.current)?void 0:e.length)>0?z.current:Object(B.c)(_),U.navigate(N.c.Modal,{screen:N.b.NFTMarket,params:{screen:V.a.ShareNFTPNLModal,params:{network:r,nameOrAddress:t,data:a}}})}else Object(E.a)("https://app.onekey.so/pnl"),h.a.show({title:I.formatMessage({id:"msg__link_copied"})})}),[I,_,U,r,a]),K=Object(W.f)().account;Object(M.useEffect)((function(){null!=K&&K.address&&k(null==K?void 0:K.address)}),[null==K?void 0:K.address]),Object(M.useEffect)((function(){0===_.length&&null!=K&&K.address&&c(null==K?void 0:K.address)}),[null==K?void 0:K.address,_,c]);var G=Object(M.useMemo)((function(){return 0!==_.length&&!0!==L}),[_,L]);return Object(ee.jsxs)(j.a,{width:"full",p:2,pb:{base:3,md:0},children:[Object(ee.jsx)(j.a,{width:"full",flexDirection:"row",children:Object(ee.jsx)(p.a,{w:"full",maxW:"400px",value:_,onChangeText:k,rightIconName:G?"XCircleMini":void 0,rightElement:Object(ee.jsx)(f.a,{height:"full",right:"8px",children:!0===L?Object(ee.jsx)(O.b,{size:"sm"}):null}),onClear:function(){k("")},placeholder:I.formatMessage({id:"form__enter_address_ens_name"})})}),Object(ee.jsxs)(j.a,{flexDirection:{sm:"row"},alignItems:{sm:"center"},justifyContent:"space-between",mt:"24px",children:[Object(ee.jsxs)(j.a,{children:[Object(ee.jsx)(A.a,{typography:"Body1",color:"text-subdued",children:I.formatMessage({id:"content__total_profits"})}),o?Object(ee.jsx)(A.a,{typography:"Display2XLarge",color:o.toNumber()>0?"text-success":"text-critical",children:y}):Object(ee.jsx)(b.a,{shape:"Display2XLarge"}),Object(ee.jsxs)(j.a,{flexDirection:"row",mt:"8px",children:[Object(ee.jsxs)(j.a,{flexDirection:"row",mr:"24px",alignItems:"center",children:[void 0!==i?Object(ee.jsx)(A.a,{mr:"6px",typography:"Body1Strong",color:"text-success",children:i}):Object(ee.jsx)(b.a,{shape:"Body1"}),Object(ee.jsx)(A.a,{typography:"Body1",color:"text-subdued",children:I.formatMessage({id:"content__winning_flips"})})]}),Object(ee.jsxs)(j.a,{flexDirection:"row",alignItems:"center",mr:"24px",children:[void 0!==s?Object(ee.jsx)(A.a,{mr:"6px",typography:"Body1Strong",color:"text-critical",children:s}):Object(ee.jsx)(b.a,{shape:"Body1"}),Object(ee.jsx)(A.a,{typography:"Body1",color:"text-subdued",children:I.formatMessage({id:"content__losing_flips"})})]}),Object(ee.jsx)(w.a,{from:"base",till:"md",children:Object(ee.jsxs)(j.a,{flexDirection:"row",alignItems:"center",children:[void 0!==g?Object(ee.jsx)(A.a,{mr:"6px",typography:"Body1Strong",children:Object(J.a)({price:new D.BigNumber(g).decimalPlaces(3).toString(),networkId:r.id})}):Object(ee.jsx)(d.a,{width:"24px",height:"12px",mr:"6px"}),Object(ee.jsx)(A.a,{typography:"Body1",color:"text-subdued",children:I.formatMessage({id:"content__spent"})})]})})]})]}),Object(ee.jsx)(u.a,{isDisabled:t,type:"primary",size:F?"lg":"base",leftIconName:"ArrowTopRightOnSquareSolid",onPress:H,mt:{base:6,sm:0},children:I.formatMessage({id:"action__share"})})]}),Object(ee.jsx)(w.a,{from:"base",till:"md",children:Object(ee.jsx)(_e,{})}),Object(ee.jsx)(l.a,{mt:{base:"24px",md:"8px"}})]})},ke={},Me=function(e){var t,r=e.accountAddress,c=Object(x.a)(),a=Object(T.a)(),o=Object(W.f)().account,l=Object(C.u)(),d=Object(H.b)(),b=L.a.serviceNFT,p=Object(U.a)({networkId:null!=(t=null==d?void 0:d.id)?t:""}).connectAndCreateExternalAccount,f=Object(M.useCallback)((function(){l.navigate(N.c.Modal,{screen:N.b.NFTMarket,params:{screen:V.a.CalculatorModal,params:void 0}})}),[l]),O=Object(M.useMemo)((function(){return void 0===(null==o?void 0:o.id)?Object(ee.jsx)(u.a,{onPress:p,children:a.formatMessage({id:"action__connect_wallet"})}):Object(ee.jsx)(F.a,{type:c?"basic":"plain",showAddress:!c})}),[null==o?void 0:o.id,p,a,c]),h=Object(M.useCallback)((function(){return Object(ee.jsxs)(I.a,{space:2,alignItems:"center",mr:{base:2.5,md:8},justifyContent:"flex-end",children:[O,Object(ee.jsx)(s.a,{type:"plain",size:"lg",name:"CalculatorOutline",circle:!0,onPress:f})]})}),[f,O]);Object(M.useLayoutEffect)((function(){l.setOptions({title:"",headerRight:h})}),[h,l]);var g=Object(M.useState)([]),y=m()(g,2),v=y[0],w=y[1],P=Object(M.useRef)({totalProfit:new D.BigNumber(0),totalWinProfit:new D.BigNumber(0),totalLoseProfit:new D.BigNumber(0),lose:0,win:0,spend:new D.BigNumber(0),content:[]}),S=Object(M.useRef)(0),_=Object(M.useState)({}),A=m()(_,2),k=A[0],B=A[1],E=Object(M.useState)(r),z=m()(E,2),R=z[0],J=z[1],K=Object(M.useState)(!0),Z=m()(K,2),G=Z[0],Y=Z[1],X=Object(M.useCallback)(function(){var e=i()((function*(e){var t,r=50*S.current,n=null==(t=P.current)?void 0:t.content.slice(r,r+50),c=n.map((function(e){return{contract_address:e.contractAddress,token_id:e.tokenId}}));if(0!==n.length){var a=yield b.batchAsset({chain:null==d?void 0:d.id,items:c});if(a){var o={};a.forEach((function(e){var t=e.contractAddress+"-"+e.tokenId;o[t]=e})),n.forEach((function(e){var t=e.contractAddress+"-"+e.tokenId,r=o[t];r&&(e.asset=r)})),v.length+n.length>=P.current.content.length&&Y(!1),w(0===e?n:function(e){return e.concat(n)})}}else Y(!1)}));return function(t){return e.apply(this,arguments)}}(),[v.length,null==d?void 0:d.id,b]),q=Object(M.useCallback)(function(){var e=i()((function*(e){var t=ke[e];if(t)P.current=t,B(t),X(0);else{var r=yield b.getPNLData({address:e}),n=Se(r);P.current=n,ke[e]=n,B(n),r&&X(0)}}));return function(t){return e.apply(this,arguments)}}(),[X,b]);Object(M.useEffect)((function(){Y(!0),B({totalProfit:new D.BigNumber(0),spend:new D.BigNumber(0),win:0,lose:0}),S.current=0,w([]),q(R)}),[R]);var Q=Object(M.useCallback)((function(){return Object(ee.jsx)(Ae,Pe({accountAddress:r,network:d,onAddressSearch:J,content:P.current.content,loading:0===v.length},k))}),[r,v.length,d,k]),$=Object(M.useCallback)((function(){return G?null:Object(ee.jsx)(n.a,{emoji:"\ud83d\udcb0",title:a.formatMessage({id:"empty__no_sales_record"}),subTitle:a.formatMessage({id:"empty__no_sales_record_desc"})})}),[a,G]),te=Object(M.useMemo)((function(){return{data:v,ListHeaderComponent:Q,ListEmptyComponent:$,onEndReached:function(){S.current+=1,X(S.current)}}}),[$,Q,X,v]);return Object(ee.jsx)(j.a,{flex:1,children:c?Object(ee.jsx)(le,Pe(Pe({},te),{},{loading:G,network:d})):Object(ee.jsx)(ce,Pe(Pe({},te),{},{loading:G,network:d}))})};t.default=function(){var e=Object(W.f)(),t=e.network,r=e.account,n=(null==t?void 0:t.impl)===z.C,c=Object(M.useState)((function(){return{address:n?null==r?void 0:r.address:void 0}})),a=m()(c,2),o=a[0],i=a[1];return null!=o&&o.address?Object(ee.jsx)(Me,{accountAddress:null==o?void 0:o.address,ens:o.ens}):Object(ee.jsx)(ye,{onAddressSearch:i})}},4382:function(e,t,r){e.exports=r.p+"static/media/1.d430d548.jpg"},4383:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZIAAABgAQMAAAANYWYfAAAABlBMVEUAAAAHIBbBeD65AAAAAXRSTlMAQObYZgAAAE1JREFUWMPt2EENACAQA8FLEIAkrCMJASQHh4P+mrD7HwFtRIxUugBT9ZTamGdaii1MmZSbGAwGg8FgMBgM5hPjvGWcjfN2tjbOX42vOVMwcq8cF+cmAAAAAElFTkSuQmCC"},4384:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAkwAAACWAgMAAABRMD8wAAAACVBMVEUyxlUAAAA0x1n77myhAAAAAnRSTlMkAId7LJ4AAADgSURBVHja7dzBCUIxEEXRYDn2owursQlLEMQqJSgElO9/uwnk3ArOZnYz007vLs/67h8LExPTZkxF/ZoerbYjE9NSpnMfxAlMvRsTE9N2TDX9mtocMTEtYuoDOJGpx8TE9Cemmobp2mbqwMTEtBdTFlMWUxZTFlMWUxZTFlMWUxZTFlMWUxZTFlMWUxZTFlMWUxZTFlMWUxZTFlMWUxZTFlMWUxZTFlMWUxZTFlPWQqYZd0aZmJi2YipomKa8TWJiWsM04y0uExPTd0wVDdPEP1+YmNYw1cfExLQbU0nD9ALalVI80UqWBgAAAABJRU5ErkJggg=="},4385:function(e,t,r){e.exports=r.p+"static/media/empty.fc21266c.png"},4386:function(e,t,r){e.exports=r.p+"static/media/empty_bg.f6f52b21.jpg"},4415:function(e,t,r){"use strict";r.r(t);var n=r(32),c=r(125),a=r(234),o=r(79),i=r(426),s=r(110),l=r(268),u=r(2),d=r.n(u),b=r(3),j=r.n(b),p=r(1),f=r(27),O=r.n(f),h=r(1116),x=r(508),g=r(284),m=r(114),y=r(4382),v=r.n(y),w=r(4383),P=r.n(w),S=r(4384),_=r.n(S),A=r(4385),k=r.n(A),M=r(4386),C=r.n(M),D=r(3552),I=r(36),T=r(22),B=r(43),E=r(176),N=r(142),z=r(131),R=r(3092),L=r(10),F=r.n(L),W=r(330),U=r(76),H=r(14),V=r(42),J=function(e){return!!Object(z.appSelector)((function(e){var t,r;return null!=(t=null==(r=e.settings.devMode)?void 0:r.enableExternalAccountAnnualReport)&&t}))||![U.a,U.e].includes(e.type)},K=r(0);function Z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function G(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(r),!0).forEach((function(t){d()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.default=function(){Object(R.f)();var e=Object(x.a)(),t=Object(E.o)(),r=Object(E.p)().openAccountSelector,u=function(){var e=Object(E.f)().account,t=Object(V.l)().wallets,r=Object(p.useState)(),n=F()(r,2),c=n[0],a=n[1],o=Object(p.useCallback)(j()((function*(){var e=yield B.a.engine.getAccounts(t.filter(J).map((function(e){return e.accounts})).flat(),I.a.eth);(null==e?void 0:e.length)>0&&a(null==e?void 0:e[0])})),[t]);if(Object(p.useEffect)((function(){o()}),[o]),null!=e&&e.coinType&&Object(W.d)(null==e?void 0:e.coinType,H.C)){var i=t.find((function(t){return t.accounts.includes(null==e?void 0:e.id)}));if(i&&J(i))return e}return c}(),d=I.a.eth,b=Object(h.a)(j()((function*(){return null!=u&&u.address?B.a.serviceRevoke.lookupEnsName(u.address):""})),[null==u?void 0:u.address]),f=b.result,y=b.loading,w=b.error,S=b.execute,A=Object(h.a)(j()((function*(){if(null==u||!u.id)return[];var e=u.id,t=B.a.servicePrice,r=B.a.serviceToken,n=(yield r.fetchAccountTokens({activeNetworkId:d,activeAccountId:e})).filter((function(e){return!e.security})),c=yield t.fetchSimpleTokenPrice({networkId:d,accountId:e,tokenIds:n.map((function(e){return e.tokenIdOnNetwork})),vsCurrency:"usd"}),a=Object(z.appSelector)((function(e){var t,r,n,c;return null!=(t=null==(r=e.tokens)||null==(n=r.accountTokensBalance)||null==(c=n[d])?void 0:c[u.id])?t:{}}));return n.map((function(e){var t,r=(a[Object(m.g)(e)]||{balance:"0"}).balance,n=null==(t=c[e.tokenIdOnNetwork?d+"-"+e.tokenIdOnNetwork:d])?void 0:t.usd,o=new O.a(null!=r?r:"0").multipliedBy(null!=n?n:0);return G(G({},e),{},{price:n,balance:r,value:o})})).sort((function(e,t){return t.value.minus(e.value).toNumber()})).filter((function(e){return e.value.isGreaterThan(0)}))})),[d,null==u?void 0:u.id]),M=A.result,L=A.loading,U=A.execute,Z=A.error,Y=Object(h.a)(j()((function*(){return null!=u&&u.address?B.a.serviceNFT.fetchNFT({accountId:u.address,networkId:d,ignoreError:!1}):[]})),[null==u?void 0:u.address,d]),X=Y.result,q=Y.loading,Q=Y.error,$=Y.execute,ee=Object(h.a)(j()((function*(){var e,t,r,n=B.a.serviceNFT;if(null!=u&&u.address){var c,a=yield n.getPNLData({address:null==u?void 0:u.address,ignoreError:!1}),o=Object(D.parsePNLData)(null!=a?a:[]),i=null!=(e=null==o||null==(t=o.content)?void 0:t.sort((function(e,t){return t.profit-e.profit})).slice(0,5))?e:[],s=[];if(i.length)s=null!=(c=yield n.batchAsset({ignoreError:!1,chain:d,items:i.map((function(e){return{contract_address:e.contractAddress,token_id:e.tokenId}}))}))?c:[];return{data:G(G({},o||{}),{},{content:i}),assets:null==(r=s)?void 0:r.reduce((function(e,t){var r,n=t.contractAddress+"-"+t.tokenId;return G(G({},e),{},((r={})[n]=t,r))}),{})}}})),[null==u?void 0:u.address]),te=ee.result,re=ee.loading,ne=ee.error,ce=ee.execute,ae=Object(p.useMemo)((function(){var e=[y,L,q,re],t=e.reduce((function(t,r){return r?t:t+100/e.length}),0);return Math.floor(t)}),[y,L,q,re]),oe=Object(p.useMemo)((function(){return ae>=100}),[ae]),ie=Object(p.useMemo)((function(){return y?"loading__loading_address_information":re?"loading__loading_nft_details":q?"loading__loading_nft_profit_data":L?"loading__loading_token_price_data":void 0}),[y,L,q,re]),se=Object(p.useMemo)((function(){return w?"loading__address_information_loading_failed_please_try_again":Z?"loading__token_price_data_loading_failed_please_try_again":ne?"loading__nft_profit_data_loading_failed_please_try_again":Q?"loading__nft_detailed_data_loading_failed_please_try_again":void 0}),[w,Z,Q,ne]),le=Object(p.useCallback)((function(){T.a.http.error("AnnualReport retry",{ensError:w,tokenError:Z,nftError:Q,pnlError:ne}),w&&(null==S||S()),Z&&(null==U||U()),Q&&(null==$||$()),ne&&(null==ce||ce())}),[S,U,$,ce,w,Z,Q,ne]),ue=Object(p.useMemo)((function(){var e;return f||Object(g.c)(null!=(e=null==u?void 0:u.address)?e:"")}),[f,null==u?void 0:u.address]),de=Object(p.useMemo)((function(){return u?oe?Object(K.jsx)(R.a,{w:196,h:50,bg:_.a,onPress:function(){if(se)return null==le?void 0:le();t.canGoBack()&&t.goBack(),t.navigate(N.c.Root,{screen:N.a.AnnualReport,params:{name:ue,tokens:M,nfts:X,pnls:te,account:u,networkId:d}})},children:Object(K.jsx)(R.d,{fontSize:"16",fontWeight:"600",lineHeight:"50px",children:se?e.formatMessage({id:"action__retry"}):"START"})}):Object(K.jsx)(R.a,{w:134,h:32,bg:P.a,children:Object(K.jsx)(R.d,{textTransform:"none",fontSize:"16",fontWeight:"600",color:"#34C759",children:e.formatMessage({id:"content__loading"},{0:ae+"%"})})}):null}),[se,le,d,u,e,ae,oe,t,M,X,te,ue]);return ue?Object(K.jsxs)(R.b,{bg:v.a,showHeaderLogo:!0,children:[Object(K.jsx)(i.a,{flex:"1",flexDirection:"column-reverse",children:Object(K.jsx)(R.d,{fontSize:"48",useCustomFont:!0,children:e.formatMessage({id:"title__my_on_chain_journey_uppercase"})})}),ue?Object(K.jsxs)(s.a,{w:"full",mt:"37px",children:[Object(K.jsx)(a.a,{alignItems:"center",children:Object(K.jsx)(c.a,{onPress:function(){r({})},children:Object(K.jsxs)(a.a,{alignItems:"center",children:[Object(K.jsxs)(R.d,{mr:"2",fontSize:"24",textTransform:"none",children:["Hi, ",ue]}),Object(K.jsx)(o.a,{name:"ChevronDownMini",color:"text-on-primary"})]})})}),Object(K.jsx)(n.a,{borderLeftWidth:"4px",borderRightWidth:"4px",borderColor:"rgba(68, 132, 96, 0.46)",px:"1",height:"25px",mt:"7",children:Object(K.jsx)(R.d,{fontSize:"16",lineHeight:"25px",textTransform:"none",fontWeight:"400",w:"full",color:se&&!ie?"#FFCC00":"#E2E2E8",children:e.formatMessage({id:ie||se||"content__check_out_what_s_your_identity_on_the_blockchain"})})})]}):null,Object(K.jsx)(s.a,{w:"full",mt:ue?"7":"162px",mb:"72px",children:de}),Object(K.jsx)(R.d,{fontSize:"10",color:"#8C8CA1",fontWeight:"400",textTransform:"none",textAlign:"center",lineHeight:"20px",children:e.formatMessage({id:"content__the_statistical_scope_is_limited_to_eth_networks_all_data_comes_from_the_blockchain_browser"})})]}):Object(K.jsxs)(R.b,{bg:C.a,containerProps:{position:"relative",px:0,flexDirection:"column"},children:[Object(K.jsx)(R.d,{useCustomFont:!0,fontWeight:"600",fontSize:"24px",lineHeight:"34px",px:"6",children:e.formatMessage({id:"content__in_2022_you_dont_have_a_story_left_on_the_chain"})}),Object(K.jsx)(s.a,{flex:"1",children:Object(K.jsx)(l.a,{source:k.a,w:300,h:300})}),Object(K.jsx)(R.c,{})]})}}}]);